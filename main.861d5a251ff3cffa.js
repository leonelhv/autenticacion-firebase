"use strict";(self.webpackChunkautenticacion_firebase=self.webpackChunkautenticacion_firebase||[]).push([[179],{2011:(et,ve,N)=>{N.d(ve,{Dh:()=>xe,GT:()=>de,cc:()=>Oe,on:()=>De,pX:()=>ae,xv:()=>me});var f=N(4650),O=N(9260);et=N.hmd(et);const X=["ngOnDestroy"],ae=(K,ye,fe,we={})=>new Proxy(K,{get:(be,pe)=>fe.runOutsideAngular(()=>{var he;if(K[pe])return!(null===(he=we?.spy)||void 0===he)&&he.get&&we.spy.get(pe,K[pe]),K[pe];if(X.indexOf(pe)>-1)return()=>{};const Re=ye.toPromise().then(W=>{const Y=W&&W[pe];return"function"==typeof Y?Y.bind(W):Y&&Y.then?Y.then(ue=>fe.run(()=>ue)):fe.run(()=>Y)});return new Proxy(()=>{},{get:(W,Y)=>Re[Y],apply:(W,Y,ue)=>Re.then($=>{var B;const ee=$&&$(...ue);return!(null===(B=we?.spy)||void 0===B)&&B.apply&&we.spy.apply(pe,ue,ee),ee})})})}),de=(K,ye)=>{ye.forEach(fe=>{Object.getOwnPropertyNames(fe.prototype||fe).forEach(we=>{Object.defineProperty(K.prototype,we,Object.getOwnPropertyDescriptor(fe.prototype||fe,we))})})};class se{constructor(ye){return ye}}const xe=new f.OlP("angularfire2.app.options"),me=new f.OlP("angularfire2.app.name");function De(K,ye,fe){const be="object"==typeof fe&&fe||{};be.name=be.name||"string"==typeof fe&&fe||"[DEFAULT]";const he=O.Z.apps.filter(Re=>Re&&Re.name===be.name)[0]||ye.runOutsideAngular(()=>O.Z.initializeApp(K,be));try{JSON.stringify(K)!==JSON.stringify(he.options)&&F("error",`${he.name} Firebase App already initialized with different options${et.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new se(he)}const F=(K,...ye)=>{(0,f.X6Q)()&&typeof console<"u"&&console[K](...ye)};function Oe(K,ye,fe,we,be){const[,pe,he]=globalThis.\u0275AngularfireInstanceCache.find(Re=>Re[0]===K)||[];if(pe)return function Ce(K,ye){try{return K.toString()===ye.toString()}catch{return K===ye}}(be,he)||(He("error",`${ye} was already initialized on the ${fe} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:be,was:he})),pe;{const Re=we();return globalThis.\u0275AngularfireInstanceCache.push([K,Re,be]),Re}}const Be=!!et.hot,He=(K,...ye)=>{(0,f.X6Q)()&&typeof console<"u"&&console[K](...ye)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1808:(et,ve,N)=>{N.d(ve,{$:()=>$d,A:()=>L,B:()=>Ce,G:()=>Od,H:()=>rn,J:()=>yn,L:()=>k,M:()=>Pd,N:()=>qv,P:()=>XD,Q:()=>_g,R:()=>Bc,T:()=>Kv,U:()=>$a,V:()=>jo,W:()=>ZD,X:()=>Ld,Y:()=>pr,Z:()=>Mc,_:()=>xc,a:()=>Zo,a0:()=>wg,a1:()=>jd,a2:()=>pt,a3:()=>Jv,a4:()=>Eg,a5:()=>Hd,a6:()=>Ig,a7:()=>ne,a8:()=>Dg,a9:()=>Cg,aA:()=>R,aB:()=>hu,aC:()=>yh,aD:()=>ei,aE:()=>Rn,aI:()=>qi,aL:()=>Js,aa:()=>hi,ab:()=>zd,ac:()=>Tg,af:()=>to,ag:()=>Gi,ah:()=>qd,ak:()=>Qv,al:()=>Yd,an:()=>s0,ao:()=>Qa,ap:()=>ue,aq:()=>It,ar:()=>en,as:()=>we,at:()=>mu,au:()=>ra,av:()=>Cr,aw:()=>be,ax:()=>W,ay:()=>ta,az:()=>B,b:()=>eh,c:()=>jc,d:()=>h0,e:()=>d0,f:()=>lu,g:()=>vh,h:()=>ho,i:()=>sh,j:()=>Gn,k:()=>Yc,l:()=>l0,m:()=>kn,n:()=>el,o:()=>me,r:()=>fh,s:()=>dh,u:()=>JD});var f=N(5861),O=N(2090),X=N(9681),ae=N(1877),de=N(655),se=N(4859);const me={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},L={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const Ce=function j(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function Oe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new O.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ye=new ae.Yd("@firebase/auth");function fe(v,...p){ye.logLevel<=ae.in.ERROR&&ye.error(`Auth (${X.SDK_VERSION}): ${v}`,...p)}function we(v,...p){throw Re(v,...p)}function be(v,...p){return Re(v,...p)}function pe(v,p,m){const E=Object.assign(Object.assign({},Be()),{[p]:m});return new O.LL("auth","Firebase",E).create(p,{appName:v.name})}function he(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&we(v,"argument-error"),pe(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Re(v,...p){if("string"!=typeof v){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return He.create(v,...p)}function W(v,p,...m){if(!v)throw Re(p,...m)}function Y(v){const p="INTERNAL ASSERTION FAILED: "+v;throw fe(p),new Error(p)}function ue(v,p){v||Y(p)}const $=new Map;function B(v){ue(v instanceof Function,"Expected a class definition");let p=$.get(v);return p?(ue(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,$.set(v,p),p)}function Te(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function Ae(){return"http:"===Ke()||"https:"===Ke()}function Ke(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ct{constructor(p,m){this.shortDelay=p,this.longDelay=m,ue(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,O.uI)()||(0,O.b$)()}get(){return function jt(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(Ae()||(0,O.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Tt(v,p){ue(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class st{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Y("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Y("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Y("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const qt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},dr=new ct(3e4,6e4);function Vt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function Je(v,p,m,E){return as.apply(this,arguments)}function as(){return(as=(0,f.Z)(function*(v,p,m,E,T={}){return Qr(v,T,(0,f.Z)(function*(){let M={},H={};E&&("GET"===p?H=E:M={body:JSON.stringify(E)});const ce=(0,O.xO)(Object.assign({key:v.config.apiKey},H)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),st.fetch()(Vo(v,v.config.apiHost,m,ce),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},M))}))})).apply(this,arguments)}function Qr(v,p,m){return Vi.apply(this,arguments)}function Vi(){return(Vi=(0,f.Z)(function*(v,p,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},qt),p);try{const T=new cs(v),M=yield Promise.race([m(),T.promise]);T.clearNetworkTimeout();const H=yield M.json();if("needConfirmation"in H)throw vi(v,"account-exists-with-different-credential",H);if(M.ok&&!("errorMessage"in H))return H;{const ce=M.ok?H.errorMessage:H.error.message,[Le,ze]=ce.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw vi(v,"credential-already-in-use",H);if("EMAIL_EXISTS"===Le)throw vi(v,"email-already-in-use",H);if("USER_DISABLED"===Le)throw vi(v,"user-disabled",H);const yt=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw pe(v,yt,ze);we(v,yt)}}catch(T){if(T instanceof O.ZR)throw T;we(v,"network-request-failed")}})).apply(this,arguments)}function mn(v,p,m,E){return us.apply(this,arguments)}function us(){return(us=(0,f.Z)(function*(v,p,m,E,T={}){const M=yield Je(v,p,m,E,T);return"mfaPendingCredential"in M&&we(v,"multi-factor-auth-required",{_serverResponse:M}),M})).apply(this,arguments)}function Vo(v,p,m,E){const T=`${p}${m}?${E}`;return v.config.emulator?Tt(v.config,T):`${v.config.apiScheme}://${T}`}class cs{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(be(this.auth,"network-request-failed")),dr.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function vi(v,p,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const T=be(v,p,E);return T.customData._tokenResponse=m,T}function ls(){return(ls=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function dn(v,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function rt(v,p){return wi.apply(this,arguments)}function wi(){return(wi=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Ei(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Bi(){return(Bi=(0,f.Z)(function*(v,p=!1){const m=(0,O.m9)(v),E=yield m.getIdToken(p),T=Ze(E);W(T&&T.exp&&T.auth_time&&T.iat,m.auth,"internal-error");const M="object"==typeof T.firebase?T.firebase:void 0,H=M?.sign_in_provider;return{claims:T,token:E,authTime:Ei(dt(T.auth_time)),issuedAtTime:Ei(dt(T.iat)),expirationTime:Ei(dt(T.exp)),signInProvider:H||null,signInSecondFactor:M?.sign_in_second_factor||null}})).apply(this,arguments)}function dt(v){return 1e3*Number(v)}function Ze(v){const[p,m,E]=v.split(".");if(void 0===p||void 0===m||void 0===E)return fe("JWT malformed, contained fewer than 3 sections"),null;try{const T=(0,O.tV)(m);return T?JSON.parse(T):(fe("Failed to decode base64 JWT payload"),null)}catch(T){return fe("Caught error parsing JWT payload as JSON",T?.toString()),null}}function Xn(v,p){return er.apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof O.ZR&&Dn(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function Dn({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class di{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const T=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,T)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,f.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,f.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class tr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Ei(this.lastLoginAt),this.creationTime=Ei(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function $i(v){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,f.Z)(function*(v){var p;const m=v.auth,E=yield v.getIdToken(),T=yield Xn(v,rt(m,{idToken:E}));W(T?.users.length,m,"internal-error");const M=T.users[0];v._notifyReloadListener(M);const H=null!==(p=M.providerUserInfo)&&void 0!==p&&p.length?ji(M.providerUserInfo):[],ce=Jr(v.providerData,H),yt=!!v.isAnonymous&&!(v.email&&M.passwordHash||ce?.length),Wt={uid:M.localId,displayName:M.displayName||null,photoURL:M.photoUrl||null,email:M.email||null,emailVerified:M.emailVerified||!1,phoneNumber:M.phoneNumber||null,tenantId:M.tenantId||null,providerData:ce,metadata:new tr(M.createdAt,M.lastLoginAt),isAnonymous:yt};Object.assign(v,Wt)})).apply(this,arguments)}function Rt(){return(Rt=(0,f.Z)(function*(v){const p=(0,O.m9)(v);yield $i(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function Jr(v,p){return[...v.filter(E=>!p.some(T=>T.providerId===E.providerId)),...p]}function ji(v){return v.map(p=>{var{providerId:m}=p,E=(0,de._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function le(){return(le=(0,f.Z)(function*(v,p){const m=yield Qr(v,{},(0,f.Z)(function*(){const E=(0,O.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:T,apiKey:M}=v.config,H=Vo(v,T,"/v1/token",`key=${M}`),ce=yield v._getAdditionalHeaders();return ce["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(H,{method:"POST",headers:ce,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){W(p.idToken,"internal-error"),W(typeof p.idToken<"u","internal-error"),W(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function lt(v){const p=Ze(v);return W(p,"internal-error"),W(typeof p.exp<"u","internal-error"),W(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,f.Z)(function*(){return W(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,f.Z)(function*(){const{accessToken:T,refreshToken:M,expiresIn:H}=yield function Ne(v,p){return le.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(T,M,Number(H))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:T,expirationTime:M}=m,H=new Ue;return E&&(W("string"==typeof E,"internal-error",{appName:p}),H.refreshToken=E),T&&(W("string"==typeof T,"internal-error",{appName:p}),H.accessToken=T),M&&(W("number"==typeof M,"internal-error",{appName:p}),H.expirationTime=M),H}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return Y("not implemented")}}function tt(v,p){W("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class mt{constructor(p){var{uid:m,auth:E,stsTokenManager:T}=p,M=(0,de._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new di(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=T,this.accessToken=T.accessToken,this.displayName=M.displayName||null,this.email=M.email||null,this.emailVerified=M.emailVerified||!1,this.phoneNumber=M.phoneNumber||null,this.photoURL=M.photoURL||null,this.isAnonymous=M.isAnonymous||!1,this.tenantId=M.tenantId||null,this.providerData=M.providerData?[...M.providerData]:[],this.metadata=new tr(M.createdAt||void 0,M.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,f.Z)(function*(){const E=yield Xn(m,m.stsTokenManager.getToken(m.auth,p));return W(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function Dr(v){return Bi.apply(this,arguments)}(this,p)}reload(){return function Uo(v){return Rt.apply(this,arguments)}(this)}_assign(p){this!==p&&(W(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new mt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,f.Z)(function*(){let T=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),T=!0),m&&(yield $i(E)),yield E.auth._persistUserIfCurrent(E),T&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,f.Z)(function*(){const m=yield p.getIdToken();return yield Xn(p,function Ui(v,p){return ls.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,T,M,H,ce,Le,ze,yt;const Wt=null!==(E=m.displayName)&&void 0!==E?E:void 0,kr=null!==(T=m.email)&&void 0!==T?T:void 0,Pr=null!==(M=m.phoneNumber)&&void 0!==M?M:void 0,aa=null!==(H=m.photoURL)&&void 0!==H?H:void 0,xi=null!==(ce=m.tenantId)&&void 0!==ce?ce:void 0,Ji=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,_u=null!==(ze=m.createdAt)&&void 0!==ze?ze:void 0,tl=null!==(yt=m.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:ua,emailVerified:Mh,isAnonymous:xh,providerData:_o,stsTokenManager:Rh}=m;W(ua&&Rh,p,"internal-error");const qg=Ue.fromJSON(this.name,Rh);W("string"==typeof ua,p,"internal-error"),tt(Wt,p.name),tt(kr,p.name),W("boolean"==typeof Mh,p,"internal-error"),W("boolean"==typeof xh,p,"internal-error"),tt(Pr,p.name),tt(aa,p.name),tt(xi,p.name),tt(Ji,p.name),tt(_u,p.name),tt(tl,p.name);const nl=new mt({uid:ua,auth:p,email:kr,emailVerified:Mh,displayName:Wt,isAnonymous:xh,photoURL:aa,phoneNumber:Pr,tenantId:xi,stsTokenManager:qg,createdAt:_u,lastLoginAt:tl});return _o&&Array.isArray(_o)&&(nl.providerData=_o.map(Nh=>Object.assign({},Nh))),Ji&&(nl._redirectEventId=Ji),nl}static _fromIdTokenResponse(p,m,E=!1){return(0,f.Z)(function*(){const T=new Ue;T.updateFromServerResponse(m);const M=new mt({uid:m.localId,auth:p,stsTokenManager:T,isAnonymous:E});return yield $i(M),M})()}}const k=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,f.Z)(function*(){return!0})()}_set(m,E){var T=this;return(0,f.Z)(function*(){T.storage[m]=E})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=E.storage[m];return void 0===T?null:T})()}_remove(m){var E=this;return(0,f.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function R(v,p,m){return`firebase:${v}:${p}:${m}`}class U{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:T,name:M}=this.auth;this.fullUserKey=R(this.userKey,T.apiKey,M),this.fullPersistenceKey=R("persistence",T.apiKey,M),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,f.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?mt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,f.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,f.Z)(function*(){if(!m.length)return new U(B(k),p,E);const T=(yield Promise.all(m.map(function(){var ze=(0,f.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let M=T[0]||B(k);const H=R(E,p.config.apiKey,p.name);let ce=null;for(const ze of m)try{const yt=yield ze._get(H);if(yt){const Wt=mt._fromJSON(p,yt);ze!==M&&(ce=Wt),M=ze;break}}catch{}const Le=T.filter(ze=>ze._shouldAllowMigration);return M._shouldAllowMigration&&Le.length?(M=Le[0],ce&&(yield M._set(H,ce.toJSON())),yield Promise.all(m.map(function(){var ze=(0,f.Z)(function*(yt){if(yt!==M)try{yield yt._remove(H)}catch{}});return function(yt){return ze.apply(this,arguments)}}())),new U(M,p,E)):new U(M,p,E)})()}}function oe(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ft(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(q(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ut(p))return"Blackberry";if(xn(p))return"Webos";if(Ge(p))return"Safari";if((p.includes("chrome/")||Et(p))&&!p.includes("edge/"))return"Chrome";if(en(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function q(v=(0,O.z$)()){return/firefox\//i.test(v)}function Ge(v=(0,O.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Et(v=(0,O.z$)()){return/crios\//i.test(v)}function Ft(v=(0,O.z$)()){return/iemobile/i.test(v)}function en(v=(0,O.z$)()){return/android/i.test(v)}function ut(v=(0,O.z$)()){return/blackberry/i.test(v)}function xn(v=(0,O.z$)()){return/webos/i.test(v)}function It(v=(0,O.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Cr(v=(0,O.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function hs(v=(0,O.z$)()){return It(v)||en(v)||xn(v)||ut(v)||/windows phone/i.test(v)||Ft(v)}function Gs(v,p=[]){let m;switch(v){case"Browser":m=oe((0,O.z$)());break;case"Worker":m=`${oe((0,O.z$)())}-${v}`;break;default:m=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${X.SDK_VERSION}/${E}`}class yg{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=M=>new Promise((H,ce)=>{try{H(p(M))}catch(Le){ce(Le)}});E.onAbort=m,this.queue.push(E);const T=this.queue.length-1;return()=>{this.queue[T]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,f.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const T of m.queue)yield T(p),T.onAbort&&E.push(T.onAbort)}catch(T){E.reverse();for(const M of E)try{M()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:T?.message})}})()}}class Nd{constructor(p,m,E){this.app=p,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new zs(this),this.idTokenSubscription=new zs(this),this.beforeStateQueue=new yg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=B(m)),this._initializationPromise=this.queue((0,f.Z)(function*(){var T,M;if(!E._deleted&&(E.persistenceManager=yield U.create(E,p),!E._deleted)){if(null!==(T=E._popupRedirectResolver)&&void 0!==T&&T._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(M=E.currentUser)||void 0===M?void 0:M.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,f.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,f.Z)(function*(){var E;const T=yield m.assertedPersistence.getCurrentUser();let M=T,H=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const ce=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Le=M?._redirectEventId,ze=yield m.tryRedirectSignIn(p);(!ce||ce===Le)&&ze?.user&&(M=ze.user,H=!0)}if(!M)return m.directlySetCurrentUser(null);if(!M._redirectEventId){if(H)try{yield m.beforeStateQueue.runMiddleware(M)}catch(ce){M=T,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(ce))}return M?m.reloadAndSetCurrentUserOrClear(M):m.directlySetCurrentUser(null)}return W(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===M._redirectEventId?m.directlySetCurrentUser(M):m.reloadAndSetCurrentUserOrClear(M)})()}tryRedirectSignIn(p){var m=this;return(0,f.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,f.Z)(function*(){try{yield $i(p)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Xt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,f.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,f.Z)(function*(){const E=p?(0,O.m9)(p):null;return E&&W(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,f.Z)(function*(){if(!E._deleted)return p&&W(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,f.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,f.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,f.Z)(function*(){yield m.assertedPersistence.setPersistence(B(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new O.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,f.Z)(function*(){const T=yield E.getOrInitRedirectPersistenceManager(m);return null===p?T.removeCurrentUser():T.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,f.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&B(p)||m._popupRedirectResolver;W(E,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[B(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,f.Z)(function*(){var E,T;return m._isInitialized&&(yield m.queue((0,f.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(T=m.redirectUser)||void 0===T?void 0:T._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,f.Z)(function*(){if(p===m.currentUser)return m.queue((0,f.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,T){if(this._deleted)return()=>{};const M="function"==typeof m?m:m.next.bind(m),H=this._isInitialized?Promise.resolve():this._initializationPromise;return W(H,this,"internal-error"),H.then(()=>M(this.currentUser)),"function"==typeof m?p.addObserver(m,E,T):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,f.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Gs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,f.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const T=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return T&&(E["X-Firebase-Client"]=T),E})()}}function Rn(v){return(0,O.m9)(v)}class zs{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,O.ne)(m=>this.observer=m)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function Od(v,p,m){const E=Rn(v);W(E._canInitEmulator,E,"emulator-config-failed"),W(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const T=!!m?.disableWarnings,M=Ic(p),{host:H,port:ce}=function kd(v){const p=Ic(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",T=/^(\[[^\]]+\])(:|$)/.exec(E);if(T){const M=T[1];return{host:M,port:Bo(E.substr(M.length+1))}}{const[M,H]=E.split(":");return{host:M,port:Bo(H)}}}(p);E.config.emulator={url:`${M}//${H}${null===ce?"":`:${ce}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:H,port:ce,protocol:M.replace(":",""),options:Object.freeze({disableWarnings:T})}),T||function Ut(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Ic(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Bo(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class rn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Y("not implemented")}_getIdTokenResponse(p){return Y("not implemented")}_linkToIdToken(p,m){return Y("not implemented")}_getReauthenticationResolver(p){return Y("not implemented")}}function $n(v,p){return fs.apply(this,arguments)}function fs(){return(fs=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:resetPassword",Vt(v,p))})).apply(this,arguments)}function hr(v,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ve(v,p){return ht.apply(this,arguments)}function ht(){return(ht=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",Vt(v,p))})).apply(this,arguments)}function fr(){return(fr=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPassword",Vt(v,p))})).apply(this,arguments)}function Xr(v,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:sendOobCode",Vt(v,p))})).apply(this,arguments)}function ps(v,p){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,f.Z)(function*(v,p){return Xr(v,p)})).apply(this,arguments)}function Fa(v,p){return Hi.apply(this,arguments)}function Hi(){return(Hi=(0,f.Z)(function*(v,p){return Xr(v,p)})).apply(this,arguments)}function Dt(v,p){return Ws.apply(this,arguments)}function Ws(){return(Ws=(0,f.Z)(function*(v,p){return Xr(v,p)})).apply(this,arguments)}function gs(v,p){return qs.apply(this,arguments)}function qs(){return(qs=(0,f.Z)(function*(v,p){return Xr(v,p)})).apply(this,arguments)}function bn(){return(bn=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,p))})).apply(this,arguments)}function Ii(){return(Ii=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Vt(v,p))})).apply(this,arguments)}class Sr extends rn{constructor(p,m,E,T=null){super("password",E),this._email=p,this._password=m,this._tenantId=T}static _fromEmailAndPassword(p,m){return new Sr(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Sr(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,f.Z)(function*(){switch(m.signInMethod){case"password":return function sn(v,p){return fr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function Ks(v,p){return bn.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:we(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,f.Z)(function*(){switch(E.signInMethod){case"password":return hr(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function La(v,p){return Ii.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:we(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function Hr(v,p){return Dc.apply(this,arguments)}function Dc(){return(Dc=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithIdp",Vt(v,p))})).apply(this,arguments)}class yn extends rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new yn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):we("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T}=m,M=(0,de._T)(m,["providerId","signInMethod"]);if(!E||!T)return null;const H=new yn(E,T);return H.idToken=M.idToken||void 0,H.accessToken=M.accessToken||void 0,H.secret=M.secret,H.nonce=M.nonce,H.pendingToken=M.pendingToken||null,H}_getIdTokenResponse(p){return Hr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Hr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Hr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,O.xO)(m)}return p}}function Cc(v,p){return Va.apply(this,arguments)}function Va(){return(Va=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:sendVerificationCode",Vt(v,p))})).apply(this,arguments)}function Zs(){return(Zs=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,f.Z)(function*(v,p){const m=yield mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,p));if(m.temporaryProof)throw vi(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const zv={USER_NOT_FOUND:"user-not-found"};function Mr(){return(Mr=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Vt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),zv)})).apply(this,arguments)}class Di extends rn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new Di({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new Di({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Ua(v,p){return Zs.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function Ys(v,p){return Nn.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ar(v,p){return Mr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:T}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:T}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:M}=p;return E||m||T||M?new Di({verificationId:m,verificationCode:E,phoneNumber:T,temporaryProof:M}):null}}class nr{constructor(p){var m,E,T,M,H,ce;const Le=(0,O.zd)((0,O.pd)(p)),ze=null!==(m=Le.apiKey)&&void 0!==m?m:null,yt=null!==(E=Le.oobCode)&&void 0!==E?E:null,Wt=function $o(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(T=Le.mode)&&void 0!==T?T:null);W(ze&&yt&&Wt,"argument-error"),this.apiKey=ze,this.operation=Wt,this.code=yt,this.continueUrl=null!==(M=Le.continueUrl)&&void 0!==M?M:null,this.languageCode=null!==(H=Le.languageCode)&&void 0!==H?H:null,this.tenantId=null!==(ce=Le.tenantId)&&void 0!==ce?ce:null}static parseLink(p){const m=function Ba(v){const p=(0,O.zd)((0,O.pd)(v)).link,m=p?(0,O.zd)((0,O.pd)(p)).deep_link_id:null,E=(0,O.zd)((0,O.pd)(v)).deep_link_id;return(E?(0,O.zd)((0,O.pd)(E)).link:null)||E||m||p||v}(p);try{return new nr(m)}catch{return null}}}let Pd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Sr._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const T=nr.parseLink(E);return W(T,"argument-error"),Sr._fromEmailAndCode(m,T.code,T.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Ci{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class Qs extends Ci{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class $a extends Qs{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return W("providerId"in m&&"signInMethod"in m,"argument-error"),yn._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return W(p.idToken||p.accessToken,"argument-error"),yn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return $a.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return $a.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:T,pendingToken:M,nonce:H,providerId:ce}=p;if(!E&&!T&&!m&&!M||!ce)return null;try{return new $a(ce)._credential({idToken:m,accessToken:E,nonce:H,pendingToken:M})}catch{return null}}}let qv=(()=>{class v extends Qs{constructor(){super("facebook.com")}static credential(m){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),_g=(()=>{class v extends Qs{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:T}=m;if(!E&&!T)return null;try{return v.credential(E,T)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Kv=(()=>{class v extends Qs{constructor(){super("github.com")}static credential(m){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class Js extends rn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return Hr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,Hr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,Hr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:T,pendingToken:M}=m;return E&&T&&M&&E===T?new Js(E,M):null}static _create(p,m){return new Js(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class jo extends Ci{constructor(p){W(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return jo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return jo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=Js.fromJSON(p);return W(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return Js._create(E,m)}catch{return null}}}let ZD=(()=>{class v extends Qs{constructor(){super("twitter.com")}static credential(m,E){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:T}=m;if(!E||!T)return null;try{return v.credential(E,T)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Yv(v,p){return ja.apply(this,arguments)}function ja(){return(ja=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signUp",Vt(v,p))})).apply(this,arguments)}class Gr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,T=!1){return(0,f.Z)(function*(){const M=yield mt._fromIdTokenResponse(p,E,T),H=bc(E);return new Gr({user:M,providerId:H,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,f.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const T=bc(E);return new Gr({user:p,providerId:T,_tokenResponse:E,operationType:m})})()}}function bc(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Ld(v){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,f.Z)(function*(v){var p;const m=Rn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Gr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Yv(m,{returnSecureToken:!0}),T=yield Gr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Ud extends O.ZR{constructor(p,m,E,T){var M;super(m.code,m.message),this.operationType=E,this.user=T,Object.setPrototypeOf(this,Ud.prototype),this.customData={appName:p.name,tenantId:null!==(M=p.tenantId)&&void 0!==M?M:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,T){return new Ud(p,m,E,T)}}function vg(v,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(M=>{throw"auth/multi-factor-auth-required"===M.code?Ud._fromErrorAndOperation(v,M,p,E):M})}function ms(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function Qv(v,p){return Ha.apply(this,arguments)}function Ha(){return(Ha=(0,f.Z)(function*(v,p){const m=(0,O.m9)(v);yield Ho(!0,m,p);const{providerUserInfo:E}=yield dn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),T=ms(E||[]);return m.providerData=m.providerData.filter(M=>T.has(M.providerId)),T.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function Ga(v,p){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,f.Z)(function*(v,p,m=!1){const E=yield Xn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Gr._forOperation(v,"link",E)})).apply(this,arguments)}function Ho(v,p,m){return za.apply(this,arguments)}function za(){return(za=(0,f.Z)(function*(v,p,m){yield $i(p);const T=!1===v?"provider-already-linked":"no-such-provider";W(ms(p.providerData).has(m)===v,p.auth,T)})).apply(this,arguments)}function Bd(v,p){return Sc.apply(this,arguments)}function Sc(){return(Sc=(0,f.Z)(function*(v,p,m=!1){const{auth:E}=v,T="reauthenticate";try{const M=yield Xn(v,vg(E,T,p,v),m);W(M.idToken,E,"internal-error");const H=Ze(M.idToken);W(H,E,"internal-error");const{sub:ce}=H;return W(v.uid===ce,E,"user-mismatch"),Gr._forOperation(v,T,M)}catch(M){throw"auth/user-not-found"===M?.code&&we(E,"user-mismatch"),M}})).apply(this,arguments)}function Ac(v,p){return Go.apply(this,arguments)}function Go(){return(Go=(0,f.Z)(function*(v,p,m=!1){const E="signIn",T=yield vg(v,E,p),M=yield Gr._fromIdTokenResponse(v,E,T);return m||(yield v._updateCurrentUser(M.user)),M})).apply(this,arguments)}function pr(v,p){return Wa.apply(this,arguments)}function Wa(){return(Wa=(0,f.Z)(function*(v,p){return Ac(Rn(v),p)})).apply(this,arguments)}function Mc(v,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,f.Z)(function*(v,p){const m=(0,O.m9)(v);return yield Ho(!1,m,p.providerId),Ga(m,p)})).apply(this,arguments)}function xc(v,p){return Xs.apply(this,arguments)}function Xs(){return(Xs=(0,f.Z)(function*(v,p){return Bd((0,O.m9)(v),p)})).apply(this,arguments)}function jn(v,p){return Rc.apply(this,arguments)}function Rc(){return(Rc=(0,f.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithCustomToken",Vt(v,p))})).apply(this,arguments)}function $d(v,p){return ys.apply(this,arguments)}function ys(){return(ys=(0,f.Z)(function*(v,p){const m=Rn(v),E=yield jn(m,{token:p,returnSecureToken:!0}),T=yield Gr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(T.user),T})).apply(this,arguments)}class Hn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?Nc._fromServerResponse(p,m):we(p,"internal-error")}}class Nc extends Hn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new Nc(m)}}function _s(v,p,m){var E;W((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),W(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(W(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(W(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function wg(v,p,m){return bi.apply(this,arguments)}function bi(){return(bi=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v),T={requestType:"PASSWORD_RESET",email:p};m&&_s(E,T,m),yield Fa(E,T)})).apply(this,arguments)}function jd(v,p,m){return zo.apply(this,arguments)}function zo(){return(zo=(0,f.Z)(function*(v,p,m){yield $n((0,O.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function pt(v,p){return qa.apply(this,arguments)}function qa(){return(qa=(0,f.Z)(function*(v,p){yield Ve((0,O.m9)(v),{oobCode:p})})).apply(this,arguments)}function Jv(v,p){return Oc.apply(this,arguments)}function Oc(){return(Oc=(0,f.Z)(function*(v,p){const m=(0,O.m9)(v),E=yield $n(m,{oobCode:p}),T=E.requestType;switch(W(T,m,"internal-error"),T){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(E.mfaInfo,m,"internal-error");default:W(E.email,m,"internal-error")}let M=null;return E.mfaInfo&&(M=Hn._fromServerResponse(Rn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:M},operation:T}})).apply(this,arguments)}function Eg(v,p){return kc.apply(this,arguments)}function kc(){return(kc=(0,f.Z)(function*(v,p){const{data:m}=yield Jv((0,O.m9)(v),p);return m.email})).apply(this,arguments)}function Hd(v,p,m){return Gd.apply(this,arguments)}function Gd(){return(Gd=(0,f.Z)(function*(v,p,m){const E=Rn(v),T=yield Yv(E,{returnSecureToken:!0,email:p,password:m}),M=yield Gr._fromIdTokenResponse(E,"signIn",T);return yield E._updateCurrentUser(M.user),M})).apply(this,arguments)}function Ig(v,p,m){return pr((0,O.m9)(v),Pd.credential(p,m))}function ne(v,p,m){return Nt.apply(this,arguments)}function Nt(){return(Nt=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v),T={requestType:"EMAIL_SIGNIN",email:p};W(m.handleCodeInApp,E,"argument-error"),m&&_s(E,T,m),yield Dt(E,T)})).apply(this,arguments)}function Dg(v,p){return"EMAIL_SIGNIN"===nr.parseLink(p)?.operation}function Cg(v,p,m){return Tn.apply(this,arguments)}function Tn(){return(Tn=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v),T=Pd.credentialWithLink(p,m||Te());return W(T._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),pr(E,T)})).apply(this,arguments)}function bg(v,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:createAuthUri",Vt(v,p))})).apply(this,arguments)}function hi(v,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,f.Z)(function*(v,p){const E={identifier:p,continueUri:Ae()?Te():"http://localhost"},{signinMethods:T}=yield bg((0,O.m9)(v),E);return T||[]})).apply(this,arguments)}function zd(v,p){return Wd.apply(this,arguments)}function Wd(){return(Wd=(0,f.Z)(function*(v,p){const m=(0,O.m9)(v),T={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&_s(m.auth,T,p);const{email:M}=yield ps(m.auth,T);M!==v.email&&(yield v.reload())})).apply(this,arguments)}function Tg(v,p,m){return Za.apply(this,arguments)}function Za(){return(Za=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v),M={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&_s(E.auth,M,m);const{email:H}=yield gs(E.auth,M);H!==v.email&&(yield v.reload())})).apply(this,arguments)}function rr(v,p){return xr.apply(this,arguments)}function xr(){return(xr=(0,f.Z)(function*(v,p){return Je(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function to(v,p){return vs.apply(this,arguments)}function vs(){return(vs=(0,f.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,O.m9)(v),M={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},H=yield Xn(E,rr(E.auth,M));E.displayName=H.displayName||null,E.photoURL=H.photoUrl||null;const ce=E.providerData.find(({providerId:Le})=>"password"===Le);ce&&(ce.displayName=E.displayName,ce.photoURL=E.photoURL),yield E._updateTokensIfNecessary(H)})).apply(this,arguments)}function Gi(v,p){return Ya((0,O.m9)(v),p,null)}function qd(v,p){return Ya((0,O.m9)(v),null,p)}function Ya(v,p,m){return Kd.apply(this,arguments)}function Kd(){return(Kd=(0,f.Z)(function*(v,p,m){const{auth:E}=v,M={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(M.email=p),m&&(M.password=m);const H=yield Xn(v,hr(E,M));yield v._updateTokensIfNecessary(H,!0)})).apply(this,arguments)}class zi{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class Wo extends zi{constructor(p,m,E,T){super(p,m,E),this.username=T}}class Sg extends zi{constructor(p,m){super(p,"facebook.com",m)}}class Zd extends Wo{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class e0 extends zi{constructor(p,m){super(p,"google.com",m)}}class Ag extends Wo{constructor(p,m,E){super(p,"twitter.com",m,E)}}function Yd(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Xv(v){var p,m;if(!v)return null;const{providerId:E}=v,T=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},M=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const H=null===(m=null===(p=Ze(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(H)return new zi(M,"anonymous"!==H&&"custom"!==H?H:null)}if(!E)return null;switch(E){case"facebook.com":return new Sg(M,T);case"github.com":return new Zd(M,T);case"google.com":return new e0(M,T);case"twitter.com":return new Ag(M,T,v.screenName||null);case"custom":case"anonymous":return new zi(M,null);default:return new zi(M,E,T)}}(m)}class zt{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new zt("enroll",p,m)}static _fromMfaPendingCredential(p){return new zt("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return zt._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return zt._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Qd{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=Rn(p),T=m.customData._serverResponse,M=(T.mfaInfo||[]).map(ce=>Hn._fromServerResponse(E,ce));W(T.mfaPendingCredential,E,"internal-error");const H=zt._fromMfaPendingCredential(T.mfaPendingCredential);return new Qd(H,M,function(){var ce=(0,f.Z)(function*(Le){const ze=yield Le._process(E,H);delete T.mfaInfo,delete T.mfaPendingCredential;const yt=Object.assign(Object.assign({},T),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(m.operationType){case"signIn":const Wt=yield Gr._fromIdTokenResponse(E,m.operationType,yt);return yield E._updateCurrentUser(Wt.user),Wt;case"reauthenticate":return W(m.user,E,"internal-error"),Gr._forOperation(m.user,m.operationType,yt);default:we(E,"internal-error")}});return function(Le){return ce.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,f.Z)(function*(){return m.signInResolver(p)})()}}function s0(v,p){var m;const E=(0,O.m9)(v),T=p;return W(p.customData.operationType,E,"argument-error"),W(null===(m=T.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),Qd._fromError(E,T)}function o0(v,p){return Je(v,"POST","/v2/accounts/mfaEnrollment:start",Vt(v,p))}class Jd{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Hn._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new Jd(p)}getSession(){var p=this;return(0,f.Z)(function*(){return zt._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,f.Z)(function*(){const T=p,M=yield E.getSession(),H=yield Xn(E.user,T._process(E.user.auth,M,m));return yield E.user._updateTokensIfNecessary(H),E.user.reload()})()}unenroll(p){var m=this;return(0,f.Z)(function*(){const E="string"==typeof p?p:p.uid,T=yield m.user.getIdToken(),M=yield Xn(m.user,function u0(v,p){return Je(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Vt(v,p))}(m.user.auth,{idToken:T,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:H})=>H!==E),yield m.user._updateTokensIfNecessary(M);try{yield m.user.reload()}catch(H){if("auth/user-token-expired"!==H?.code)throw H}})()}}const qo=new WeakMap;function Qa(v){const p=(0,O.m9)(v);return qo.has(p)||qo.set(p,Jd._fromUser(p)),qo.get(p)}const Si="__sak";class Wi{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(Si,"1"),this.storage.removeItem(Si),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const eh=(()=>{class v extends Wi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function Xd(){const v=(0,O.z$)();return Ge(v)||It(v)}()&&function mg(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=hs(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const T=this.storage.getItem(E),M=this.localCache[E];T!==M&&m(E,M,T)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((ce,Le,ze)=>{this.notifyListeners(ce,ze)});const T=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ce=this.storage.getItem(T);if(m.newValue!==ce)null!==m.newValue?this.storage.setItem(T,m.newValue):this.storage.removeItem(T);else if(this.localCache[T]===m.newValue&&!E)return}const M=()=>{const ce=this.storage.getItem(T);!E&&this.localCache[T]===ce||this.notifyListeners(T,ce)},H=this.storage.getItem(T);!function br(){return(0,O.w1)()&&10===document.documentMode}()||H===m.newValue||m.newValue===m.oldValue?M():setTimeout(M,10)}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const M of Array.from(T))M(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,T)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:T}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var T=()=>super._set,M=this;return(0,f.Z)(function*(){yield T().call(M,m,E),M.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,T=this;return(0,f.Z)(function*(){const M=yield E().call(T,m);return T.localCache[m]=JSON.stringify(M),M})()}_remove(m){var E=()=>super._remove,T=this;return(0,f.Z)(function*(){yield E().call(T,m),delete T.localCache[m]})()}}return v.type="LOCAL",v})(),Zo=(()=>{class v extends Wi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let Xa=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(M=>M.isListeningto(m));if(E)return E;const T=new v(m);return this.receivers.push(T),T}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,f.Z)(function*(){const T=m,{eventId:M,eventType:H,data:ce}=T.data,Le=E.handlersMap[H];if(!Le?.size)return;T.ports[0].postMessage({status:"ack",eventId:M,eventType:H});const ze=Array.from(Le).map(function(){var Wt=(0,f.Z)(function*(kr){return kr(T.origin,ce)});return function(kr){return Wt.apply(this,arguments)}}()),yt=yield function c0(v){return Promise.all(v.map(function(){var p=(0,f.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(ze);T.ports[0].postMessage({status:"done",eventId:M,eventType:H,response:yt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function qi(v="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return v+m}class Ng{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var T=this;return(0,f.Z)(function*(){const M=typeof MessageChannel<"u"?new MessageChannel:null;if(!M)throw new Error("connection_unavailable");let H,ce;return new Promise((Le,ze)=>{const yt=qi("",20);M.port1.start();const Wt=setTimeout(()=>{ze(new Error("unsupported_event"))},E);ce={messageChannel:M,onMessage(kr){const Pr=kr;if(Pr.data.eventId===yt)switch(Pr.data.status){case"ack":clearTimeout(Wt),H=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(H),Le(Pr.data.response);break;default:clearTimeout(Wt),clearTimeout(H),ze(new Error("invalid_response"))}}},T.handlers.add(ce),M.port1.addEventListener("message",ce.onMessage),T.target.postMessage({eventType:p,eventId:yt,data:m},[M.port2])}).finally(()=>{ce&&T.removeMessageHandler(ce)})})()}}function vn(){return window}function Yo(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Ai(){return(Ai=(0,f.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Qo="firebaseLocalStorageDb",Es="firebaseLocalStorage",tu="fbase_key";class fi{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function nu(v,p){return v.transaction([Es],p?"readwrite":"readonly").objectStore(Es)}function ro(){const v=indexedDB.open(Qo,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(Es,{keyPath:tu})}catch(T){m(T)}}),v.addEventListener("success",(0,f.Z)(function*(){const E=v.result;E.objectStoreNames.contains(Es)?p(E):(E.close(),yield function ru(){const v=indexedDB.deleteDatabase(Qo);return new fi(v).toPromise()}(),p(yield ro()))}))})}function th(v,p,m){return Rr.apply(this,arguments)}function Rr(){return(Rr=(0,f.Z)(function*(v,p,m){const E=nu(v,!0).put({[tu]:p,value:m});return new fi(E).toPromise()})).apply(this,arguments)}function io(){return(io=(0,f.Z)(function*(v,p){const m=nu(v,!1).get(p),E=yield new fi(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function iu(v,p){const m=nu(v,!0).delete(p);return new fi(m).toPromise()}const sh=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,f.Z)(function*(){return m.db||(m.db=yield ro()),m.db})()}_withRetries(m){var E=this;return(0,f.Z)(function*(){let T=0;for(;;)try{const M=yield E._openDb();return yield m(M)}catch(M){if(T++>3)throw M;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,f.Z)(function*(){return Yo()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,f.Z)(function*(){m.receiver=Xa._getInstance(function Fc(){return Yo()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,f.Z)(function*(T,M){return{keyProcessed:(yield m._poll()).includes(M.key)}});return function(T,M){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,f.Z)(function*(T,M){return["keyChanged"]});return function(T,M){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,f.Z)(function*(){var E,T;if(m.activeServiceWorker=yield function eu(){return Ai.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Ng(m.activeServiceWorker);const M=yield m.sender._send("ping",{},800);M&&null!==(E=M[0])&&void 0!==E&&E.fulfilled&&null!==(T=M[0])&&void 0!==T&&T.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,f.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Pc(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,f.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ro();return yield th(m,Si,"1"),yield iu(m,Si),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,f.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var T=this;return(0,f.Z)(function*(){return T._withPendingWrite((0,f.Z)(function*(){return yield T._withRetries(M=>th(M,m,E)),T.localCache[m]=E,T.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,f.Z)(function*(){const T=yield E._withRetries(M=>function nh(v,p){return io.apply(this,arguments)}(M,m));return E.localCache[m]=T,T})()}_remove(m){var E=this;return(0,f.Z)(function*(){return E._withPendingWrite((0,f.Z)(function*(){return yield E._withRetries(T=>iu(T,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,f.Z)(function*(){const E=yield m._withRetries(H=>{const ce=nu(H,!1).getAll();return new fi(ce).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const T=[],M=new Set;for(const{fbase_key:H,value:ce}of E)M.add(H),JSON.stringify(m.localCache[H])!==JSON.stringify(ce)&&(m.notifyListeners(H,ce),T.push(H));for(const H of Object.keys(m.localCache))m.localCache[H]&&!M.has(H)&&(m.notifyListeners(H,null),T.push(H));return T})()}notifyListeners(m,E){this.localCache[m]=E;const T=this.listeners[m];if(T)for(const M of Array.from(T))M(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,f.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function oh(v,p){return Je(v,"POST","/v2/accounts/mfaSignIn:start",Vt(v,p))}function Lc(){return(Lc=(0,f.Z)(function*(v){return(yield Je(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function au(v){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=T=>{const M=be("internal-error");M.customData=T,m(M)},E.type="text/javascript",E.charset="UTF-8",function ah(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function Ki(v){return`__${v}${Math.floor(1e6*Math.random())}`}const so=1e12;class oo{constructor(p){this.auth=p,this.counter=so,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new ch(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||so;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||so))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,f.Z)(function*(){var E;return null===(E=m._widgets.get(p||so))||void 0===E||E.execute(),""})()}}class ch{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const T="string"==typeof p?document.getElementById(p):p;W(T,"argument-error",{appName:m}),this.container=T,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function Vc(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const ao=Ki("rcb"),Fg=new ct(3e4,6e4);class Uc{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=vn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return W(function Jo(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(vn().grecaptcha):new Promise((E,T)=>{const M=vn().setTimeout(()=>{T(be(p,"network-request-failed"))},Fg.get());vn()[ao]=()=>{vn().clearTimeout(M),delete vn()[ao];const ce=vn().grecaptcha;if(!ce)return void T(be(p,"internal-error"));const Le=ce.render;ce.render=(ze,yt)=>{const Wt=Le(ze,yt);return this.counter++,Wt},this.hostLanguage=m,E(ce)},au(`https://www.google.com/recaptcha/api.js??${(0,O.xO)({onload:ao,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(M),T(be(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=vn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class uo{load(p){return(0,f.Z)(function*(){return new oo(p)})()}clearedOneInstance(){}}const Zi="recaptcha",lh={theme:"light",type:"image"};class Bc{constructor(p,m=Object.assign({},lh),E){this.parameters=m,this.type=Zi,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(E),this.isInvisible="invisible"===this.parameters.size,W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const T="string"==typeof p?document.getElementById(p):p;W(T,this.auth,"argument-error"),this.container=T,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new uo:new Uc,this.validateStartingState()}verify(){var p=this;return(0,f.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(M=>{const H=ce=>{ce&&(p.tokenChangeListeners.delete(H),M(ce))};p.tokenChangeListeners.add(H),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=vn()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,f.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,f.Z)(function*(){W(Ae()&&!Yo(),p.auth,"internal-error"),yield function Xo(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function kg(v){return Lc.apply(this,arguments)}(p.auth);W(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Vg{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=Di._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function dh(v,p,m){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,f.Z)(function*(v,p,m){const E=Rn(v),T=yield ph(E,p,(0,O.m9)(m));return new Vg(T,M=>pr(E,M))})).apply(this,arguments)}function l0(v,p,m){return hh.apply(this,arguments)}function hh(){return(hh=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v);yield Ho(!1,E,"phone");const T=yield ph(E.auth,p,(0,O.m9)(m));return new Vg(T,M=>Mc(E,M))})).apply(this,arguments)}function fh(v,p,m){return $c.apply(this,arguments)}function $c(){return($c=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v),T=yield ph(E.auth,p,(0,O.m9)(m));return new Vg(T,M=>xc(E,M))})).apply(this,arguments)}function ph(v,p,m){return Ug.apply(this,arguments)}function Ug(){return(Ug=(0,f.Z)(function*(v,p,m){var E;const T=yield m.verify();try{let M;if(W("string"==typeof T,v,"argument-error"),W(m.type===Zi,v,"argument-error"),M="string"==typeof p?{phoneNumber:p}:p,"session"in M){const H=M.session;if("phoneNumber"in M)return W("enroll"===H.type,v,"internal-error"),(yield o0(v,{idToken:H.credential,phoneEnrollmentInfo:{phoneNumber:M.phoneNumber,recaptchaToken:T}})).phoneSessionInfo.sessionInfo;{W("signin"===H.type,v,"internal-error");const ce=(null===(E=M.multiFactorHint)||void 0===E?void 0:E.uid)||M.multiFactorUid;return W(ce,v,"missing-multi-factor-info"),(yield oh(v,{mfaPendingCredential:H.credential,mfaEnrollmentId:ce,phoneSignInInfo:{recaptchaToken:T}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:H}=yield Cc(v,{phoneNumber:M.phoneNumber,recaptchaToken:T});return H}}finally{m._reset()}})).apply(this,arguments)}function JD(v,p){return Is.apply(this,arguments)}function Is(){return(Is=(0,f.Z)(function*(v,p){yield Ga((0,O.m9)(v),p)})).apply(this,arguments)}let XD=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Rn(m)}verifyPhoneNumber(m,E){return ph(this.auth,m,(0,O.m9)(E))}static credential(m,E){return Di._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:T}=m;return E&&T?Di._fromTokenResponse(E,T):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ea(v,p){return p?B(p):(W(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class hn extends rn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return Hr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return Hr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return Hr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function gh(v){return Ac(v.auth,new hn(v),v.bypassAuthState)}function uu(v){const{auth:p,user:m}=v;return W(m,p,"internal-error"),Bd(m,new hn(v),v.bypassAuthState)}function Bg(v){return Nr.apply(this,arguments)}function Nr(){return(Nr=(0,f.Z)(function*(v){const{auth:p,user:m}=v;return W(m,p,"internal-error"),Ga(m,new hn(v),v.bypassAuthState)})).apply(this,arguments)}class Ds{constructor(p,m,E,T,M=!1){this.auth=p,this.resolver=E,this.user=T,this.bypassAuthState=M,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,f.Z)(function*(E,T){p.pendingPromise={resolve:E,reject:T};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(M){p.reject(M)}});return function(E,T){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,f.Z)(function*(){const{urlResponse:E,sessionId:T,postBody:M,tenantId:H,error:ce,type:Le}=p;if(ce)return void m.reject(ce);const ze={auth:m.auth,requestUri:E,sessionId:T,tenantId:H||void 0,postBody:M||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(ze))}catch(yt){m.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return gh;case"linkViaPopup":case"linkViaRedirect":return Bg;case"reauthViaPopup":case"reauthViaRedirect":return uu;default:we(this.auth,"internal-error")}}resolve(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const $g=new ct(2e3,1e4);function jc(v,p,m){return co.apply(this,arguments)}function co(){return(co=(0,f.Z)(function*(v,p,m){const E=Rn(v);he(v,p,Ci);const T=ea(E,m);return new mr(E,"signInViaPopup",p,T).executeNotNull()})).apply(this,arguments)}function d0(v,p,m){return jg.apply(this,arguments)}function jg(){return(jg=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v);he(E.auth,p,Ci);const T=ea(E.auth,m);return new mr(E.auth,"reauthViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}function h0(v,p,m){return mh.apply(this,arguments)}function mh(){return(mh=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v);he(E.auth,p,Ci);const T=ea(E.auth,m);return new mr(E.auth,"linkViaPopup",p,T,E).executeNotNull()})).apply(this,arguments)}let mr=(()=>{class v extends Ds{constructor(m,E,T,M,H){super(m,E,M,H),this.provider=T,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,f.Z)(function*(){const E=yield m.execute();return W(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,f.Z)(function*(){ue(1===m.filter.length,"Popup operations only handle one event");const E=qi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(T=>{m.reject(T)}),m.resolver._isIframeWebStorageSupported(m.auth,T=>{T||m.reject(be(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(be(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,T;this.pollId=null!==(T=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==T&&T.closed?window.setTimeout(()=>{this.pollId=null,this.reject(be(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,$g.get())};m()}}return v.currentPopupAction=null,v})();const ir=new Map;class Ye extends Ds{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,f.Z)(function*(){let E=ir.get(m.auth._key());if(!E){try{const M=(yield function Mi(v,p){return Or.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(M)}catch(T){E=()=>Promise.reject(T)}ir.set(m.auth._key(),E)}return m.bypassAuthState||ir.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,f.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const T=yield E.auth._redirectUserForId(p.eventId);if(T)return E.user=T,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,f.Z)(function*(){})()}cleanUp(){}}function Or(){return(Or=(0,f.Z)(function*(v,p){const m=cu(p),E=_h(v);if(!(yield E._isAvailable()))return!1;const T="true"===(yield E._get(m));return yield E._remove(m),T})).apply(this,arguments)}function Hc(v,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,f.Z)(function*(v,p){return _h(v)._set(cu(p),"true")})).apply(this,arguments)}function ei(){ir.clear()}function yh(v,p){ir.set(v._key(),p)}function _h(v){return B(v._redirectPersistence)}function cu(v){return R("pendingRedirect",v.config.apiKey,v.name)}function lu(v,p,m){return function du(v,p,m){return Cs.apply(this,arguments)}(v,p,m)}function Cs(){return(Cs=(0,f.Z)(function*(v,p,m){const E=Rn(v);he(v,p,Ci),yield E._initializationPromise;const T=ea(E,m);return yield Hc(T,E),T._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function ho(v,p,m){return function it(v,p,m){return Gc.apply(this,arguments)}(v,p,m)}function Gc(){return(Gc=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v);he(E.auth,p,Ci),yield E.auth._initializationPromise;const T=ea(E.auth,m);yield Hc(T,E.auth);const M=yield Ts(E);return T._openRedirect(E.auth,p,"reauthViaRedirect",M)})).apply(this,arguments)}function vh(v,p,m){return function fo(v,p,m){return bs.apply(this,arguments)}(v,p,m)}function bs(){return(bs=(0,f.Z)(function*(v,p,m){const E=(0,O.m9)(v);he(E.auth,p,Ci),yield E.auth._initializationPromise;const T=ea(E.auth,m);yield Ho(!1,E,p.providerId),yield Hc(T,E.auth);const M=yield Ts(E);return T._openRedirect(E.auth,p,"linkViaRedirect",M)})).apply(this,arguments)}function Gn(v,p){return zc.apply(this,arguments)}function zc(){return(zc=(0,f.Z)(function*(v,p){return yield Rn(v)._initializationPromise,hu(v,p,!1)})).apply(this,arguments)}function hu(v,p){return Yi.apply(this,arguments)}function Yi(){return(Yi=(0,f.Z)(function*(v,p,m=!1){const E=Rn(v),T=ea(E,p),H=yield new Ye(E,T,m).execute();return H&&!m&&(delete H.user._redirectEventId,yield E._persistUserIfCurrent(H.user),yield E._setRedirectUser(null,p)),H})).apply(this,arguments)}function Ts(v){return Ss.apply(this,arguments)}function Ss(){return(Ss=(0,f.Z)(function*(v){const p=qi(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class ta{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Wc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wh(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!wh(p)){const T=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(be(this.auth,T))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(na(p))}saveEventToCache(p){this.cachedEventUids.add(na(p)),this.lastProcessedEventTime=Date.now()}}function na(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function wh({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function ra(v){return As.apply(this,arguments)}function As(){return(As=(0,f.Z)(function*(v,p={}){return Je(v,"GET","/v1/projects",p)})).apply(this,arguments)}const ti=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,fu=/^https?/;function po(){return(po=(0,f.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield ra(v);for(const m of p)try{if(Hg(m))return}catch{}we(v,"unauthorized-domain")})).apply(this,arguments)}function Hg(v){const p=Te(),{protocol:m,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const H=new URL(v);return""===H.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&H.hostname===E}if(!fu.test(m))return!1;if(ti.test(v))return E===v;const T=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+T+"|"+T+")$","i").test(E)}const wn=new ct(3e4,6e4);function go(){const v=vn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let zr=null;function On(v){return zr=zr||function Gg(v){return new Promise((p,m)=>{var E,T,M;function H(){go(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{go(),m(be(v,"network-request-failed"))},timeout:wn.get()})}if(null!==(T=null===(E=vn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==T&&T.Iframe)p(gapi.iframes.getContext());else{if(null===(M=vn().gapi)||void 0===M||!M.load){const ce=Ki("iframefcb");return vn()[ce]=()=>{gapi.load?H():m(be(v,"network-request-failed"))},au(`https://apis.google.com/js/api.js?onload=${ce}`).catch(Le=>m(Le))}H()}}).catch(p=>{throw zr=null,p})}(v),zr}const qc=new ct(5e3,15e3),Qi={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mo=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function zn(v){const p=v.config;W(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?Tt(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:v.name,v:X.SDK_VERSION},T=mo.get(v.config.apiHost);T&&(E.eid=T);const M=v._getFrameworks();return M.length&&(E.fw=M.join(",")),`${m}?${(0,O.xO)(E).slice(1)}`}function Eh(){return Eh=(0,f.Z)(function*(v){const p=yield On(v),m=vn().gapi;return W(m,v,"internal-error"),p.open({where:document.body,url:zn(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Qi,dontclear:!0},E=>new Promise(function(){var T=(0,f.Z)(function*(M,H){yield E.restyle({setHideOnLeave:!1});const ce=be(v,"network-request-failed"),Le=vn().setTimeout(()=>{H(ce)},qc.get());function ze(){vn().clearTimeout(Le),M(E)}E.ping(ze).then(ze,()=>{H(ce)})});return function(M,H){return T.apply(this,arguments)}}()))}),Eh.apply(this,arguments)}const Ih={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class ia{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function mu(v,p,m,E,T,M){W(v.config.authDomain,v,"auth-domain-config-required"),W(v.config.apiKey,v,"invalid-api-key");const H={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:X.SDK_VERSION,eventId:T};if(p instanceof Ci){p.setDefaultLanguage(v.languageCode),H.providerId=p.providerId||"",(0,O.xb)(p.getCustomParameters())||(H.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,ze]of Object.entries(M||{}))H[Le]=ze}if(p instanceof Qs){const Le=p.getScopes().filter(ze=>""!==ze);Le.length>0&&(H.scopes=Le.join(","))}v.tenantId&&(H.tid=v.tenantId);const ce=H;for(const Le of Object.keys(ce))void 0===ce[Le]&&delete ce[Le];return`${function Zc({config:v}){return v.emulator?Tt(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,O.xO)(ce).slice(1)}`}const Wr="webStorageSupport",Yc=class bh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zo,this._completeRedirectFn=hu,this._overrideRedirectResult=yh}_openPopup(p,m,E,T){var M=this;return(0,f.Z)(function*(){var H;ue(null===(H=M.eventManagers[p._key()])||void 0===H?void 0:H.manager,"_initialize() not called before _openPopup()");const ce=mu(p,m,E,Te(),T);return function ot(v,p,m,E=500,T=600){const M=Math.max((window.screen.availHeight-T)/2,0).toString(),H=Math.max((window.screen.availWidth-E)/2,0).toString();let ce="";const Le=Object.assign(Object.assign({},Ih),{width:E.toString(),height:T.toString(),top:M,left:H}),ze=(0,O.z$)().toLowerCase();m&&(ce=Et(ze)?"_blank":m),q(ze)&&(p=p||"http://localhost",Le.scrollbars="yes");const yt=Object.entries(Le).reduce((kr,[Pr,aa])=>`${kr}${Pr}=${aa},`,"");if(function ds(v=(0,O.z$)()){var p;return It(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ze)&&"_self"!==ce)return function sa(v,p){const m=document.createElement("a");m.href=v,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",ce),new ia(null);const Wt=window.open(p||"",ce,yt);W(Wt,v,"popup-blocked");try{Wt.focus()}catch{}return new ia(Wt)}(p,ce,qi())})()}_openRedirect(p,m,E,T){var M=this;return(0,f.Z)(function*(){return yield M._originValidation(p),function ws(v){vn().location.href=v}(mu(p,m,E,Te(),T)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:T,promise:M}=this.eventManagers[m];return T?Promise.resolve(T):(ue(M,"If manager is not set, promise should be"),M)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,f.Z)(function*(){const E=yield function Ms(v){return Eh.apply(this,arguments)}(p),T=new ta(p);return E.register("authEvent",M=>(W(M?.authEvent,p,"invalid-auth-event"),{status:T.onEvent(M.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:T},m.iframes[p._key()]=E,T})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Wr,{type:Wr},T=>{var M;const H=null===(M=T?.[0])||void 0===M?void 0:M[Wr];void 0!==H&&m(!!H),we(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function yr(v){return po.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return hs()||Ge()||It()}};class Qc{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return Y("unexpected MultiFactorSessionType")}}}class Th extends Qc{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Th(p)}_finalizeEnroll(p,m,E){return function a0(v,p){return Je(v,"POST","/v2/accounts/mfaEnrollment:finalize",Vt(v,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function ou(v,p){return Je(v,"POST","/v2/accounts/mfaSignIn:finalize",Vt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kn=(()=>{class v{constructor(){}static assertion(m){return Th._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var on="@firebase/auth";class Sh{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,f.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Jc=(0,O.Pz)("authIdTokenMaxAge")||300;let Xc=null;const Ah=v=>function(){var p=(0,f.Z)(function*(m){const E=m&&(yield m.getIdTokenResult()),T=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(T&&T>Jc)return;const M=E?.token;Xc!==M&&(Xc=M,yield fetch(v,{method:M?"POST":"DELETE",headers:M?{Authorization:`Bearer ${M}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function el(v=(0,X.getApp)()){const p=(0,X._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function ee(v,p){const m=(0,X._getProvider)(v,"auth");if(m.isInitialized()){const T=m.getImmediate(),M=m.getOptions();if((0,O.vZ)(M,p??{}))return T;we(T,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:Yc,persistence:[sh,eh,Zo]}),E=(0,O.Pz)("authTokenSyncURL");if(E){const M=Ah(E);(function xg(v,p,m){(0,O.m9)(v).beforeAuthStateChanged(p,m)})(m,M,()=>M(m.currentUser)),function Mg(v,p,m,E){(0,O.m9)(v).onIdTokenChanged(p,m,E)}(m,H=>M(H))}const T=(0,O.q4)("auth");return T&&Od(m,`http://${T}`),m}!function Pn(v){(0,X._registerComponent)(new se.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),T=p.getProvider("heartbeat"),{apiKey:M,authDomain:H}=E.options;return((ce,Le)=>{W(M&&!M.includes(":"),"invalid-api-key",{appName:ce.name}),W(!H?.includes(":"),"argument-error",{appName:ce.name});const ze={apiKey:M,authDomain:H,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Gs(v)},yt=new Nd(ce,Le,ze);return function Z(v,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(B);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(yt,m),yt})(E,T)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,X._registerComponent)(new se.wA("auth-internal",p=>{const m=Rn(p.getProvider("auth").getImmediate());return new Sh(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,X.registerVersion)(on,"0.21.1",function yu(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,X.registerVersion)(on,"0.21.1","esm2017")}("Browser")},2090:(et,ve,N)=>{N.d(ve,{$s:()=>Ue,BH:()=>pe,L:()=>me,LL:()=>qt,P0:()=>fe,Pz:()=>be,Sg:()=>he,UG:()=>Y,US:()=>se,ZB:()=>L,ZR:()=>st,aH:()=>we,b$:()=>B,eu:()=>Xt,hl:()=>jt,jU:()=>ue,m9:()=>Pt,ne:()=>Bi,pd:()=>Jn,q4:()=>ye,r3:()=>cs,ru:()=>$,tV:()=>De,uI:()=>W,vZ:()=>dn,w1:()=>Z,xO:()=>wi,xb:()=>Ui,z$:()=>Re,zI:()=>ct,zd:()=>Ei});const ae=function(k){const R=[];let U=0;for(let oe=0;oe<k.length;oe++){let q=k.charCodeAt(oe);q<128?R[U++]=q:q<2048?(R[U++]=q>>6|192,R[U++]=63&q|128):55296==(64512&q)&&oe+1<k.length&&56320==(64512&k.charCodeAt(oe+1))?(q=65536+((1023&q)<<10)+(1023&k.charCodeAt(++oe)),R[U++]=q>>18|240,R[U++]=q>>12&63|128,R[U++]=q>>6&63|128,R[U++]=63&q|128):(R[U++]=q>>12|224,R[U++]=q>>6&63|128,R[U++]=63&q|128)}return R},se={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,R){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,oe=[];for(let q=0;q<k.length;q+=3){const Ge=k[q],Et=q+1<k.length,Ft=Et?k[q+1]:0,en=q+2<k.length,ut=en?k[q+2]:0;let Cr=(15&Ft)<<2|ut>>6,ds=63&ut;en||(ds=64,Et||(Cr=64)),oe.push(U[Ge>>2],U[(3&Ge)<<4|Ft>>4],U[Cr],U[ds])}return oe.join("")},encodeString(k,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(k):this.encodeByteArray(ae(k),R)},decodeString(k,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(k):function(k){const R=[];let U=0,oe=0;for(;U<k.length;){const q=k[U++];if(q<128)R[oe++]=String.fromCharCode(q);else if(q>191&&q<224){const Ge=k[U++];R[oe++]=String.fromCharCode((31&q)<<6|63&Ge)}else if(q>239&&q<365){const en=((7&q)<<18|(63&k[U++])<<12|(63&k[U++])<<6|63&k[U++])-65536;R[oe++]=String.fromCharCode(55296+(en>>10)),R[oe++]=String.fromCharCode(56320+(1023&en))}else{const Ge=k[U++],Et=k[U++];R[oe++]=String.fromCharCode((15&q)<<12|(63&Ge)<<6|63&Et)}}return R.join("")}(this.decodeStringToByteArray(k,R))},decodeStringToByteArray(k,R){this.init_();const U=R?this.charToByteMapWebSafe_:this.charToByteMap_,oe=[];for(let q=0;q<k.length;){const Ge=U[k.charAt(q++)],Ft=q<k.length?U[k.charAt(q)]:0;++q;const ut=q<k.length?U[k.charAt(q)]:64;++q;const It=q<k.length?U[k.charAt(q)]:64;if(++q,null==Ge||null==Ft||null==ut||null==It)throw Error();oe.push(Ge<<2|Ft>>4),64!==ut&&(oe.push(Ft<<4&240|ut>>2),64!==It&&oe.push(ut<<6&192|It))}return oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}},me=function(k){return function(k){const R=ae(k);return se.encodeByteArray(R,!0)}(k).replace(/\./g,"")},De=function(k){try{return se.decodeString(k,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function L(k,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return R}for(const U in R)!R.hasOwnProperty(U)||!j(U)||(k[U]=L(k[U],R[U]));return k}function j(k){return"__proto__"!==k}const K=()=>{try{return function Oe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=k&&De(k[1]);return R&&JSON.parse(R)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},ye=k=>{var R,U;return null===(U=null===(R=K())||void 0===R?void 0:R.emulatorHosts)||void 0===U?void 0:U[k]},fe=k=>{const R=ye(k);if(!R)return;const U=R.lastIndexOf(":");if(U<=0||U+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const oe=parseInt(R.substring(U+1),10);return"["===R[0]?[R.substring(1,U-1),oe]:[R.substring(0,U),oe]},we=()=>{var k;return null===(k=K())||void 0===k?void 0:k.config},be=k=>{var R;return null===(R=K())||void 0===R?void 0:R[`_${k}`]};class pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,U)=>{this.resolve=R,this.reject=U})}wrapCallback(R){return(U,oe)=>{U?this.reject(U):this.resolve(oe),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(U):R(U,oe))}}}function he(k,R){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const oe=R||"demo-project",q=k.iat||0,Ge=k.sub||k.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${oe}`,aud:oe,iat:q,exp:q+3600,auth_time:q,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},k);return[me(JSON.stringify({alg:"none",type:"JWT"})),me(JSON.stringify(Et)),""].join(".")}function Re(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Re())}function Y(){var k;const R=null===(k=K())||void 0===k?void 0:k.forceEnvironment;if("node"===R)return!0;if("browser"===R)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ue(){return"object"==typeof self&&self.self===self}function $(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function B(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Z(){const k=Re();return k.indexOf("MSIE ")>=0||k.indexOf("Trident/")>=0}function jt(){try{return"object"==typeof indexedDB}catch{return!1}}function Xt(){return new Promise((k,R)=>{try{let U=!0;const oe="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(oe);q.onsuccess=()=>{q.result.close(),U||self.indexedDB.deleteDatabase(oe),k(!0)},q.onupgradeneeded=()=>{U=!1},q.onerror=()=>{var Ge;R((null===(Ge=q.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(U){R(U)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class st extends Error{constructor(R,U,oe){super(U),this.code=R,this.customData=oe,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,qt.prototype.create)}}class qt{constructor(R,U,oe){this.service=R,this.serviceName=U,this.errors=oe}create(R,...U){const oe=U[0]||{},q=`${this.service}/${R}`,Ge=this.errors[R],Et=Ge?function dr(k,R){return k.replace(Vt,(U,oe)=>{const q=R[oe];return null!=q?String(q):`<${oe}?>`})}(Ge,oe):"Error";return new st(q,`${this.serviceName}: ${Et} (${q}).`,oe)}}const Vt=/\{\$([^}]+)}/g;function cs(k,R){return Object.prototype.hasOwnProperty.call(k,R)}function Ui(k){for(const R in k)if(Object.prototype.hasOwnProperty.call(k,R))return!1;return!0}function dn(k,R){if(k===R)return!0;const U=Object.keys(k),oe=Object.keys(R);for(const q of U){if(!oe.includes(q))return!1;const Ge=k[q],Et=R[q];if(Ir(Ge)&&Ir(Et)){if(!dn(Ge,Et))return!1}else if(Ge!==Et)return!1}for(const q of oe)if(!U.includes(q))return!1;return!0}function Ir(k){return null!==k&&"object"==typeof k}function wi(k){const R=[];for(const[U,oe]of Object.entries(k))Array.isArray(oe)?oe.forEach(q=>{R.push(encodeURIComponent(U)+"="+encodeURIComponent(q))}):R.push(encodeURIComponent(U)+"="+encodeURIComponent(oe));return R.length?"&"+R.join("&"):""}function Ei(k){const R={};return k.replace(/^\?/,"").split("&").forEach(oe=>{if(oe){const[q,Ge]=oe.split("=");R[decodeURIComponent(q)]=decodeURIComponent(Ge)}}),R}function Jn(k){const R=k.indexOf("?");if(!R)return"";const U=k.indexOf("#",R);return k.substring(R,U>0?U:void 0)}function Bi(k,R){const U=new dt(k,R);return U.subscribe.bind(U)}class dt{constructor(R,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{R(this)}).catch(oe=>{this.error(oe)})}next(R){this.forEachObserver(U=>{U.next(R)})}error(R){this.forEachObserver(U=>{U.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,U,oe){let q;if(void 0===R&&void 0===U&&void 0===oe)throw new Error("Missing Observer.");q=function lt(k,R){if("object"!=typeof k||null===k)return!1;for(const U of R)if(U in k&&"function"==typeof k[U])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:U,complete:oe},void 0===q.next&&(q.next=Xn),void 0===q.error&&(q.error=Xn),void 0===q.complete&&(q.complete=Xn);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Ge}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,R)}sendOne(R,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{U(this.observers[R])}catch(oe){typeof console<"u"&&console.error&&console.error(oe)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Xn(){}function Ue(k,R=1e3,U=2){const oe=R*Math.pow(U,k),q=Math.round(.5*oe*(Math.random()-.5)*2);return Math.min(144e5,oe+q)}function Pt(k){return k&&k._delegate?k._delegate:k}},9873:(et,ve,N)=>{var f=N(4650);let O=null;function X(){return O}class de{}const se=new f.OlP("DocumentToken");let xe=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return function me(){return(0,f.LFG)(F)}()},providedIn:"platform"}),n})();const De=new f.OlP("Location Initialized");let F=(()=>{class n extends xe{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return X().getBaseHref(this._doc)}onPopState(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=X().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,s){L()?this._history.pushState(t,r,s):this._location.hash=s}replaceState(t,r,s){L()?this._history.replaceState(t,r,s):this._location.hash=s}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function j(){return new F((0,f.LFG)(se))}()},providedIn:"platform"}),n})();function L(){return!!window.history.pushState}function Oe(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Ce(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let He=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(ye)},providedIn:"root"}),n})();const K=new f.OlP("appBaseHref");let ye=(()=>{class n extends He{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,f.f3M)(se).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return Oe(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),s=this._platformLocation.hash;return s&&t?`${r}${s}`:r}pushState(t,r,s,u){const l=this.prepareExternalUrl(s+Be(u));this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){const l=this.prepareExternalUrl(s+Be(u));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xe),f.LFG(K,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),fe=(()=>{class n extends He{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=Oe(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,s,u){let l=this.prepareExternalUrl(s+Be(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,s,u){let l=this.prepareExternalUrl(s+Be(u));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(xe),f.LFG(K,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),we=(()=>{class n{constructor(t){this._subject=new f.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Re(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Ce(he(r))),this._locationStrategy.onPopState(s=>{this._subject.emit({url:this.path(!0),pop:!0,state:s.state,type:s.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function pe(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,he(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",s=null){this._locationStrategy.pushState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),s)}replaceState(t,r="",s=null){this._locationStrategy.replaceState(s,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),s)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(s=>s(t,r))}subscribe(t,r,s){return this._subject.subscribe({next:t,error:r,complete:s})}}return n.normalizeQueryParams=Be,n.joinWithSlash=Oe,n.stripTrailingSlash=Ce,n.\u0275fac=function(t){return new(t||n)(f.LFG(He))},n.\u0275prov=f.Yz7({token:n,factory:function(){return function be(){return new we((0,f.LFG)(He))}()},providedIn:"root"}),n})();function he(n){return n.replace(/\/index.html$/,"")}const W={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Y=(()=>((Y=Y||{})[Y.Decimal=0]="Decimal",Y[Y.Percent=1]="Percent",Y[Y.Currency=2]="Currency",Y[Y.Scientific=3]="Scientific",Y))(),Z=(()=>((Z=Z||{})[Z.Decimal=0]="Decimal",Z[Z.Group=1]="Group",Z[Z.List=2]="List",Z[Z.PercentSign=3]="PercentSign",Z[Z.PlusSign=4]="PlusSign",Z[Z.MinusSign=5]="MinusSign",Z[Z.Exponential=6]="Exponential",Z[Z.SuperscriptingExponent=7]="SuperscriptingExponent",Z[Z.PerMille=8]="PerMille",Z[Z.Infinity=9]="Infinity",Z[Z.NaN=10]="NaN",Z[Z.TimeSeparator=11]="TimeSeparator",Z[Z.CurrencyDecimal=12]="CurrencyDecimal",Z[Z.CurrencyGroup=13]="CurrencyGroup",Z))();function Je(n,e){const t=(0,f.cg1)(n),r=t[f.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===Z.CurrencyDecimal)return t[f.wAp.NumberSymbols][Z.Decimal];if(e===Z.CurrencyGroup)return t[f.wAp.NumberSymbols][Z.Group]}return r}const en=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function yg(n,e,t,r,s){const l=function zs(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),s=r[0],u=r[1],l=-1!==s.indexOf(".")?s.split("."):[s.substring(0,s.lastIndexOf("0")+1),s.substring(s.lastIndexOf("0")+1)],g=l[0],_=l[1]||"";t.posPre=g.substring(0,g.indexOf("#"));for(let b=0;b<_.length;b++){const A=_.charAt(b);"0"===A?t.minFrac=t.maxFrac=b+1:"#"===A?t.maxFrac=b+1:t.posSuf+=A}const D=g.split(",");if(t.gSize=D[1]?D[1].length:0,t.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,u){const b=s.length-t.posPre.length-t.posSuf.length,A=u.indexOf("#");t.negPre=u.substring(0,A).replace(/'/g,""),t.negSuf=u.slice(A+b).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function as(n,e){return(0,f.cg1)(n)[f.wAp.NumberFormats][e]}(e,Y.Currency),Je(e,Z.MinusSign));return l.minFrac=function Ei(n){let e;const t=W[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),l.maxFrac=l.minFrac,function Gs(n,e,t,r,s,u,l=!1){let g="",_=!1;if(isFinite(n)){let D=function Ic(n){let r,s,u,l,g,e=Math.abs(n)+"",t=0;for((s=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(s<0&&(s=u),s+=+e.slice(u+1),e=e.substring(0,u)):s<0&&(s=e.length),u=0;"0"===e.charAt(u);u++);if(u===(g=e.length))r=[0],s=1;else{for(g--;"0"===e.charAt(g);)g--;for(s-=u,r=[],l=0;u<=g;u++,l++)r[l]=Number(e.charAt(u))}return s>22&&(r=r.splice(0,21),t=s-1,s=1),{digits:r,exponent:t,integerLen:s}}(n);l&&(D=function Od(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(D));let b=e.minInt,A=e.minFrac,P=e.maxFrac;if(u){const ft=u.match(en);if(null===ft)throw new Error(`${u} is not a valid digit info`);const bt=ft[1],Mt=ft[3],xt=ft[5];null!=bt&&(b=Bo(bt)),null!=Mt&&(A=Bo(Mt)),null!=xt?P=Bo(xt):null!=Mt&&A>P&&(P=A)}!function kd(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,s=r.length-n.integerLen;const u=Math.min(Math.max(e,s),t);let l=u+n.integerLen,g=r[l];if(l>0){r.splice(Math.max(n.integerLen,l));for(let A=l;A<r.length;A++)r[A]=0}else{s=Math.max(0,s),n.integerLen=1,r.length=Math.max(1,l=u+1),r[0]=0;for(let A=1;A<l;A++)r[A]=0}if(g>=5)if(l-1<0){for(let A=0;A>l;A--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[l-1]++;for(;s<Math.max(0,u);s++)r.push(0);let _=0!==u;const D=e+n.integerLen,b=r.reduceRight(function(A,P,G,te){return te[G]=(P+=A)<10?P:P-10,_&&(0===te[G]&&G>=D?te.pop():_=!1),P>=10?1:0},0);b&&(r.unshift(b),n.integerLen++)}(D,A,P);let G=D.digits,te=D.integerLen;const Ee=D.exponent;let Me=[];for(_=G.every(ft=>!ft);te<b;te++)G.unshift(0);for(;te<0;te++)G.unshift(0);te>0?Me=G.splice(te,G.length):(Me=G,G=[0]);const at=[];for(G.length>=e.lgSize&&at.unshift(G.splice(-e.lgSize,G.length).join(""));G.length>e.gSize;)at.unshift(G.splice(-e.gSize,G.length).join(""));G.length&&at.unshift(G.join("")),g=at.join(Je(t,r)),Me.length&&(g+=Je(t,s)+Me.join("")),Ee&&(g+=Je(t,Z.Exponential)+"+"+Ee)}else g=Je(t,Z.Infinity);return g=n<0&&!_?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}(n,l,e,Z.CurrencyGroup,Z.CurrencyDecimal,s).replace("\xa4",t).replace("\xa4","").trim()}function Bo(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const Tr=/\s+/,Ve=[];let ht=(()=>{class n{constructor(t,r,s,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=s,this._renderer=u,this.initialClasses=Ve,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Tr):Ve}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Tr):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const s=this.stateMap.get(t);void 0!==s?(s.enabled!==r&&(s.changed=!0,s.enabled=r),s.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],s=t[1];s.changed?(this._toggleClass(r,s.enabled),s.changed=!1):s.touched||(s.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),s.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Tr).forEach(s=>{r?this._renderer.addClass(this._ngEl.nativeElement,s):this._renderer.removeClass(this._ngEl.nativeElement,s)})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.ZZ4),f.Y36(f.aQg),f.Y36(f.SBq),f.Y36(f.Qsj))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Cn{constructor(e,t,r,s){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=s}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ps=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,s){this._viewContainer=t,this._template=r,this._differs=s,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((s,u,l)=>{if(null==s.previousIndex)r.createEmbeddedView(this._template,new Cn(s.item,this._ngForOf,-1,-1),null===l?void 0:l);else if(null==l)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,l),Yt(g,s)}});for(let s=0,u=r.length;s<u;s++){const g=r.get(s).context;g.index=s,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(s=>{Yt(r.get(s.currentIndex),s)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc),f.Y36(f.ZZ4))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Yt(n,e){n.context.$implicit=e.item}let Hi=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Dt,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Ws("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Ws("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.s_b),f.Y36(f.Rgc))},n.\u0275dir=f.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class Dt{constructor(){this.$implicit=null,this.ngIf=null}}function Ws(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,f.AaK)(e)}'.`)}let Js=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,s="symbol",u,l){if(!function Fd(n){return!(null==n||""===n||n!=n)}(t))return null;l=l||this._locale,"boolean"==typeof s&&(s=s?"symbol":"code");let g=r||this._defaultCurrencyCode;"code"!==s&&(g="symbol"===s||"symbol-narrow"===s?function rt(n,e,t="en"){const r=function us(n){return(0,f.cg1)(n)[f.wAp.Currencies]}(t)[n]||W[n]||[],s=r[1];return"narrow"===e&&"string"==typeof s?s:r[0]||n}(g,"symbol"===s?"wide":"narrow",l):s);try{return yg(function jo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),l,g,r,u)}catch(_){throw function yn(n,e){return new f.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.soG,16),f.Y36(f.EJc,16))},n.\u0275pipe=f.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let ja=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();let Ga=(()=>{class n{}return n.\u0275prov=(0,f.Yz7)({token:n,providedIn:"root",factory:()=>new Tc((0,f.LFG)(se),window)}),n})();class Tc{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function za(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let s=r.currentNode;for(;s;){const u=s.shadowRoot;if(u){const l=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(l)return l}s=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,s=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],s-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Ho(this.window.history)||Ho(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Ho(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Qa extends de{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Si extends Qa{static makeCurrent(){!function ae(n){O||(O=n)}(new Si)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Xd(){return Wi=Wi||document.querySelector("base"),Wi?Wi.getAttribute("href"):null}();return null==t?null:function no(n){Ja=Ja||document.createElement("a"),Ja.setAttribute("href",n);const e=Ja.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Wi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function hr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[s,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(s.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let Ja,Wi=null;const Ko=new f.OlP("TRANSITION_ID"),QD=[{provide:f.ip1,useFactory:function eh(n,e,t){return()=>{t.get(f.CZH).donePromise.then(()=>{const r=X(),s=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<s.length;u++)r.remove(s[u])})}},deps:[Ko,se,f.zs3],multi:!0}];let c0=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const Xa=new f.OlP("EventManagerPlugins");let qi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(s=>s.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,s){return this._findPluginFor(r).addEventListener(t,r,s)}addGlobalEventListener(t,r,s){return this._findPluginFor(r).addGlobalEventListener(t,r,s)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const s=this._plugins;for(let u=0;u<s.length;u++){const l=s[u];if(l.supports(t))return this._eventNameToPlugin.set(t,l),l}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Xa),f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class Ng{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const s=X().getGlobalEventTarget(this._doc,e);if(!s)throw new Error(`Unsupported event target ${s} for event ${t}`);return this.addEventListener(s,t,r)}}let vn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(s=>{this._stylesSet.has(s)||(this._stylesSet.add(s),r.add(s))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),ws=(()=>{class n extends vn{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,s){t.forEach(u=>{const l=this._doc.createElement("style");l.textContent=u,s.push(r.appendChild(l))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(Yo),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,s)=>{this._addStylesToHost(t,s,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(Yo))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Yo(n){X().remove(n)}const eu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Ai=/%COMP%/g;function fi(n,e){return e.flat(100).map(t=>t.replace(Ai,n))}function nu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let ru=(()=>{class n{constructor(t,r,s){this.eventManager=t,this.sharedStylesHost=r,this.appId=s,this.rendererByCompId=new Map,this.defaultRenderer=new ro(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case f.ifc.Emulated:{let s=this.rendererByCompId.get(r.id);return s||(s=new io(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,s)),s.applyToHost(t),s}case f.ifc.ShadowDom:return new iu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const s=fi(r.id,r.styles);this.sharedStylesHost.addStyles(s),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(qi),f.LFG(ws),f.LFG(f.AFp))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();class ro{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(eu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(nh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(nh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,s){if(s){t=s+":"+t;const u=eu[s];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const s=eu[r];s?e.removeAttributeNS(s,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,s){s&(f.JOm.DashCase|f.JOm.Important)?e.style.setProperty(t,r,s&f.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&f.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,nu(r)):this.eventManager.addEventListener(e,t,nu(r))}}function nh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class io extends ro{constructor(e,t,r,s){super(e),this.component=r;const u=fi(s+"-"+r.id,r.styles);t.addStyles(u),this.contentAttr=function Es(n){return"_ngcontent-%COMP%".replace(Ai,n)}(s+"-"+r.id),this.hostAttr=function tu(n){return"_nghost-%COMP%".replace(Ai,n)}(s+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class iu extends ro{constructor(e,t,r,s){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=fi(s.id,s.styles);for(let l=0;l<u.length;l++){const g=document.createElement("style");g.textContent=u[l],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let rh=(()=>{class n extends Ng{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,s){return t.addEventListener(r,s,!1),()=>this.removeEventListener(t,r,s)}removeEventListener(t,r,s){return t.removeEventListener(r,s)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const su=["alt","control","meta","shift"],ih={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},sh={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let oh=(()=>{class n extends Ng{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,s){const u=n.parseEventName(r),l=n.eventCallback(u.fullKey,s,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>X().onAndCancel(t,u.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),s=r.shift();if(0===r.length||"keydown"!==s&&"keyup"!==s)return null;const u=n._normalizeKey(r.pop());let l="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),l="code."),su.forEach(D=>{const b=r.indexOf(D);b>-1&&(r.splice(b,1),l+=D+".")}),l+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=s,_.fullKey=l,_}static matchEventFullKeyCode(t,r){let s=ih[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(s=t.code,u="code."),!(null==s||!s)&&(s=s.toLowerCase()," "===s?s="space":"."===s&&(s="dot"),su.forEach(l=>{l!==s&&(0,sh[l])(t)&&(u+=l+".")}),u+=s,u===r)}static eventCallback(t,r,s){return u=>{n.matchEventFullKeyCode(u,t)&&s.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();const oo=(0,f.eFA)(f._c5,"browser",[{provide:f.Lbi,useValue:"browser"},{provide:f.g9A,useValue:function Ki(){Si.makeCurrent()},multi:!0},{provide:se,useFactory:function uh(){return(0,f.RDi)(document),document},deps:[]}]),ch=new f.OlP(""),Vc=[{provide:f.rWj,useClass:class Zo{addToWindow(e){f.dqk.getAngularTestability=(r,s=!0)=>{const u=e.findTestabilityInTree(r,s);if(null==u)throw new Error("Could not find testability for element.");return u},f.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),f.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),f.dqk.frameworkStabilizers||(f.dqk.frameworkStabilizers=[]),f.dqk.frameworkStabilizers.push(r=>{const s=f.dqk.getAllAngularTestabilities();let u=s.length,l=!1;const g=function(_){l=l||_,u--,0==u&&r(l)};s.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?X().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:f.lri,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]},{provide:f.dDg,useClass:f.dDg,deps:[f.R0b,f.eoX,f.rWj]}],ao=[{provide:f.zSh,useValue:"root"},{provide:f.qLn,useFactory:function Pg(){return new f.qLn},deps:[]},{provide:Xa,useClass:rh,multi:!0,deps:[se,f.R0b,f.Lbi]},{provide:Xa,useClass:oh,multi:!0,deps:[se]},{provide:ru,useClass:ru,deps:[qi,ws,f.AFp]},{provide:f.FYo,useExisting:ru},{provide:vn,useExisting:ws},{provide:ws,useClass:ws,deps:[se]},{provide:qi,useClass:qi,deps:[Xa,f.R0b]},{provide:class Sc{},useClass:c0,deps:[]},[]];let Fg=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:f.AFp,useValue:t.appId},{provide:Ko,useExisting:f.AFp},QD]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(ch,12))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[...ao,...Vc],imports:[ja,f.hGG]}),n})(),Zi=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(se))},n.\u0275prov=f.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function uo(){return new Zi((0,f.LFG)(se))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var tn=N(8996),ir=N(7669);function Ye(...n){const e=(0,ir.yG)(n);return(0,tn.D)(n,e)}var Mi=N(7579);class Or extends Mi.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const lo=(0,N(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var ei=N(9751);const{isArray:yh}=Array,{getPrototypeOf:_h,prototype:cu,keys:lu}=Object;function du(n){if(1===n.length){const e=n[0];if(yh(e))return{args:e,keys:null};if(function Cs(n){return n&&"object"==typeof n&&_h(n)===cu}(e)){const t=lu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var ho=N(4671),it=N(4004);const{isArray:Gc}=Array;function fo(n){return(0,it.U)(e=>function vh(n,e){return Gc(e)?n(...e):n(e)}(n,e))}function bs(n,e){return n.reduce((t,r,s)=>(t[r]=e[s],t),{})}var Gn=N(5403),zc=N(9672);function hu(...n){const e=(0,ir.yG)(n),t=(0,ir.jO)(n),{args:r,keys:s}=du(n);if(0===r.length)return(0,tn.D)([],e);const u=new ei.y(function Yi(n,e,t=ho.y){return r=>{Ts(e,()=>{const{length:s}=n,u=new Array(s);let l=s,g=s;for(let _=0;_<s;_++)Ts(e,()=>{const D=(0,tn.D)(n[_],e);let b=!1;D.subscribe((0,Gn.x)(r,A=>{u[_]=A,b||(b=!0,g--),g||r.next(t(u.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,s?l=>bs(s,l):ho.y));return t?u.pipe(fo(t)):u}function Ts(n,e,t){n?(0,zc.f)(t,n,e):e()}var Ss=N(8189);function ta(...n){return function f0(){return(0,Ss.J)(1)}()((0,tn.D)(n,(0,ir.yG)(n)))}var na=N(8421);function wh(n){return new ei.y(e=>{(0,na.Xf)(n()).subscribe(e)})}var Wc=N(9635),ra=N(576);function As(n,e){const t=(0,ra.m)(n)?n:()=>n,r=s=>s.error(t());return new ei.y(e?s=>e.schedule(r,0,s):r)}var ti=N(515),fu=N(727),yr=N(4482);function po(){return(0,yr.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Gn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const s=n._connection,u=t;t=null,s&&(!u||s===u)&&s.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Hg extends ei.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,yr.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new fu.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Gn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=fu.w0.EMPTY)}return e}refCount(){return po()(this)}}function wn(n,e){return(0,yr.e)((t,r)=>{let s=null,u=0,l=!1;const g=()=>l&&!s&&r.complete();t.subscribe((0,Gn.x)(r,_=>{s?.unsubscribe();let D=0;const b=u++;(0,na.Xf)(n(_,b)).subscribe(s=(0,Gn.x)(r,A=>r.next(e?e(_,A,b,D++):A),()=>{s=null,g()}))},()=>{l=!0,g()}))})}function go(n){return n<=0?()=>ti.E:(0,yr.e)((e,t)=>{let r=0;e.subscribe((0,Gn.x)(t,s=>{++r<=n&&(t.next(s),n<=r&&t.complete())}))})}function zr(n,e){return(0,yr.e)((t,r)=>{let s=0;t.subscribe((0,Gn.x)(r,u=>n.call(e,u,s++)&&r.next(u)))})}var On=N(5577);function qc(n){return(0,yr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,s=>{r=!0,t.next(s)},()=>{r||t.next(n),t.complete()}))})}function zg(n=Kc){return(0,yr.e)((e,t)=>{let r=!1;e.subscribe((0,Gn.x)(t,s=>{r=!0,t.next(s)},()=>r?t.complete():t.error(n())))})}function Kc(){return new lo}function Qi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zr((s,u)=>n(s,u,r)):ho.y,go(1),t?qc(e):zg(()=>new lo))}function mo(n,e){return(0,ra.m)(e)?(0,On.z)(n,e,1):(0,On.z)(n,1)}function zn(n,e,t){const r=(0,ra.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,yr.e)((s,u)=>{var l;null===(l=r.subscribe)||void 0===l||l.call(r);let g=!0;s.subscribe((0,Gn.x)(u,_=>{var D;null===(D=r.next)||void 0===D||D.call(r,_),u.next(_)},()=>{var _;g=!1,null===(_=r.complete)||void 0===_||_.call(r),u.complete()},_=>{var D;g=!1,null===(D=r.error)||void 0===D||D.call(r,_),u.error(_)},()=>{var _,D;g&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(D=r.finalize)||void 0===D||D.call(r)}))}):ho.y}function Ms(n){return(0,yr.e)((e,t)=>{let u,r=null,s=!1;r=e.subscribe((0,Gn.x)(t,void 0,void 0,l=>{u=(0,na.Xf)(n(l,Ms(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):s=!0})),s&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Eh(n,e,t,r,s){return(u,l)=>{let g=t,_=e,D=0;u.subscribe((0,Gn.x)(l,b=>{const A=D++;_=g?n(_,b,A):(g=!0,b),r&&l.next(_)},s&&(()=>{g&&l.next(_),l.complete()})))}}function Ih(n,e){return(0,yr.e)(Eh(n,e,arguments.length>=2,!0))}function pu(n){return n<=0?()=>ti.E:(0,yr.e)((e,t)=>{let r=[];e.subscribe((0,Gn.x)(t,s=>{r.push(s),n<r.length&&r.shift()},()=>{for(const s of r)t.next(s);t.complete()},void 0,()=>{r=null}))})}function gu(n,e){const t=arguments.length>=2;return r=>r.pipe(n?zr((s,u)=>n(s,u,r)):ho.y,pu(1),t?qc(e):zg(()=>new lo))}function ia(n){return(0,yr.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ot="primary",sa=Symbol("RouteTitle");class Wg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function yo(n){return new Wg(n)}function mu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const s={};for(let u=0;u<r.length;u++){const l=r[u],g=n[u];if(l.startsWith(":"))s[l.substring(1)]=g;else if(l!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:s}}function Wr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let s;for(let u=0;u<t.length;u++)if(s=t[u],!bh(n[s],e[s]))return!1;return!0}function bh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((s,u)=>r[u]===s)}return n===e}function Yc(n){return Array.prototype.concat.apply([],n)}function Qc(n){return n.length>0?n[n.length-1]:null}function kn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function on(n){return(0,f.CqO)(n)?n:(0,f.QGY)(n)?(0,tn.D)(Promise.resolve(n)):Ye(n)}const xs=!1,Sh={exact:function Jc(n,e,t){if(!M(n.segments,e.segments)||!v(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Jc(n.children[r],e.children[r],t))return!1;return!0},subset:Ah},yu={exact:function oa(n,e){return Wr(n,e)},subset:function Xc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>bh(n[t],e[t]))},ignored:()=>!0};function Pn(n,e,t){return Sh[t.paths](n.root,e.root,t.matrixParams)&&yu[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Ah(n,e,t){return el(n,e,e.segments,t)}function el(n,e,t,r){if(n.segments.length>t.length){const s=n.segments.slice(0,t.length);return!(!M(s,t)||e.hasChildren()||!v(s,t,r))}if(n.segments.length===t.length){if(!M(n.segments,t)||!v(n.segments,t,r))return!1;for(const s in e.children)if(!n.children[s]||!Ah(n.children[s],e.children[s],r))return!1;return!0}{const s=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(M(n.segments,s)&&v(n.segments,s,r)&&n.children[ot])&&el(n.children[ot],e,u,r)}}function v(n,e,t){return e.every((r,s)=>yu[t](n[s].parameters,r.parameters))}class p{constructor(e=new m([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yo(this.queryParams)),this._queryParamMap}toString(){return ze.serialize(this)}}class m{constructor(e,t){this.segments=e,this.children=t,this.parent=null,kn(t,(r,s)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yt(this)}}class E{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=yo(this.parameters)),this._parameterMap}toString(){return tl(this)}}function M(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let ce=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return new Le},providedIn:"root"}),n})();class Le{parse(e){const t=new Kg(e);return new p(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Wt(e.root,!0)}`,r=function Mh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(s=>`${Pr(t)}=${Pr(s)}`).join("&"):`${Pr(t)}=${Pr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function aa(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ze=new Le;function yt(n){return n.segments.map(e=>tl(e)).join("/")}function Wt(n,e){if(!n.hasChildren())return yt(n);if(e){const t=n.children[ot]?Wt(n.children[ot],!1):"",r=[];return kn(n.children,(s,u)=>{u!==ot&&r.push(`${u}:${Wt(s,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function H(n,e){let t=[];return kn(n.children,(r,s)=>{s===ot&&(t=t.concat(e(r,s)))}),kn(n.children,(r,s)=>{s!==ot&&(t=t.concat(e(r,s)))}),t}(n,(r,s)=>s===ot?[Wt(n.children[ot],!1)]:[`${s}:${Wt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ot]?`${yt(n)}/${t[0]}`:`${yt(n)}/(${t.join("//")})`}}function kr(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Pr(n){return kr(n).replace(/%3B/gi,";")}function xi(n){return kr(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Ji(n){return decodeURIComponent(n)}function _u(n){return Ji(n.replace(/\+/g,"%20"))}function tl(n){return`${xi(n.path)}${function ua(n){return Object.keys(n).map(e=>`;${xi(e)}=${xi(n[e])}`).join("")}(n.parameters)}`}const xh=/^[^\/()?;=#]+/;function _o(n){const e=n.match(xh);return e?e[0]:""}const Rh=/^[^=?&#]+/,nl=/^[^&#]+/;class Kg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m([],{}):new m([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ot]=new m(e,t)),r}parseSegment(){const e=_o(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new f.vHH(4009,xs);return this.capture(e),new E(Ji(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=_o(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const s=_o(this.remaining);s&&(r=s,this.capture(r))}e[Ji(t)]=Ji(r)}parseQueryParam(e){const t=function qg(n){const e=n.match(Rh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function Nh(n){const e=n.match(nl);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const s=_u(t),u=_u(r);if(e.hasOwnProperty(s)){let l=e[s];Array.isArray(l)||(l=[l],e[s]=l),l.push(u)}else e[s]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=_o(this.remaining),s=this.remaining[r.length];if("/"!==s&&")"!==s&&";"!==s)throw new f.vHH(4010,xs);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=ot);const l=this.parseChildren();t[u]=1===Object.keys(l).length?l[ot]:new m([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new f.vHH(4011,xs)}}function Oh(n){return n.segments.length>0?new m([],{[ot]:n}):n}function vu(n){const e={};for(const r of Object.keys(n.children)){const u=vu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function eC(n){if(1===n.numberOfChildren&&n.children[ot]){const e=n.children[ot];return new m(n.segments.concat(e.segments),e.children)}return n}(new m(n.segments,e))}function ca(n){return n instanceof p}function g0(n,e,t,r,s){if(0===t.length)return Rs(e.root,e.root,e.root,r,s);const u=function Yg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Zg(!0,0,n);let e=0,t=!1;const r=n.reduce((s,u,l)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return kn(u.outlets,(_,D)=>{g[D]="string"==typeof _?_.split("/"):_}),[...s,{outlets:g}]}if(u.segmentPath)return[...s,u.segmentPath]}return"string"!=typeof u?[...s,u]:0===l?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&s.push(g))}),s):[...s,u]},[]);return new Zg(t,e,r)}(t);return u.toRoot()?Rs(e.root,e.root,new m([],{}),r,s):function l(_){const D=function y0(n,e,t,r){if(n.isAbsolute)return new da(e.root,!0,0);if(-1===r)return new da(t,t===e.root,0);return function il(n,e,t){let r=n,s=e,u=t;for(;u>s;){if(u-=s,r=r.parent,!r)throw new f.vHH(4005,!1);s=r.segments.length}return new da(r,!1,s-u)}(t,r+(rl(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),b=D.processChildren?ha(D.segmentGroup,D.index,u.commands):Lh(D.segmentGroup,D.index,u.commands);return Rs(e.root,D.segmentGroup,b,r,s)}(n.snapshot?._lastPathIndex)}function rl(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Ph(n){return"object"==typeof n&&null!=n&&n.outlets}function Rs(n,e,t,r,s){let l,u={};r&&kn(r,(_,D)=>{u[D]=Array.isArray(_)?_.map(b=>`${b}`):`${_}`}),l=n===e?t:m0(n,e,t);const g=Oh(vu(l));return new p(g,u,s)}function m0(n,e,t){const r={};return kn(n.children,(s,u)=>{r[u]=s===e?t:m0(s,e,t)}),new m(n.segments,r)}class Zg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rl(r[0]))throw new f.vHH(4003,!1);const s=r.find(Ph);if(s&&s!==Qc(r))throw new f.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class da{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Lh(n,e,t){if(n||(n=new m([],{})),0===n.segments.length&&n.hasChildren())return ha(n,e,t);const r=function Jg(n,e,t){let r=0,s=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;s<n.segments.length;){if(r>=t.length)return u;const l=n.segments[s],g=t[r];if(Ph(g))break;const _=`${g}`,D=r<t.length-1?t[r+1]:null;if(s>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!Xg(_,D,l))return u;r+=2}else{if(!Xg(_,{},l))return u;r++}s++}return{match:!0,pathIndex:s,commandIndex:r}}(n,e,t),s=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new m(n.segments.slice(0,r.pathIndex),{});return u.children[ot]=new m(n.segments.slice(r.pathIndex),n.children),ha(u,0,s)}return r.match&&0===s.length?new m(n.segments,{}):r.match&&!n.hasChildren()?sl(n,e,t):r.match?ha(n,0,s):sl(n,e,t)}function ha(n,e,t){if(0===t.length)return new m(n.segments,{});{const r=function Fh(n){return Ph(n[0])?n[0].outlets:{[ot]:n}}(t),s={};return kn(r,(u,l)=>{"string"==typeof u&&(u=[u]),null!==u&&(s[l]=Lh(n.children[l],e,u))}),kn(n.children,(u,l)=>{void 0===r[l]&&(s[l]=u)}),new m(n.segments,s)}}function sl(n,e,t){const r=n.segments.slice(0,e);let s=0;for(;s<t.length;){const u=t[s];if(Ph(u)){const _=ol(u.outlets);return new m(r,_)}if(0===s&&rl(t[0])){r.push(new E(n.segments[e].path,_0(t[0]))),s++;continue}const l=Ph(u)?u.outlets[ot]:`${u}`,g=s<t.length-1?t[s+1]:null;l&&g&&rl(g)?(r.push(new E(l,_0(g))),s+=2):(r.push(new E(l,{})),s++)}return new m(r,{})}function ol(n){const e={};return kn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=sl(new m([],{}),0,t))}),e}function _0(n){const e={};return kn(n,(t,r)=>e[r]=`${t}`),e}function Xg(n,e,t){return n==t.path&&Wr(e,t.parameters)}const al="imperative";class Xi{constructor(e,t){this.id=e,this.url=t}}class em extends Xi{constructor(e,t,r="imperative",s=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=s}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class vo extends Xi{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class ul extends Xi{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class cl extends Xi{constructor(e,t,r,s){super(e,t),this.reason=r,this.code=s,this.type=16}}class Vh extends Xi{constructor(e,t,r,s){super(e,t),this.error=r,this.target=s,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class fa extends Xi{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nC extends Xi{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class rC extends Xi{constructor(e,t,r,s,u){super(e,t),this.urlAfterRedirects=r,this.state=s,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class vx extends Xi{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class iC extends Xi{constructor(e,t,r,s){super(e,t),this.urlAfterRedirects=r,this.state=s,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class tm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class sC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class v0{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Uh{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class nm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class w0{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rm{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let aC=(()=>{class n{createUrlTree(t,r,s,u,l,g){return g0(t||r.root,s,u,l,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})(),uC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(e){return aC.\u0275fac(e)},providedIn:"root"}),n})();class I0{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=im(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=im(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=es(e,this._root);return t.length<2?[]:t[t.length-2].children.map(s=>s.value).filter(s=>s!==e)}pathFromRoot(e){return es(e,this._root).map(t=>t.value)}}function im(n,e){if(n===e.value)return e;for(const t of e.children){const r=im(n,t);if(r)return r}return null}function es(n,e){if(n===e.value)return[e];for(const t of e.children){const r=es(n,t);if(r.length)return r.unshift(e),r}return[]}class ni{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function wu(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class cC extends I0{constructor(e,t){super(e),this.snapshot=t,sm(this,e)}toString(){return this.snapshot.toString()}}function lC(n,e){const t=function Ex(n,e){const l=new Bh([],{},{},"",{},ot,e,null,n.root,-1,{});return new C0("",new ni(l,[]))}(n,e),r=new Or([new E("",{})]),s=new Or({}),u=new Or({}),l=new Or({}),g=new Or(""),_=new ll(r,s,l,g,u,ot,e,t.root);return _.snapshot=t.root,new cC(new ni(_,[]),t)}class ll{constructor(e,t,r,s,u,l,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.title=this.data?.pipe((0,it.U)(D=>D[sa]))??Ye(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>yo(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>yo(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function dC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const s=t[r],u=t[r-1];if(s.routeConfig&&""===s.routeConfig.path)r--;else{if(u.component)break;r--}}return function D0(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class Bh{get title(){return this.data?.[sa]}constructor(e,t,r,s,u,l,g,_,D,b,A){this.url=e,this.params=t,this.queryParams=r,this.fragment=s,this.data=u,this.outlet=l,this.component=g,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=b,this._resolve=A}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=yo(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=yo(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class C0 extends I0{constructor(e,t){super(t),this.url=e,sm(this,t)}toString(){return b0(this._root)}}function sm(n,e){e.value._routerState=n,e.children.forEach(t=>sm(n,t))}function b0(n){const e=n.children.length>0?` { ${n.children.map(b0).join(", ")} } `:"";return`${n.value}${e}`}function dl(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Wr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Wr(e.params,t.params)||n.params.next(t.params),function Zc(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Wr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Wr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Ri(n,e){const t=Wr(n.params,e.params)&&function T(n,e){return M(n,e)&&n.every((t,r)=>Wr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Ri(n.parent,e.parent))}function Eu(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const s=function T0(n,e,t){return e.children.map(r=>{for(const s of t.children)if(n.shouldReuseRoute(r.value,s.value.snapshot))return Eu(n,r,s);return Eu(n,r)})}(n,e,t);return new ni(r,s)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const l=u.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(g=>Eu(n,g)),l}}const r=function S0(n){return new ll(new Or(n.url),new Or(n.params),new Or(n.queryParams),new Or(n.fragment),new Or(n.data),n.outlet,n.component,n)}(e.value),s=e.children.map(u=>Eu(n,u));return new ni(r,s)}}const A0="ngNavigationCancelingError";function hC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=ca(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,s=fC(!1,0,e);return s.url=t,s.navigationBehaviorOptions=r,s}function fC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[A0]=!0,r.cancellationCode=e,t&&(r.url=t),r}function $h(n){return jh(n)&&ca(n.url)}function jh(n){return n&&n[A0]}class Ix{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new Hh,this.attachRef=null}}let Hh=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const s=this.getOrCreateContext(t);s.outlet=r,this.contexts.set(t,s)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Ix,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const fl=!1;let om=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new f.vpe,this.deactivateEvents=new f.vpe,this.attachEvents=new f.vpe,this.detachEvents=new f.vpe,this.parentContexts=(0,f.f3M)(Hh),this.location=(0,f.f3M)(f.s_b),this.changeDetector=(0,f.f3M)(f.sBO),this.environmentInjector=(0,f.f3M)(f.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:s}=t.name;if(r)return;this.isTrackedInParentContexts(s)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(s)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new f.vHH(4012,fl);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new f.vHH(4012,fl);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new f.vHH(4012,fl);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new f.vHH(4013,fl);this._activatedRoute=t;const s=this.location,l=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new pC(t,g,s.injector);if(r&&function gC(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(l);this.activated=s.createComponent(D,s.length,_)}else this.activated=s.createComponent(l,{index:s.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[f.TTD]}),n})();class pC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===ll?this.route:e===Hh?this.childContexts:this.parent.get(e,t)}}let am=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=f.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[f.jDz],decls:1,vars:0,template:function(t,r){1&t&&f._UZ(0,"router-outlet")},dependencies:[om],encapsulation:2}),n})();function um(n,e){return n.providers&&!n._injector&&(n._injector=(0,f.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Gh(n){const e=n.children&&n.children.map(Gh),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ot&&(t.component=am),t}function pi(n){return n.outlet||ot}function x0(n,e){const t=n.filter(r=>pi(r)===e);return t.push(...n.filter(r=>pi(r)!==e)),t}function pl(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class R0{constructor(e,t,r,s){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=s}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dl(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const s=wu(t);e.children.forEach(u=>{const l=u.value.outlet;this.deactivateRoutes(u,s[l],r),delete s[l]}),kn(s,(u,l)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(s===u)if(s.component){const l=r.getContext(s.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=wu(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);if(r&&r.outlet){const l=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),s=r&&e.value.component?r.children:t,u=wu(e);for(const l of Object.keys(u))this.deactivateRouteAndItsChildren(u[l],s);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const s=wu(t);e.children.forEach(u=>{this.activateRoutes(u,s[u.value.outlet],r),this.forwardEvent(new w0(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Uh(e.value.snapshot))}activateRoutes(e,t,r){const s=e.value,u=t?t.value:null;if(dl(s),s===u)if(s.component){const l=r.getOrCreateContext(s.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(s.component){const l=r.getOrCreateContext(s.outlet);if(this.routeReuseStrategy.shouldAttach(s.snapshot)){const g=this.routeReuseStrategy.retrieve(s.snapshot);this.routeReuseStrategy.store(s.snapshot,null),l.children.onOutletReAttached(g.contexts),l.attachRef=g.componentRef,l.route=g.route.value,l.outlet&&l.outlet.attach(g.componentRef,g.route.value),dl(g.route.value),this.activateChildRoutes(e,null,l.children)}else{const g=pl(s.snapshot),_=g?.get(f._Vd)??null;l.attachRef=null,l.route=s,l.resolver=_,l.injector=g,l.outlet&&l.outlet.activateWith(s,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class vC{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class dm{constructor(e,t){this.component=e,this.route=t}}function gl(n,e,t){const r=n._root;return Iu(r,e?e._root:null,t,[r.value])}function pa(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,f.Z0I)(n)?e.get(n):n:r}function Iu(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=wu(e);return n.children.forEach(l=>{(function N0(n,e,t,r,s={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,l=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(l&&u.routeConfig===l.routeConfig){const _=function bx(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!M(n.url,e.url);case"pathParamsOrQueryParamsChange":return!M(n.url,e.url)||!Wr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Ri(n,e)||!Wr(n.queryParams,e.queryParams);default:return!Ri(n,e)}}(l,u,u.routeConfig.runGuardsAndResolvers);_?s.canActivateChecks.push(new vC(r)):(u.data=l.data,u._resolvedData=l._resolvedData),Iu(n,e,u.component?g?g.children:null:t,r,s),_&&g&&g.outlet&&g.outlet.isActivated&&s.canDeactivateChecks.push(new dm(g.outlet.component,l))}else l&&ml(e,g,s),s.canActivateChecks.push(new vC(r)),Iu(n,null,u.component?g?g.children:null:t,r,s)})(l,u[l.value.outlet],t,r.concat([l.value]),s),delete u[l.value.outlet]}),kn(u,(l,g)=>ml(l,t.getContext(g),s)),s}function ml(n,e,t){const r=wu(n),s=n.value;kn(r,(u,l)=>{ml(u,s.component?e?e.children.getContext(l):null:e,t)}),t.canDeactivateChecks.push(new dm(s.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,s))}function Du(n){return"function"==typeof n}function Ns(n){return n instanceof lo||"EmptyError"===n?.name}const zh=Symbol("INITIAL_VALUE");function wo(){return wn(n=>hu(n.map(e=>e.pipe(go(1),function Gg(...n){const e=(0,ir.yG)(n);return(0,yr.e)((t,r)=>{(e?ta(n,t,e):ta(n,t)).subscribe(r)})}(zh)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===zh)return zh;if(!1===t||t instanceof p)return t}return!0}),zr(e=>e!==zh),go(1)))}function _m(n){return(0,Wc.z)(zn(e=>{if(ca(e))throw hC(0,e)}),(0,it.U)(e=>!0===e))}const vm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function F0(n,e,t,r,s){const u=wm(n,e,t);return u.matched?function Cu(n,e,t,r){const s=e.canMatch;return s&&0!==s.length?Ye(s.map(l=>{const g=pa(l,n);return on(function gm(n){return n&&Du(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(wo(),_m()):Ye(!0)}(r=um(e,r),e,t).pipe((0,it.U)(l=>!0===l?u:{...vm})):Ye(u)}function wm(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...vm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const s=(e.matcher||mu)(t,n,e);if(!s)return{...vm};const u={};kn(s.posParams,(g,_)=>{u[_]=g.path});const l=s.consumed.length>0?{...u,...s.consumed[s.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:s.consumed,remainingSegments:t.slice(s.consumed.length),parameters:l,positionalParamSegments:s.posParams??{}}}function bu(n,e,t,r){if(t.length>0&&function TC(n,e,t){return t.some(r=>Em(n,e,r)&&pi(r)!==ot)}(n,t,r)){const u=new m(e,function L0(n,e,t,r){const s={};s[ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&pi(u)!==ot){const l=new m([],{});l._sourceSegment=n,l._segmentIndexShift=e.length,s[pi(u)]=l}return s}(n,e,r,new m(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function V0(n,e,t){return t.some(r=>Em(n,e,r))}(n,t,r)){const u=new m(n.segments,function bC(n,e,t,r,s){const u={};for(const l of r)if(Em(n,t,l)&&!s[pi(l)]){const g=new m([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[pi(l)]=g}return{...s,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const s=new m(n.segments,n.children);return s._sourceSegment=n,s._segmentIndexShift=e.length,{segmentGroup:s,slicedSegments:t}}function Em(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function U0(n,e,t,r){return!!(pi(n)===r||r!==ot&&Em(e,t,n))&&("**"===n.path||wm(e,n,t).matched)}function Tu(n,e,t){return 0===e.length&&!n.children[t]}const Kh=!1;class Os{constructor(e){this.segmentGroup=e||null}}class Su{constructor(e){this.urlTree=e}}function yl(n){return As(new Os(n))}function Im(n){return As(new Su(n))}class B0{constructor(e,t,r,s,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=s,this.config=u,this.allowRedirects=!0}apply(){const e=bu(this.urlTree.root,[],[],this.config).segmentGroup,t=new m(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ot).pipe((0,it.U)(u=>this.createUrlTree(vu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ms(u=>{if(u instanceof Su)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Os?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ot).pipe((0,it.U)(s=>this.createUrlTree(vu(s),e.queryParams,e.fragment))).pipe(Ms(s=>{throw s instanceof Os?this.noMatchError(s):s}))}noMatchError(e){return new f.vHH(4002,Kh)}createUrlTree(e,t,r){const s=Oh(e);return new p(s,t,r)}expandSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,it.U)(u=>new m([],u))):this.expandSegment(e,r,t,r.segments,s,!0)}expandChildren(e,t,r){const s=[];for(const u of Object.keys(r.children))"primary"===u?s.unshift(u):s.push(u);return(0,tn.D)(s).pipe(mo(u=>{const l=r.children[u],g=x0(t,u);return this.expandSegmentGroup(e,g,l,u).pipe((0,it.U)(_=>({segment:_,outlet:u})))}),Ih((u,l)=>(u[l.outlet]=l.segment,u),{}),gu())}expandSegment(e,t,r,s,u,l){return(0,tn.D)(r).pipe(mo(g=>this.expandSegmentAgainstRoute(e,t,r,g,s,u,l).pipe(Ms(D=>{if(D instanceof Os)return Ye(null);throw D}))),Qi(g=>!!g),Ms((g,_)=>{if(Ns(g))return Tu(t,s,u)?Ye(new m([],{})):yl(t);throw g}))}expandSegmentAgainstRoute(e,t,r,s,u,l,g){return U0(s,t,u,l)?void 0===s.redirectTo?this.matchSegmentAgainstRoute(e,t,s,u,l):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l):yl(t):yl(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){return"**"===s.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,s,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,s){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Im(u):this.lineralizeSegments(r,u).pipe((0,On.z)(l=>{const g=new m(l,{});return this.expandSegment(e,g,t,l,s,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,s,u,l){const{matched:g,consumedSegments:_,remainingSegments:D,positionalParamSegments:b}=wm(t,s,u);if(!g)return yl(t);const A=this.applyRedirectCommands(_,s.redirectTo,b);return s.redirectTo.startsWith("/")?Im(A):this.lineralizeSegments(s,A).pipe((0,On.z)(P=>this.expandSegment(e,t,r,P.concat(D),l,!1)))}matchSegmentAgainstRoute(e,t,r,s,u){return"**"===r.path?(e=um(r,e),r.loadChildren?(r._loadedRoutes?Ye({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,it.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new m(s,{})))):Ye(new m(s,{}))):F0(t,r,s,e).pipe(wn(({matched:l,consumedSegments:g,remainingSegments:_})=>l?this.getChildConfig(e=r._injector??e,r,s).pipe((0,On.z)(b=>{const A=b.injector??e,P=b.routes,{segmentGroup:G,slicedSegments:te}=bu(t,g,_,P),Ee=new m(G.segments,G.children);if(0===te.length&&Ee.hasChildren())return this.expandChildren(A,P,Ee).pipe((0,it.U)(bt=>new m(g,bt)));if(0===P.length&&0===te.length)return Ye(new m(g,{}));const Me=pi(r)===u;return this.expandSegment(A,Ee,P,te,Me?ot:u,!0).pipe((0,it.U)(ft=>new m(g.concat(ft.segments),ft.children)))})):yl(t)))}getChildConfig(e,t,r){return t.children?Ye({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ye({routes:t._loadedRoutes,injector:t._loadedInjector}):function CC(n,e,t,r){const s=e.canLoad;return void 0===s||0===s.length?Ye(!0):Ye(s.map(l=>{const g=pa(l,n);return on(function fm(n){return n&&Du(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(wo(),_m())}(e,t,r).pipe((0,On.z)(s=>s?this.configLoader.loadChildren(e,t).pipe(zn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function AC(n){return As(fC(Kh,3))}())):Ye({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],s=t.root;for(;;){if(r=r.concat(s.segments),0===s.numberOfChildren)return Ye(r);if(s.numberOfChildren>1||!s.children[ot])return As(new f.vHH(4e3,Kh));s=s.children[ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,s){const u=this.createSegmentGroup(e,t.root,r,s);return new p(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return kn(e,(s,u)=>{if("string"==typeof s&&s.startsWith(":")){const g=s.substring(1);r[u]=t[g]}else r[u]=s}),r}createSegmentGroup(e,t,r,s){const u=this.createSegments(e,t.segments,r,s);let l={};return kn(t.children,(g,_)=>{l[_]=this.createSegmentGroup(e,g,r,s)}),new m(u,l)}createSegments(e,t,r,s){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,s):this.findOrReturn(u,r))}findPosParam(e,t,r){const s=r[t.path.substring(1)];if(!s)throw new f.vHH(4001,Kh);return s}findOrReturn(e,t){let r=0;for(const s of t){if(s.path===e.path)return t.splice(r),s;r++}return e}}class Dm{}class _l{constructor(e,t,r,s,u,l,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=s,this.url=u,this.paramsInheritanceStrategy=l,this.urlSerializer=g}recognize(){const e=bu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ot).pipe((0,it.U)(t=>{if(null===t)return null;const r=new Bh([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,this.urlTree.root,-1,{}),s=new ni(r,t),u=new C0(this.url,s);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=dC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(s=>this.inheritParamsAndData(s))}processSegmentGroup(e,t,r,s){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,s)}processChildren(e,t,r){return(0,tn.D)(Object.keys(r.children)).pipe(mo(s=>{const u=r.children[s],l=x0(t,s);return this.processSegmentGroup(e,l,u,s)}),Ih((s,u)=>s&&u?(s.push(...u),s):null),function Dh(n,e=!1){return(0,yr.e)((t,r)=>{let s=0;t.subscribe((0,Gn.x)(r,u=>{const l=n(u,s++);(l||e)&&r.next(u),!l&&r.complete()}))})}(s=>null!==s),qc(null),gu(),(0,it.U)(s=>{if(null===s)return null;const u=j0(s);return function RC(n){n.sort((e,t)=>e.value.outlet===ot?-1:t.value.outlet===ot?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,s,u){return(0,tn.D)(t).pipe(mo(l=>this.processSegmentAgainstRoute(l._injector??e,l,r,s,u)),Qi(l=>!!l),Ms(l=>{if(Ns(l))return Tu(r,s,u)?Ye([]):Ye(null);throw l}))}processSegmentAgainstRoute(e,t,r,s,u){if(t.redirectTo||!U0(t,r,s,u))return Ye(null);let l;if("**"===t.path){const g=s.length>0?Qc(s).parameters:{},_=G0(r)+s.length;l=Ye({snapshot:new Bh(s,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ts(t),pi(t),t.component??t._loadedComponent??null,t,H0(r),_,z0(t)),consumedSegments:[],remainingSegments:[]})}else l=F0(r,t,s,e).pipe((0,it.U)(({matched:g,consumedSegments:_,remainingSegments:D,parameters:b})=>{if(!g)return null;const A=G0(r)+_.length;return{snapshot:new Bh(_,b,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,ts(t),pi(t),t.component??t._loadedComponent??null,t,H0(r),A,z0(t)),consumedSegments:_,remainingSegments:D}}));return l.pipe(wn(g=>{if(null===g)return Ye(null);const{snapshot:_,consumedSegments:D,remainingSegments:b}=g;e=t._injector??e;const A=t._loadedInjector??e,P=function NC(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:G,slicedSegments:te}=bu(r,D,b,P.filter(Me=>void 0===Me.redirectTo));if(0===te.length&&G.hasChildren())return this.processChildren(A,P,G).pipe((0,it.U)(Me=>null===Me?null:[new ni(_,Me)]));if(0===P.length&&0===te.length)return Ye([new ni(_,[])]);const Ee=pi(t)===u;return this.processSegment(A,P,G,te,Ee?ot:u).pipe((0,it.U)(Me=>null===Me?null:[new ni(_,Me)]))}))}}function OC(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function j0(n){const e=[],t=new Set;for(const r of n){if(!OC(r)){e.push(r);continue}const s=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==s?(s.children.push(...r.children),t.add(s)):e.push(r)}for(const r of t){const s=j0(r.children);e.push(new ni(r.value,s))}return e.filter(r=>!t.has(r))}function H0(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function G0(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function ts(n){return n.data||{}}function z0(n){return n.resolve||{}}function bm(n){return"string"==typeof n.title||null===n.title}function Tm(n){return wn(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,it.U)(()=>e)):Ye(e)})}const Au=new f.OlP("ROUTES");let ri=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ye(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=on(t.loadComponent()).pipe((0,it.U)(Sm),zn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),ia(()=>{this.componentLoaders.delete(t)})),s=new Hg(r,()=>new Mi.x).pipe(po());return this.componentLoaders.set(t,s),s}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ye({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,it.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,D,b=!1;Array.isArray(g)?D=g:(_=g.create(t).injector,D=Yc(_.get(Au,[],f.XFs.Self|f.XFs.Optional)));return{routes:D.map(Gh),injector:_}}),ia(()=>{this.childrenLoaders.delete(r)})),l=new Hg(u,()=>new Mi.x).pipe(po());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return on(t()).pipe((0,it.U)(Sm),(0,On.z)(s=>s instanceof f.YKP||Array.isArray(s)?Ye(s):(0,tn.D)(this.compiler.compileModuleAsync(s))))}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.zs3),f.LFG(f.Sil))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Sm(n){return function FC(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Qh=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Mi.x,this.configLoader=(0,f.f3M)(ri),this.environmentInjector=(0,f.f3M)(f.lqb),this.urlSerializer=(0,f.f3M)(ce),this.rootContexts=(0,f.f3M)(Hh),this.navigationId=0,this.afterPreactivation=()=>Ye(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=s=>this.events.next(new sC(s)),this.configLoader.onLoadStartListener=s=>this.events.next(new tm(s))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Or({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:al,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(zr(r=>0!==r.id),(0,it.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),wn(r=>{let s=!1,u=!1;return Ye(r).pipe(zn(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),wn(l=>{const g=t.browserUrlTree.toString(),_=!t.navigated||l.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const b="";return this.events.next(new cl(l.id,t.serializeUrl(r.rawUrl),b,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ti.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Y0(l.source)&&(t.browserUrlTree=l.extractedUrl),Ye(l).pipe(wn(b=>{const A=this.transitions?.getValue();return this.events.next(new em(b.id,this.urlSerializer.serialize(b.extractedUrl),b.source,b.restoredState)),A!==this.transitions?.getValue()?ti.E:Promise.resolve(b)}),function $0(n,e,t,r){return wn(s=>function MC(n,e,t,r,s){return new B0(n,e,t,r,s).apply()}(n,e,t,s.extractedUrl,r).pipe((0,it.U)(u=>({...s,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),zn(b=>{this.currentNavigation={...this.currentNavigation,finalUrl:b.urlAfterRedirects},r.urlAfterRedirects=b.urlAfterRedirects}),function PC(n,e,t,r,s){return(0,On.z)(u=>function Cm(n,e,t,r,s,u,l="emptyOnly"){return new _l(n,e,t,r,s,l,u).recognize().pipe(wn(g=>null===g?function xC(n){return new ei.y(e=>e.error(n))}(new Dm):Ye(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,s).pipe((0,it.U)(l=>({...u,targetSnapshot:l}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),zn(b=>{if(r.targetSnapshot=b.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!b.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(b.urlAfterRedirects,b.rawUrl);t.setBrowserUrl(P,b)}t.browserUrlTree=b.urlAfterRedirects}const A=new fa(b.id,this.urlSerializer.serialize(b.extractedUrl),this.urlSerializer.serialize(b.urlAfterRedirects),b.targetSnapshot);this.events.next(A)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:b,extractedUrl:A,source:P,restoredState:G,extras:te}=l,Ee=new em(b,this.urlSerializer.serialize(A),P,G);this.events.next(Ee);const Me=lC(A,this.rootComponentType).snapshot;return Ye(r={...l,targetSnapshot:Me,urlAfterRedirects:A,extras:{...te,skipLocationChange:!1,replaceUrl:!1}})}{const b="";return this.events.next(new cl(l.id,t.serializeUrl(r.extractedUrl),b,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ti.E}}),zn(l=>{const g=new nC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(g)}),(0,it.U)(l=>r={...l,guards:gl(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function Wh(n,e){return(0,On.z)(t=>{const{targetSnapshot:r,currentSnapshot:s,guards:{canActivateChecks:u,canDeactivateChecks:l}}=t;return 0===l.length&&0===u.length?Ye({...t,guardsResult:!0}):function IC(n,e,t,r){return(0,tn.D)(n).pipe((0,On.z)(s=>function DC(n,e,t,r,s){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ye(u.map(g=>{const _=pl(e)??s,D=pa(g,_);return on(function wC(n){return n&&Du(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):_.runInContext(()=>D(n,e,t,r))).pipe(Qi())})).pipe(wo()):Ye(!0)}(s.component,s.route,t,e,r)),Qi(s=>!0!==s,!0))}(l,r,s,n).pipe((0,On.z)(g=>g&&function O0(n){return"boolean"==typeof n}(g)?function mm(n,e,t,r){return(0,tn.D)(e).pipe(mo(s=>ta(function ga(n,e){return null!==n&&e&&e(new v0(n)),Ye(!0)}(s.route.parent,r),function qh(n,e){return null!==n&&e&&e(new nm(n)),Ye(!0)}(s.route,r),function ym(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(l=>function hm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>wh(()=>Ye(l.guards.map(_=>{const D=pl(l.node)??t,b=pa(_,D);return on(function pm(n){return n&&Du(n.canActivateChild)}(b)?b.canActivateChild(r,n):D.runInContext(()=>b(r,n))).pipe(Qi())})).pipe(wo())));return Ye(u).pipe(wo())}(n,s.path,t),function P0(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ye(!0);const s=r.map(u=>wh(()=>{const l=pl(e)??t,g=pa(u,l);return on(function Tx(n){return n&&Du(n.canActivate)}(g)?g.canActivate(e,n):l.runInContext(()=>g(e,n))).pipe(Qi())}));return Ye(s).pipe(wo())}(n,s.route,t))),Qi(s=>!0!==s,!0))}(r,u,n,e):Ye(g)),(0,it.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,l=>this.events.next(l)),zn(l=>{if(r.guardsResult=l.guardsResult,ca(l.guardsResult))throw hC(0,l.guardsResult);const g=new rC(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(g)}),zr(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),Tm(l=>{if(l.guards.canActivateChecks.length)return Ye(l).pipe(zn(g=>{const _=new vx(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),wn(g=>{let _=!1;return Ye(g).pipe(function Sx(n,e){return(0,On.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:s}}=t;if(!s.length)return Ye(t);let u=0;return(0,tn.D)(s).pipe(mo(l=>function Ax(n,e,t,r){const s=n.routeConfig,u=n._resolve;return void 0!==s?.title&&!bm(s)&&(u[sa]=s.title),function W0(n,e,t,r){const s=function Mx(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===s.length)return Ye({});const u={};return(0,tn.D)(s).pipe((0,On.z)(l=>function q0(n,e,t,r){const s=pl(e)??r,u=pa(n,s);return on(u.resolve?u.resolve(e,t):s.runInContext(()=>u(e,t)))}(n[l],e,t,r).pipe(Qi(),zn(g=>{u[l]=g}))),pu(1),function Ch(n){return(0,it.U)(()=>n)}(u),Ms(l=>Ns(l)?ti.E:As(l)))}(u,n,e,r).pipe((0,it.U)(l=>(n._resolvedData=l,n.data=dC(n,t).resolve,s&&bm(s)&&(n.data[sa]=s.title),null)))}(l.route,r,n,e)),zn(()=>u++),pu(1),(0,On.z)(l=>u===s.length?Ye(t):ti.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),zn({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),zn(g=>{const _=new iC(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),Tm(l=>{const g=_=>{const D=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(_.routeConfig).pipe(zn(b=>{_.component=b}),(0,it.U)(()=>{})));for(const b of _.children)D.push(...g(b));return D};return hu(g(l.targetSnapshot.root)).pipe(qc(),go(1))}),Tm(()=>this.afterPreactivation()),(0,it.U)(l=>{const g=function hl(n,e,t){const r=Eu(n,e._root,t?t._root:void 0);return new cC(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:g}}),zn(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(r=>(new R0(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l)),zn({next:l=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new vo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{s=!0}}),ia(()=>{s||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ms(l=>{if(u=!0,jh(l)){$h(l)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new ul(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(g),$h(l)){const _=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Y0(r.source)};t.scheduleNavigation(_,al,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Vh(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(l))}catch(_){r.reject(_)}}return ti.E}))}))}cancelNavigationTransition(t,r,s){const u=new ul(t.id,this.urlSerializer.serialize(t.extractedUrl),r,s);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Y0(n){return n!==al}let Q0=(()=>{class n{buildTitle(t){let r,s=t.root;for(;void 0!==s;)r=this.getResolvedTitleForRoute(s)??r,s=s.children.find(u=>u.outlet===ot);return r}getResolvedTitleForRoute(t){return t.data[sa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(J0)},providedIn:"root"}),n})(),J0=(()=>{class n extends Q0{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Zi))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),LC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(UC)},providedIn:"root"}),n})();class VC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let UC=(()=>{class n extends VC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wl=new f.OlP("",{providedIn:"root",factory:()=>({})});let X0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:function(){return(0,f.f3M)(ew)},providedIn:"root"}),n})(),ew=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function BC(n){throw n}function nw(n,e,t){return e.parse("/")}const $C={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},rw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Wn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,f.f3M)(f.c2e),this.isNgZoneEnabled=!1,this.options=(0,f.f3M)(wl,{optional:!0})||{},this.errorHandler=this.options.errorHandler||BC,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||nw,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,f.f3M)(X0),this.routeReuseStrategy=(0,f.f3M)(LC),this.urlCreationStrategy=(0,f.f3M)(uC),this.titleStrategy=(0,f.f3M)(Q0),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Yc((0,f.f3M)(Au,{optional:!0})??[]),this.navigationTransitions=(0,f.f3M)(Qh),this.urlSerializer=(0,f.f3M)(ce),this.location=(0,f.f3M)(we),this.isNgZoneEnabled=(0,f.f3M)(f.R0b)instanceof f.R0b&&f.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new p,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=lC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),al,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,s){const u={replaceUrl:!0},l=s?.navigationId?s:null;if(s){const _={...s};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,l,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Gh),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:s,queryParams:u,fragment:l,queryParamsHandling:g,preserveFragment:_}=r,D=_?this.currentUrlTree.fragment:l;let b=null;switch(g){case"merge":b={...this.currentUrlTree.queryParams,...u};break;case"preserve":b=this.currentUrlTree.queryParams;break;default:b=u||null}return null!==b&&(b=this.removeEmptyProps(b)),this.urlCreationStrategy.createUrlTree(s,this.routerState,this.currentUrlTree,t,b,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const s=ca(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(s,this.rawUrlTree);return this.scheduleNavigation(u,al,null,r)}navigate(t,r={skipLocationChange:!1}){return function jC(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new f.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(s){r=this.malformedUriErrorHandler(s,this.urlSerializer,t)}return r}isActive(t,r){let s;if(s=!0===r?{...$C}:!1===r?{...rw}:r,ca(t))return Pn(this.currentUrlTree,t,s);const u=this.parseUrl(t);return Pn(this.currentUrlTree,u,s)}removeEmptyProps(t){return Object.keys(t).reduce((r,s)=>{const u=t[s];return null!=u&&(r[s]=u),r},{})}scheduleNavigation(t,r,s,u,l){if(this.disposed)return Promise.resolve(!1);let g,_,D,b;return l?(g=l.resolve,_=l.reject,D=l.promise):D=new Promise((A,P)=>{g=A,_=P}),b="computed"===this.canceledNavigationResolution?s&&s.\u0275routerPageId?s.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:b,source:r,restoredState:s,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(A=>Promise.reject(A))}setBrowserUrl(t,r){const s=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(s)||r.extras.replaceUrl?this.location.replaceState(s,"",u):this.location.go(s,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const s=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===s?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===s&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(s)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Jh=(()=>{class n{constructor(t,r,s,u,l,g){this.router=t,this.route=r,this.tabIndexAttribute=s,this.renderer=u,this.el=l,this.locationStrategy=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Mi.x;const _=l.nativeElement.tagName;this.isAnchorElement="A"===_||"AREA"===_,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof vo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,f.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,f.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,f.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,s,u,l){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||s||u||l||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,f.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const s=this.renderer,u=this.el.nativeElement;null!==r?s.setAttribute(u,t,r):s.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Wn),f.Y36(ll),f.$8M("tabindex"),f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(He))},n.\u0275dir=f.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&f.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&f.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[f.TTD]}),n})();class Eo{}let Am=(()=>{class n{constructor(t,r,s,u,l){this.router=t,this.injector=s,this.preloadingStrategy=u,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(zr(t=>t instanceof vo),mo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const s=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,f.MMx)(u.providers,t,`Route: ${u.path}`));const l=u._injector??t,g=u._loadedInjector??l;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?s.push(this.preloadConfig(l,u)):(u.children||u._loadedRoutes)&&s.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,tn.D)(s).pipe((0,Ss.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let s;s=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ye(null);const u=s.pipe((0,On.z)(l=>null===l?Ye(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,tn.D)([u,l]).pipe((0,Ss.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Wn),f.LFG(f.Sil),f.LFG(f.lqb),f.LFG(Eo),f.LFG(ri))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mm=new f.OlP("");let HC=(()=>{class n{constructor(t,r,s,u,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=s,this.zone=u,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof em?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof vo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof rm&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new rm(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){f.$Z()},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac}),n})();function Io(n,e){return{\u0275kind:n,\u0275providers:e}}function xm(){const n=(0,f.f3M)(f.zs3);return e=>{const t=n.get(f.z2F);if(e!==t.components[0])return;const r=n.get(Wn),s=n.get(Dl);1===n.get(Rm)&&r.initialNavigation(),n.get(lw,null,f.XFs.Optional)?.setUpPreloading(),n.get(Mm,null,f.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),s.closed||(s.next(),s.unsubscribe())}}const Dl=new f.OlP("",{factory:()=>new Mi.x}),Rm=new f.OlP("",{providedIn:"root",factory:()=>1});const lw=new f.OlP("");function qC(n){return Io(0,[{provide:lw,useExisting:Am},{provide:Eo,useExisting:n}])}const Nm=new f.OlP("ROUTER_FORROOT_GUARD"),Om=[we,{provide:ce,useClass:Le},Wn,Hh,{provide:ll,useFactory:function aw(n){return n.routerState.root},deps:[Wn]},ri,[]];function Ox(){return new f.PXZ("Router",Wn)}let Xh=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Om,[],{provide:Au,multi:!0,useValue:t},{provide:Nm,useFactory:dw,deps:[[Wn,new f.FiY,new f.tp0]]},{provide:wl,useValue:r||{}},r?.useHash?{provide:He,useClass:fe}:{provide:He,useClass:ye},{provide:Mm,useFactory:()=>{const n=(0,f.f3M)(Ga),e=(0,f.f3M)(f.R0b),t=(0,f.f3M)(wl),r=(0,f.f3M)(Qh),s=(0,f.f3M)(ce);return t.scrollOffset&&n.setOffset(t.scrollOffset),new HC(s,r,n,e,t)}},r?.preloadingStrategy?qC(r.preloadingStrategy).\u0275providers:[],{provide:f.PXZ,multi:!0,useFactory:Ox},r?.initialNavigation?QC(r):[],[{provide:km,useFactory:xm},{provide:f.tb,multi:!0,useExisting:km}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Au,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Nm,8))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[am]}),n})();function dw(n){return"guarded"}function QC(n){return["disabled"===n.initialNavigation?Io(3,[{provide:f.ip1,multi:!0,useFactory:()=>{const e=(0,f.f3M)(Wn);return()=>{e.setUpLocationChangeListener()}}},{provide:Rm,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Io(2,[{provide:Rm,useValue:0},{provide:f.ip1,multi:!0,deps:[f.zs3],useFactory:e=>{const t=e.get(De,Promise.resolve());return()=>t.then(()=>new Promise(s=>{const u=e.get(Wn),l=e.get(Dl);(function r(s){e.get(Wn).events.pipe(zr(l=>l instanceof vo||l instanceof ul||l instanceof Vh),(0,it.U)(l=>l instanceof vo||l instanceof ul&&(0===l.code||1===l.code)&&null),zr(l=>null!==l),go(1)).subscribe(()=>{s()})})(()=>{s(!0)}),e.get(Qh).afterPreactivation=()=>(s(!0),l.closed?Ye(void 0):l),u.initialNavigation()}))}}]).\u0275providers:[]]}const km=new f.OlP("");var St=N(9681);(0,St.registerVersion)("firebase","9.16.0","app");var re=N(5861),Ct=N(2090),ii=N(4859),Ni=N(1877),Do=N(8766);const ef="@firebase/installations",bl="0.6.1",tf=`w:${bl}`,hw="FIS_v2",ks=new Ct.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function mw(n){return n instanceof Ct.ZR&&n.code.includes("request-failed")}function Fr({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Lm(n){return{token:n.token,requestStatus:2,expiresIn:tb(n.expiresIn),creationTime:Date.now()}}function Vm(n,e){return yw.apply(this,arguments)}function yw(){return(yw=(0,re.Z)(function*(n,e){const r=(yield e.json()).error;return ks.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function nf({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function Um(n,{refreshToken:e}){const t=nf(n);return t.append("Authorization",function _w(n){return`${hw} ${n}`}(e)),t}function Bm(n){return $m.apply(this,arguments)}function $m(){return($m=(0,re.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function tb(n){return Number(n.replace("s","000"))}function nb(n,e){return jm.apply(this,arguments)}function jm(){return(jm=(0,re.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=Fr(n),s=nf(n),u=e.getImmediate({optional:!0});if(u){const D=yield u.getHeartbeatsHeader();D&&s.append("x-firebase-client",D)}const g={method:"POST",headers:s,body:JSON.stringify({fid:t,authVersion:hw,appId:n.appId,sdkVersion:tf})},_=yield Bm(()=>fetch(r,g));if(_.ok){const D=yield _.json();return{fid:D.fid||t,registrationStatus:2,refreshToken:D.refreshToken,authToken:Lm(D.authToken)}}throw yield Vm("Create Installation",_)})).apply(this,arguments)}function rf(n){return new Promise(e=>{setTimeout(e,n)})}const ib=/^[cdef][\w-]{21}$/;function sb(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function ob(n){return function rb(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return ib.test(t)?t:""}catch{return""}}function Lr(n){return`${n.appName}!${n.appId}`}const Co=new Map;function vw(n,e){const t=Lr(n);Ew(t,e),function ub(n,e){const t=function sf(){return!ma&&"BroadcastChannel"in self&&(ma=new BroadcastChannel("[Firebase] FID Change"),ma.onmessage=n=>{Ew(n.data.key,n.data.fid)}),ma}();t&&t.postMessage({key:n,fid:e}),function Iw(){0===Co.size&&ma&&(ma.close(),ma=null)}()}(t,e)}function Ew(n,e){const t=Co.get(n);if(t)for(const r of t)r(e)}let ma=null;const Ps="firebase-installations-store";let Ru=null;function Dw(){return Ru||(Ru=(0,Do.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ps)}})),Ru}function Nu(n,e){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,re.Z)(function*(n,e){const t=Lr(n),s=(yield Dw()).transaction(Ps,"readwrite"),u=s.objectStore(Ps),l=yield u.get(t);return yield u.put(e,t),yield s.done,(!l||l.fid!==e.fid)&&vw(n,e.fid),e})).apply(this,arguments)}function uf(n){return cf.apply(this,arguments)}function cf(){return(cf=(0,re.Z)(function*(n){const e=Lr(n),r=(yield Dw()).transaction(Ps,"readwrite");yield r.objectStore(Ps).delete(e),yield r.done})).apply(this,arguments)}function Ou(n,e){return lf.apply(this,arguments)}function lf(){return(lf=(0,re.Z)(function*(n,e){const t=Lr(n),s=(yield Dw()).transaction(Ps,"readwrite"),u=s.objectStore(Ps),l=yield u.get(t),g=e(l);return void 0===g?yield u.delete(t):yield u.put(g,t),yield s.done,g&&(!l||l.fid!==g.fid)&&vw(n,g.fid),g})).apply(this,arguments)}function Tl(n){return Oi.apply(this,arguments)}function Oi(){return(Oi=(0,re.Z)(function*(n){let e;const t=yield Ou(n.appConfig,r=>{const s=df(r),u=hf(n,s);return e=u.registrationPromise,u.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function df(n){return Sw(n||{fid:sb(),registrationStatus:0})}function hf(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(ks.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function Sl(n,e){return Gm.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:bw(n)}:{installationEntry:e}}function Gm(){return(Gm=(0,re.Z)(function*(n,e){try{const t=yield nb(n,e);return Nu(n.appConfig,t)}catch(t){throw mw(t)&&409===t.customData.serverCode?yield uf(n.appConfig):yield Nu(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function bw(n){return ff.apply(this,arguments)}function ff(){return(ff=(0,re.Z)(function*(n){let e=yield Tw(n.appConfig);for(;1===e.registrationStatus;)yield rf(100),e=yield Tw(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield Tl(n);return r||t}return e})).apply(this,arguments)}function Tw(n){return Ou(n,e=>{if(!e)throw ks.create("installation-not-found");return Sw(e)})}function Sw(n){return function Al(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function lb(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,re.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=db(n,t),s=Um(n,t),u=e.getImmediate({optional:!0});if(u){const D=yield u.getHeartbeatsHeader();D&&s.append("x-firebase-client",D)}const g={method:"POST",headers:s,body:JSON.stringify({installation:{sdkVersion:tf,appId:n.appId}})},_=yield Bm(()=>fetch(r,g));if(_.ok)return Lm(yield _.json());throw yield Vm("Generate Auth Token",_)})).apply(this,arguments)}function db(n,{fid:e}){return`${Fr(n)}/${e}/authTokens:generate`}function zm(n){return Wm.apply(this,arguments)}function Wm(){return(Wm=(0,re.Z)(function*(n,e=!1){let t;const r=yield Ou(n.appConfig,u=>{if(!gf(u))throw ks.create("not-registered");const l=u.authToken;if(!e&&pb(l))return u;if(1===l.requestStatus)return t=hb(n,e),u;{if(!navigator.onLine)throw ks.create("app-offline");const g=gb(u);return t=fb(n,g),g}});return t?yield t:r.authToken})).apply(this,arguments)}function hb(n,e){return qm.apply(this,arguments)}function qm(){return(qm=(0,re.Z)(function*(n,e){let t=yield Mw(n.appConfig);for(;1===t.authToken.requestStatus;)yield rf(100),t=yield Mw(n.appConfig);const r=t.authToken;return 0===r.requestStatus?zm(n,e):r})).apply(this,arguments)}function Mw(n){return Ou(n,e=>{if(!gf(e))throw ks.create("not-registered");return function mb(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function fb(n,e){return pf.apply(this,arguments)}function pf(){return(pf=(0,re.Z)(function*(n,e){try{const t=yield lb(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Nu(n.appConfig,r),t}catch(t){if(!mw(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Nu(n.appConfig,r)}else yield uf(n.appConfig);throw t}})).apply(this,arguments)}function gf(n){return void 0!==n&&2===n.registrationStatus}function pb(n){return 2===n.requestStatus&&!function Km(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function gb(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function Zm(){return(Zm=(0,re.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield Tl(e);return r?r.catch(console.error):zm(e).catch(console.error),t.fid})).apply(this,arguments)}function Ym(){return(Ym=(0,re.Z)(function*(n,e=!1){const t=n;return yield vb(t),(yield zm(t,e)).token})).apply(this,arguments)}function vb(n){return mf.apply(this,arguments)}function mf(){return(mf=(0,re.Z)(function*(n){const{registrationPromise:e}=yield Tl(n);e&&(yield e)})).apply(this,arguments)}function Jm(n){return ks.create("missing-app-config-values",{valueName:n})}const Rw="installations",Eb=n=>{const e=n.getProvider("app").getImmediate(),t=function yf(n){if(!n||!n.options)throw Jm("App Configuration");if(!n.name)throw Jm("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw Jm(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,St._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},ns=n=>{const e=n.getProvider("app").getImmediate(),t=(0,St._getProvider)(e,Rw).getImmediate();return{getId:()=>function yb(n){return Zm.apply(this,arguments)}(t),getToken:s=>function _b(n){return Ym.apply(this,arguments)}(t,s)}};(function Ml(){(0,St._registerComponent)(new ii.wA(Rw,Eb,"PUBLIC")),(0,St._registerComponent)(new ii.wA("installations-internal",ns,"PRIVATE"))})(),(0,St.registerVersion)(ef,bl),(0,St.registerVersion)(ef,bl,"esm2017");const qn="@firebase/remote-config",Fn=new Ct.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class kw{constructor(e,t,r,s){this.client=e,this.storage=t,this.storageCache=r,this.logger=s}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,s=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${s}.`),s}fetch(e){var t=this;return(0,re.Z)(function*(){const[r,s]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(s&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return s;e.eTag=s&&s.eTag;const u=yield t.client.fetch(e),l=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&l.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(l),u})()}}function Sb(n=navigator){return n.languages&&n.languages[0]||n.language}class Ab{constructor(e,t,r,s,u,l){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=s,this.apiKey=u,this.appId=l}fetch(e){var t=this;return(0,re.Z)(function*(){const[r,s]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),l=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,g={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},_={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:s,app_id:t.appId,language_code:Sb()},D={method:"POST",headers:g,body:JSON.stringify(_)},b=fetch(l,D),A=new Promise((at,ft)=>{e.signal.addEventListener(()=>{const bt=new Error("The operation was aborted.");bt.name="AbortError",ft(bt)})});let P;try{yield Promise.race([b,A]),P=yield b}catch(at){let ft="fetch-client-network";throw"AbortError"===at?.name&&(ft="fetch-timeout"),Fn.create(ft,{originalErrorMessage:at?.message})}let G=P.status;const te=P.headers.get("ETag")||void 0;let Ee,Me;if(200===P.status){let at;try{at=yield P.json()}catch(ft){throw Fn.create("fetch-client-parse",{originalErrorMessage:ft?.message})}Ee=at.entries,Me=at.state}if("INSTANCE_STATE_UNSPECIFIED"===Me?G=500:"NO_CHANGE"===Me?G=304:("NO_TEMPLATE"===Me||"EMPTY_CONFIG"===Me)&&(Ee={}),304!==G&&200!==G)throw Fn.create("fetch-status",{httpStatus:G});return{status:G,eTag:te,config:Ee}})()}}class Mb{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,re.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var s=this;return(0,re.Z)(function*(){yield function ty(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),u=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(u),r(Fn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield s.client.fetch(e);return yield s.storage.deleteThrottleMetadata(),u}catch(u){if(!function ny(n){if(!(n instanceof Ct.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const l={throttleEndTimeMillis:Date.now()+(0,Ct.$s)(r),backoffCount:r+1};return yield s.storage.setThrottleMetadata(l),s.attemptFetch(e,l)}})()}}class ry{constructor(e,t,r,s,u){this.app=e,this._client=t,this._storageCache=r,this._storage=s,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function Df(n,e){const t=n.target.error||void 0;return Fn.create(e,{originalErrorMessage:t&&t?.message})}const Fs="app_namespace_store";class sy{constructor(e,t,r,s=function Fw(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(Df(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Fs,{keyPath:"compositeKey"})}}catch(t){e(Fn.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=s}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,re.Z)(function*(){const r=yield t.openDbPromise;return new Promise((s,u)=>{const g=r.transaction([Fs],"readonly").objectStore(Fs),_=t.createCompositeKey(e);try{const D=g.get(_);D.onerror=b=>{u(Df(b,"storage-get"))},D.onsuccess=b=>{const A=b.target.result;s(A?A.value:void 0)}}catch(D){u(Fn.create("storage-get",{originalErrorMessage:D?.message}))}})})()}set(e,t){var r=this;return(0,re.Z)(function*(){const s=yield r.openDbPromise;return new Promise((u,l)=>{const _=s.transaction([Fs],"readwrite").objectStore(Fs),D=r.createCompositeKey(e);try{const b=_.put({compositeKey:D,value:t});b.onerror=A=>{l(Df(A,"storage-set"))},b.onsuccess=()=>{u()}}catch(b){l(Fn.create("storage-set",{originalErrorMessage:b?.message}))}})})()}delete(e){var t=this;return(0,re.Z)(function*(){const r=yield t.openDbPromise;return new Promise((s,u)=>{const g=r.transaction([Fs],"readwrite").objectStore(Fs),_=t.createCompositeKey(e);try{const D=g.delete(_);D.onerror=b=>{u(Df(b,"storage-delete"))},D.onsuccess=()=>{s()}}catch(D){u(Fn.create("storage-delete",{originalErrorMessage:D?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class Lw{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,re.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),s=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const l=yield r;l&&(e.lastSuccessfulFetchTimestampMillis=l);const g=yield s;g&&(e.activeConfig=g)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function xb(){return bf.apply(this,arguments)}function bf(){return(bf=(0,re.Z)(function*(){if(!(0,Ct.hl)())return!1;try{return yield(0,Ct.eu)()}catch{return!1}})).apply(this,arguments)}!function Vw(){(0,St._registerComponent)(new ii.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Fn.create("registration-window");if(!(0,Ct.hl)())throw Fn.create("indexed-db-unavailable");const{projectId:u,apiKey:l,appId:g}=r.options;if(!u)throw Fn.create("registration-project-id");if(!l)throw Fn.create("registration-api-key");if(!g)throw Fn.create("registration-app-id");const _=new sy(g,r.name,t=t||"firebase"),D=new Lw(_),b=new Ni.Yd(qn);b.logLevel=Ni.in.ERROR;const A=new Ab(s,St.SDK_VERSION,t,u,l,g),P=new Mb(A,_),G=new kw(P,_,D,b),te=new ry(r,G,D,_,b);return function Nw(n){const e=(0,Ct.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(te),te},"PUBLIC").setMultipleInstances(!0)),(0,St.registerVersion)(qn,"0.4.1"),(0,St.registerVersion)(qn,"0.4.1","esm2017")}();const Bw="/firebase-messaging-sw.js",$w="/firebase-cloud-messaging-push-scope",oy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",jw="google.c.a.c_id",Nb="google.c.a.c_l",Hw="google.c.a.ts",ay="google.c.a.e";var _a=(()=>{return(n=_a||(_a={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",_a;var n})();function rs(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function Gw(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),s=new Uint8Array(r.length);for(let u=0;u<r.length;++u)s[u]=r.charCodeAt(u);return s}const Tf="fcm_token_details_db",uy="fcm_token_object_Store";function Ww(n){return $u.apply(this,arguments)}function $u(){return $u=(0,re.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(Tf))return null;let e=null;return(yield(0,Do.X3)(Tf,5,{upgrade:(r=(0,re.Z)(function*(s,u,l,g){var _;if(u<2||!s.objectStoreNames.contains(uy))return;const D=g.objectStore(uy),b=yield D.index("fcmSenderId").get(n);if(yield D.clear(),b)if(2===u){const A=b;if(!A.auth||!A.p256dh||!A.endpoint)return;e={token:A.fcmToken,createTime:null!==(_=A.createTime)&&void 0!==_?_:Date.now(),subscriptionOptions:{auth:A.auth,p256dh:A.p256dh,endpoint:A.endpoint,swScope:A.swScope,vapidKey:"string"==typeof A.vapidKey?A.vapidKey:rs(A.vapidKey)}}}else if(3===u){const A=b;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:rs(A.auth),p256dh:rs(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:rs(A.vapidKey)}}}else if(4===u){const A=b;e={token:A.fcmToken,createTime:A.createTime,subscriptionOptions:{auth:rs(A.auth),p256dh:rs(A.p256dh),endpoint:A.endpoint,swScope:A.swScope,vapidKey:rs(A.vapidKey)}}}}),function(u,l,g,_){return r.apply(this,arguments)})})).close(),yield(0,Do.Lj)(Tf),yield(0,Do.Lj)("fcm_vapid_details_db"),yield(0,Do.Lj)("undefined"),So(e)?e:null;var r}),$u.apply(this,arguments)}function So(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Ls="firebase-messaging-store";let Vs=null;function Nl(){return Vs||(Vs=(0,Do.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Ls)}})),Vs}function qw(n){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,re.Z)(function*(n){const e=Sf(n),r=yield(yield Nl()).transaction(Ls).objectStore(Ls).get(e);if(r)return r;{const s=yield Ww(n.appConfig.senderId);if(s)return yield Kw(n,s),s}})).apply(this,arguments)}function Kw(n,e){return Zw.apply(this,arguments)}function Zw(){return(Zw=(0,re.Z)(function*(n,e){const t=Sf(n),s=(yield Nl()).transaction(Ls,"readwrite");return yield s.objectStore(Ls).put(e,t),yield s.done,e})).apply(this,arguments)}function Fb(n){return cy.apply(this,arguments)}function cy(){return(cy=(0,re.Z)(function*(n){const e=Sf(n),r=(yield Nl()).transaction(Ls,"readwrite");yield r.objectStore(Ls).delete(e),yield r.done})).apply(this,arguments)}function Sf({appConfig:n}){return n.appId}const Lt=new Ct.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Yw(n,e){return ly.apply(this,arguments)}function ly(){return(ly=(0,re.Z)(function*(n,e){const t=yield Ao(n),r=Jw(e),s={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(xf(n.appConfig),s)).json()}catch(l){throw Lt.create("token-subscribe-failed",{errorInfo:l?.toString()})}if(u.error)throw Lt.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw Lt.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function Vb(n,e){return Af.apply(this,arguments)}function Af(){return(Af=(0,re.Z)(function*(n,e){const t=yield Ao(n),r=Jw(e.subscriptionOptions),s={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${xf(n.appConfig)}/${e.token}`,s)).json()}catch(l){throw Lt.create("token-update-failed",{errorInfo:l?.toString()})}if(u.error)throw Lt.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw Lt.create("token-update-no-token");return u.token})).apply(this,arguments)}function Qw(n,e){return Mf.apply(this,arguments)}function Mf(){return(Mf=(0,re.Z)(function*(n,e){const r={method:"DELETE",headers:yield Ao(n)};try{const u=yield(yield fetch(`${xf(n.appConfig)}/${e}`,r)).json();if(u.error)throw Lt.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(s){throw Lt.create("token-unsubscribe-failed",{errorInfo:s?.toString()})}})).apply(this,arguments)}function xf({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function Ao(n){return dy.apply(this,arguments)}function dy(){return(dy=(0,re.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function Jw({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const s={web:{endpoint:t,auth:e,p256dh:n}};return r!==oy&&(s.web.applicationPubKey=r),s}const Xw=6048e5;function Ub(n){return Rf.apply(this,arguments)}function Rf(){return(Rf=(0,re.Z)(function*(n){const e=yield is(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:rs(e.getKey("auth")),p256dh:rs(e.getKey("p256dh"))},r=yield qw(n.firebaseDependencies);if(r){if(ki(r.subscriptionOptions,t))return Date.now()>=r.createTime+Xw?hy(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield Qw(n.firebaseDependencies,r.token)}catch(s){console.warn(s)}return eE(n.firebaseDependencies,t)}return eE(n.firebaseDependencies,t)})).apply(this,arguments)}function Bb(n){return Nf.apply(this,arguments)}function Nf(){return(Nf=(0,re.Z)(function*(n){const e=yield qw(n.firebaseDependencies);e&&(yield Qw(n.firebaseDependencies,e.token),yield Fb(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function hy(n,e){return gi.apply(this,arguments)}function gi(){return(gi=(0,re.Z)(function*(n,e){try{const t=yield Vb(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield Kw(n.firebaseDependencies,r),t}catch(t){throw yield Bb(n),t}})).apply(this,arguments)}function eE(n,e){return fy.apply(this,arguments)}function fy(){return(fy=(0,re.Z)(function*(n,e){const r={token:yield Yw(n,e),createTime:Date.now(),subscriptionOptions:e};return yield Kw(n,r),r.token})).apply(this,arguments)}function is(n,e){return oi.apply(this,arguments)}function oi(){return(oi=(0,re.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:Gw(e)})})).apply(this,arguments)}function ki(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function py(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function tE(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const s=e.notification.image;s&&(n.notification.image=s);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function $b(n,e){e.data&&(n.data=e.data)}(e,n),function jb(n,e){var t,r,s,u,l;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const g=null!==(s=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==s?s:null===(u=e.notification)||void 0===u?void 0:u.click_action;g&&(n.fcmOptions.link=g);const _=null===(l=e.fcmOptions)||void 0===l?void 0:l.analytics_label;_&&(n.fcmOptions.analyticsLabel=_)}(e,n),e}function Hb(n){return"object"==typeof n&&!!n&&jw in n}function nE(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function va(n){return Lt.create("missing-app-config-values",{valueName:n})}nE("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),nE("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Gb{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const s=function gy(n){if(!n||!n.options)throw va("App Configuration Object");if(!n.name)throw va("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw va(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:s,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function my(n){return yy.apply(this,arguments)}function yy(){return(yy=(0,re.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(Bw,{scope:$w}),n.swRegistration.update().catch(()=>{})}catch(e){throw Lt.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function rE(n,e){return Of.apply(this,arguments)}function Of(){return(Of=(0,re.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield my(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw Lt.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function kf(n,e){return _y.apply(this,arguments)}function _y(){return(_y=(0,re.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=oy)})).apply(this,arguments)}function Pf(){return(Pf=(0,re.Z)(function*(n,e){if(!navigator)throw Lt.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Lt.create("permission-blocked");return yield kf(n,e?.vapidKey),yield rE(n,e?.serviceWorkerRegistration),Ub(n)})).apply(this,arguments)}function iE(n,e,t){return ju.apply(this,arguments)}function ju(){return(ju=(0,re.Z)(function*(n,e,t){const r=sE(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[jw],message_name:t[Nb],message_time:t[Hw],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function sE(n){switch(n){case _a.NOTIFICATION_CLICKED:return"notification_open";case _a.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function Ff(){return(Ff=(0,re.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===_a.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(py(t)):n.onMessageHandler.next(py(t)));const r=t.data;Hb(r)&&"1"===r[ay]&&(yield iE(n,t.messageType,r))})).apply(this,arguments)}const wy="@firebase/messaging",aE=n=>{const e=new Gb(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function oE(n,e){return Ff.apply(this,arguments)}(e,t)),e},uE=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function vy(n,e){return Pf.apply(this,arguments)}(e,r)}};function lE(){return Iy.apply(this,arguments)}function Iy(){return(Iy=(0,re.Z)(function*(){try{yield(0,Ct.eu)()}catch{return!1}return typeof window<"u"&&(0,Ct.hl)()&&(0,Ct.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function cE(){(0,St._registerComponent)(new ii.wA("messaging",aE,"PUBLIC")),(0,St._registerComponent)(new ii.wA("messaging-internal",uE,"PRIVATE")),(0,St.registerVersion)(wy,"0.12.1"),(0,St.registerVersion)(wy,"0.12.1","esm2017")}();const Lf="analytics",qb="firebase_id",Yb="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",dE="https://www.googletagmanager.com/gtag/js",sr=new Ni.Yd("@firebase/analytics");function hE(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function fE(n,e){const t=document.createElement("script");t.src=`${dE}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function gE(n,e,t,r,s,u){return Vf.apply(this,arguments)}function Vf(){return(Vf=(0,re.Z)(function*(n,e,t,r,s,u){const l=r[s];try{if(l)yield e[l];else{const _=(yield hE(t)).find(D=>D.measurementId===s);_&&(yield e[_.appId])}}catch(g){sr.error(g)}n("config",s,u)})).apply(this,arguments)}function mE(n,e,t,r,s){return Uf.apply(this,arguments)}function Uf(){return(Uf=(0,re.Z)(function*(n,e,t,r,s){try{let u=[];if(s&&s.send_to){let l=s.send_to;Array.isArray(l)||(l=[l]);const g=yield hE(t);for(const _ of l){const D=g.find(A=>A.measurementId===_),b=D&&e[D.appId];if(!b){u=[];break}u.push(b)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,s||{})}catch(u){sr.error(u)}})).apply(this,arguments)}function vE(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(dE)&&t.src.includes(n))return t;return null}const qr=new Ct.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ea=new class Jb{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function jx(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function by(n){return EE.apply(this,arguments)}function EE(){return(EE=(0,re.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,s={method:"GET",headers:jx(r)},u=Yb.replace("{app-id}",t),l=yield fetch(u,s);if(200!==l.status&&304!==l.status){let g="";try{const _=yield l.json();null!==(e=_.error)&&void 0!==e&&e.message&&(g=_.error.message)}catch{}throw qr.create("config-fetch-failed",{httpStatus:l.status,responseMessage:g})}return l.json()})).apply(this,arguments)}function IE(n){return Bf.apply(this,arguments)}function Bf(){return(Bf=(0,re.Z)(function*(n,e=Ea,t){const{appId:r,apiKey:s,measurementId:u}=n.options;if(!r)throw qr.create("no-app-id");if(!s){if(u)return{measurementId:u,appId:r};throw qr.create("no-api-key")}const l=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new nT;return setTimeout((0,re.Z)(function*(){g.abort()}),void 0!==t?t:6e4),Xb({appId:r,apiKey:s,measurementId:u},l,g,e)})).apply(this,arguments)}function Xb(n,e,t){return Xe.apply(this,arguments)}function Xe(){return(Xe=(0,re.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,s=Ea){var u;const{appId:l,measurementId:g}=n;try{yield eT(r,e)}catch(_){if(g)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:l,measurementId:g};throw _}try{const _=yield by(n);return s.deleteThrottleMetadata(l),_}catch(_){const D=_;if(!tT(D)){if(s.deleteThrottleMetadata(l),g)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${D?.message}]`),{appId:l,measurementId:g};throw _}const b=503===Number(null===(u=D?.customData)||void 0===u?void 0:u.httpStatus)?(0,Ct.$s)(t,s.intervalMillis,30):(0,Ct.$s)(t,s.intervalMillis),A={throttleEndTimeMillis:Date.now()+b,backoffCount:t+1};return s.setThrottleMetadata(l,A),sr.debug(`Calling attemptFetch again in ${b} millis`),Xb(n,A,r,s)}})).apply(this,arguments)}function eT(n,e){return new Promise((t,r)=>{const s=Math.max(e-Date.now(),0),u=setTimeout(t,s);n.addEventListener(()=>{clearTimeout(u),r(qr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function tT(n){if(!(n instanceof Ct.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class nT{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let Mo,Gf;function Hu(){return(Hu=(0,re.Z)(function*(n,e,t,r,s){if(s&&s.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function Sy(n){Gf=n}function bE(n){Mo=n}function iT(){return Ay.apply(this,arguments)}function Ay(){return(Ay=(0,re.Z)(function*(){if(!(0,Ct.hl)())return sr.warn(qr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ct.eu)()}catch(n){return sr.warn(qr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function My(){return(My=(0,re.Z)(function*(n,e,t,r,s,u,l){var g;const _=IE(n);_.then(G=>{t[G.measurementId]=G.appId,n.options.measurementId&&G.measurementId!==n.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${G.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(G=>sr.error(G)),e.push(_);const D=iT().then(G=>{if(G)return r.getId()}),[b,A]=yield Promise.all([_,D]);vE(u)||fE(u,b.measurementId),Gf&&(s("consent","default",Gf),Sy(void 0)),s("js",new Date);const P=null!==(g=l?.config)&&void 0!==g?g:{};return P.origin="firebase",P.update=!0,null!=A&&(P[qb]=A),s("config",b.measurementId,P),Mo&&(s("set",Mo),bE(void 0)),b.measurementId})).apply(this,arguments)}class sT{constructor(e){this.app=e}_delete(){return delete Us[this.app.options.appId],Promise.resolve()}}let Us={},Pl=[];const xy={};let TE,ai,Fl="dataLayer",Ia=!1;function aT(n,e,t){!function oT(){const n=[];if((0,Ct.ru)()&&n.push("This is a browser extension environment."),(0,Ct.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,s)=>`(${s+1}) ${r}`).join(" "),t=qr.create("invalid-analytics-context",{errorInfo:e});sr.warn(t.message)}}();const r=n.options.appId;if(!r)throw qr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw qr.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Us[r])throw qr.create("already-exists",{id:r});if(!Ia){!function pE(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(Fl);const{wrappedGtag:u,gtagCore:l}=function _E(n,e,t,r,s){let u=function(...l){window[r].push(arguments)};return window[s]&&"function"==typeof window[s]&&(u=window[s]),window[s]=function yE(n,e,t,r){function u(){return(u=(0,re.Z)(function*(l,g,_){try{"event"===l?yield mE(n,e,t,g,_):"config"===l?yield gE(n,e,t,r,g,_):"consent"===l?n("consent","update",_):n("set",g)}catch(D){sr.error(D)}})).apply(this,arguments)}return function s(l,g,_){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[s]}}(Us,Pl,xy,Fl,"gtag");ai=u,TE=l,Ia=!0}return Us[r]=function kl(n,e,t,r,s,u,l){return My.apply(this,arguments)}(n,Pl,xy,e,TE,Fl,t),new sT(n)}function AE(){return Ny.apply(this,arguments)}function Ny(){return(Ny=(0,re.Z)(function*(){if((0,Ct.ru)()||!(0,Ct.zI)()||!(0,Ct.hl)())return!1;try{return yield(0,Ct.eu)()}catch{return!1}})).apply(this,arguments)}const Oy="@firebase/analytics";!function lT(){(0,St._registerComponent)(new ii.wA(Lf,(e,{options:t})=>aT(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,St._registerComponent)(new ii.wA("analytics-internal",function n(e){try{const t=e.getProvider(Lf).getImmediate();return{logEvent:(r,s,u)=>function qx(n,e,t,r){n=(0,Ct.m9)(n),function rT(n,e,t,r,s){return Hu.apply(this,arguments)}(ai,Us[n.app.options.appId],e,t,r).catch(s=>sr.error(s))}(t,r,s,u)}}catch(t){throw qr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,St.registerVersion)(Oy,"0.9.1"),(0,St.registerVersion)(Oy,"0.9.1","esm2017")}();class dT extends fu.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Vl={setInterval(n,e,...t){const{delegate:r}=Vl;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Vl;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Ul=N(8737);class ME extends dT{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const s=this.id,u=this.scheduler;return null!=s&&(this.id=this.recycleAsyncId(u,s,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Vl.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Vl.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let s,r=!1;try{this.work(e)}catch(u){r=!0,s=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),s}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,Ul.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const ky={now:()=>(ky.delegate||Date).now(),delegate:void 0};class Bl{constructor(e,t=Bl.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Bl.now=ky.now;class fT extends Bl{constructor(e,t=Bl.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const xE=new class pT extends fT{}(class hT extends ME{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}}),gT=new fT(ME);var $l=N(9468),Da=N(5363);const Wf=new f.GfV("7.5.0"),qf="__angularfire_symbol__analyticsIsSupportedValue",Py="__angularfire_symbol__analyticsIsSupported",Kf="__angularfire_symbol__remoteConfigIsSupportedValue",Fy="__angularfire_symbol__remoteConfigIsSupported",jl="__angularfire_symbol__messagingIsSupportedValue",Ly="__angularfire_symbol__messagingIsSupported";function Vy(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(l=>l.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[Py]||(globalThis[Py]=AE().then(n=>globalThis[qf]=n).catch(()=>globalThis[qf]=!1)),globalThis[Ly]||(globalThis[Ly]=lE().then(n=>globalThis[jl]=n).catch(()=>globalThis[jl]=!1)),globalThis[Fy]||(globalThis[Fy]=xb().then(n=>globalThis[Kf]=n).catch(()=>globalThis[Kf]=!1));const Hl=(n,e)=>{const t=e?[e]:(0,St.getApps)(),r=[];return t.forEach(s=>{s.container.getProvider(n).instances.forEach(l=>{r.includes(l)||r.push(l)})}),r};function Gu(){}class Uy{constructor(e,t=xE){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const s=this.zone;return this.delegate.schedule(function(l){s.runGuarded(()=>{e.apply(this,[l])})},t,r)}}class yT{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gu,{},Gu,Gu)),t.pipe(zn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Yf=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new Uy(Zone.current)),this.insideAngular=t.run(()=>new Uy(Zone.current,gT)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.R0b))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ca(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function _T(n){return Ca().ngZone.runOutsideAngular(()=>n())}function ba(n){return Ca().ngZone.run(()=>n())}function RE(n){return Ca(),function NE(n){return function(t){return(t=t.lift(new yT(n.ngZone))).pipe((0,$l.R)(n.outsideAngular),(0,Da.Q)(n.insideAngular))}}(Ca())(n)}const OE=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),ba(()=>n.apply(void 0,r))},zu=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=ba(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Gu,{},Gu,Gu)))),r[u]=OE(r[u],t));const s=_T(()=>n.apply(this,r));if(!e){if(s instanceof ei.y){const u=Ca();return s.pipe((0,$l.R)(u.outsideAngular),(0,Da.Q)(u.insideAngular))}return ba(()=>s)}return s instanceof ei.y?s.pipe(RE):s instanceof Promise?ba(()=>new Promise((u,l)=>s.then(g=>ba(()=>u(g)),g=>ba(()=>l(g))))):"function"==typeof s&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),s.apply(this,arguments)}:ba(()=>s)};class Wu{constructor(e){return e}}class Qf{constructor(){return(0,St.getApps)()}}const By=new f.OlP("angularfire2._apps"),$y={provide:Wu,useFactory:function vT(n){return n&&1===n.length?n[0]:new Wu((0,St.getApp)())},deps:[[new f.FiY,By]]},jy={provide:Qf,deps:[[new f.FiY,By]]};function kE(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Wu(r)}}let Hy=(()=>{class n{constructor(t){(0,St.registerVersion)("angularfire",Wf.full,"core"),(0,St.registerVersion)("angularfire",Wf.full,"app"),(0,St.registerVersion)("angular",f.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(f.Lbi))},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[$y,jy]}),n})();const FE=zu(St.initializeApp,!0),LE=new Map,Gy={activated:!1,tokenObservers:[]},zy={initialized:!1,enabled:!1};function or(n){return LE.get(n)||Object.assign({},Gy)}function Jf(){return zy}class IT{constructor(e,t,r,s,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=s,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=s,s>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,re.Z)(function*(){t.stop();try{t.pending=new Ct.BH,yield function DT(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ct.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Vr=new Ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function bT(n){if(!or(n).activated)throw Vr.create("use-before-activation",{appName:n.name})}function Zy(n,e){return $E.apply(this,arguments)}function $E(){return($E=(0,re.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},s=t.getImmediate({optional:!0});if(s){const A=yield s.getHeartbeatsHeader();A&&(r["X-Firebase-Client"]=A)}const u={method:"POST",body:JSON.stringify(e),headers:r};let l,g;try{l=yield fetch(n,u)}catch(A){throw Vr.create("fetch-network-error",{originalErrorMessage:A?.message})}if(200!==l.status)throw Vr.create("fetch-status-error",{httpStatus:l.status});try{g=yield l.json()}catch(A){throw Vr.create("fetch-parse-error",{originalErrorMessage:A?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Vr.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(_[1]),b=Date.now();return{token:g.token,expireTimeMillis:b+D,issuedAtTimeMillis:b}})).apply(this,arguments)}function AT(n,e){const{projectId:t,appId:r,apiKey:s}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${s}`,body:{debug_token:e}}}const Wl="firebase-app-check-store";let np=null;function GE(){return np||(np=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var s;e(Vr.create("storage-open",{originalErrorMessage:null===(s=r.target.error)||void 0===s?void 0:s.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Wl,{keyPath:"compositeKey"})}}catch(t){e(Vr.create("storage-open",{originalErrorMessage:t?.message}))}}),np)}function rp(){return(rp=(0,re.Z)(function*(n,e){const r=(yield GE()).transaction(Wl,"readwrite"),u=r.objectStore(Wl).put({compositeKey:n,value:e});return new Promise((l,g)=>{u.onsuccess=_=>{l()},r.onerror=_=>{var D;g(Vr.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const qu=new Ni.Yd("@firebase/app-check");function Xy(n,e){return(0,Ct.hl)()?function RT(n,e){return function Yy(n,e){return rp.apply(this,arguments)}(function Jy(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{qu.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function qE(){return Jf().enabled}function KE(){return Ta.apply(this,arguments)}function Ta(){return(Ta=(0,re.Z)(function*(){const n=Jf();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const t_={error:"UNKNOWN_ERROR"};function ss(n){return Ct.US.encodeString(JSON.stringify(n),!1)}function sp(n){return Kl.apply(this,arguments)}function Kl(){return(Kl=(0,re.Z)(function*(n,e=!1){const t=n.app;bT(t);const r=or(t);let u,s=r.token;if(s&&!Bs(s)&&(r.token=void 0,s=void 0),!s){const _=yield r.cachedTokenPromise;_&&(Bs(_)?s=_:yield Xy(t,void 0))}if(!e&&s&&Bs(s))return{token:s.token};let g,l=!1;if(qE()){r.exchangeTokenPromise||(r.exchangeTokenPromise=Zy(AT(t,yield KE()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const _=yield r.exchangeTokenPromise;return yield Xy(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),s=yield or(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?qu.warn(_.message):qu.error(_),u=_}return s?u?g=Bs(s)?{token:s.token,internalError:u}:YE(u):(g={token:s.token},r.token=s,yield Xy(t,s)):g=YE(u),l&&Zl(t,g),g})).apply(this,arguments)}function n_(n,e){const t=or(n),r=t.tokenObservers.filter(s=>s.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function ZE(n){const{app:e}=n,t=or(e);let r=t.tokenRefresher;r||(r=function PT(n){const{app:e}=n;return new IT((0,re.Z)(function*(){let r;if(r=or(e).token?yield sp(n,!0):yield sp(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=or(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Zl(n,e){const t=or(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Bs(n){return n.expireTimeMillis-Date.now()>0}function YE(n){return{token:ss(t_),error:n}}class FT{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=or(this.app);for(const t of e)n_(this.app,t.next);return Promise.resolve()}}const aI="app-check-internal";!function BT(){(0,St._registerComponent)(new ii.wA("app-check",n=>function QE(n,e){return new FT(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(aI).initialize()})),(0,St._registerComponent)(new ii.wA(aI,n=>function JE(n){return{getToken:e=>sp(n,e),addTokenListener:e=>function Sa(n,e,t,r){const{app:s}=n,u=or(s);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Bs(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),ZE(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>ZE(n))}(n,"INTERNAL",e),removeTokenListener:e=>n_(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,St.registerVersion)("@firebase/app-check","0.6.1")}();class Yl{constructor(){return Hl("app-check")}}typeof window<"u"&&window;var op=N(1808);class Ql{constructor(e){return e}}class Ma{constructor(){return Hl("auth")}}const ap=new f.OlP("angularfire2.auth-instances");function cR(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Ql(r)}}const WT={provide:Ma,deps:[[new f.FiY,ap]]},lR={provide:Ql,useFactory:function m_(n,e){const t=Vy("auth",n,e);return t&&new Ql(t)},deps:[[new f.FiY,ap],Wu]};let qT=(()=>{class n{constructor(){(0,St.registerVersion)("angularfire",Wf.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[lR,WT]}),n})();const hI=zu(op.a5,!0),fI=zu(op.n,!0),uS=zu(op.a6,!0);class Kn{constructor(e,t){this.auth=e,this.router=t}registerUser({email:e,password:t}){return hI(this.auth,e,t)}login({email:e,password:t}){return uS(this.auth,e,t)}logout(){this.auth.signOut().then(()=>{this.router.navigate(["/login"])}).catch(e=>console.log(e))}}Kn.\u0275fac=function(e){return new(e||Kn)(f.LFG(Ql),f.LFG(Wn))},Kn.\u0275prov=f.Yz7({token:Kn,factory:Kn.\u0275fac,providedIn:"root"});class Jl{constructor(e,t){this.userService=e,this.router=t}logout(){this.userService.logout(),this.router.navigate(["/auth"])}}Jl.\u0275fac=function(e){return new(e||Jl)(f.Y36(Kn),f.Y36(Wn))},Jl.\u0275cmp=f.Xpm({type:Jl,selectors:[["app-header"]],decls:8,vars:0,consts:[[1,"relative","w-full","flex","flex-wrap","items-center","justify-between","py-3","bg-gray-100","text-gray-500","hover:text-gray-700","focus:text-gray-700","shadow-lg"],[1,"w-full","flex","flex-wrap","items-center","justify-between","px-6"],[1,"text-xl","text-black","font-semibold"],[1,"bg-slate-300","px-4","py-2","rounded-lg","hover:bg-slate-600","hover:text-white",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),f._uU(4,"Navbar"),f.qZA()(),f.TgZ(5,"div")(6,"button",3),f.NdJ("click",function(){return t.logout()}),f._uU(7," Logout "),f.qZA()()()())}});var We,w_=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},$s={},Zr=Zr||{},_t=w_||self;function Yu(){}function up(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Xl(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var cp="closure_uid_"+(1e9*Math.random()>>>0),gI=0;function dS(n,e,t){return n.call.apply(n.bind,arguments)}function mI(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var s=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(s,r),n.apply(e,s)}}return function(){return n.apply(e,arguments)}}function ar(n,e,t){return(ar=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?dS:mI).apply(null,arguments)}function lp(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Zn(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,s,u){for(var l=Array(arguments.length-2),g=2;g<arguments.length;g++)l[g-2]=arguments[g];return e.prototype[s].apply(r,l)}}function xo(){this.s=this.s,this.o=this.o}xo.prototype.s=!1,xo.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function E_(n){Object.prototype.hasOwnProperty.call(n,cp)&&n[cp]||(n[cp]=++gI)}(this)},xo.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const js=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function dp(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function hp(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(up(r)){const s=n.length||0,u=r.length||0;n.length=s+u;for(let l=0;l<u;l++)n[s+l]=r[l]}else n.push(r)}}function un(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}un.prototype.h=function(){this.defaultPrevented=!0};var hS=function(){if(!_t.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{_t.addEventListener("test",Yu,e),_t.removeEventListener("test",Yu,e)}catch{}return n}();function D_(n){return/^[\s\xa0]*$/.test(n)}var yI=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function C_(n,e){return n<e?-1:n>e?1:0}function fp(){var n=_t.navigator;return n&&(n=n.userAgent)?n:""}function os(n){return-1!=fp().indexOf(n)}function pp(n){return pp[" "](n),n}pp[" "]=Yu;var ed,n,_I=os("Opera"),Qu=os("Trident")||os("MSIE"),b_=os("Edge"),vI=b_||Qu,gp=os("Gecko")&&!(-1!=fp().toLowerCase().indexOf("webkit")&&!os("Edge"))&&!(os("Trident")||os("MSIE"))&&!os("Edge"),wI=-1!=fp().toLowerCase().indexOf("webkit")&&!os("Edge");function T_(){var n=_t.document;return n?n.documentMode:void 0}e:{var mp="",yp=(n=fp(),gp?/rv:([^\);]+)(\)|;)/.exec(n):b_?/Edge\/([\d\.]+)/.exec(n):Qu?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):wI?/WebKit\/(\S+)/.exec(n):_I?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yp&&(mp=yp?yp[1]:""),Qu){var Ju=T_();if(null!=Ju&&Ju>parseFloat(mp)){ed=String(Ju);break e}}ed=mp}var _p={};var TR=_t.document&&Qu&&(T_()||parseInt(ed,10))||void 0;function vp(n,e){if(un.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(gp){e:{try{pp(e.nodeName);var s=!0;break e}catch{}s=!1}s||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:SR[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&vp.X.h.call(this)}}Zn(vp,un);var SR={2:"touch",3:"pen",4:"mouse"};vp.prototype.h=function(){vp.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Xu="closure_listenable_"+(1e6*Math.random()|0),fS=0;function pS(n,e,t,r,s){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=s,this.key=++fS,this.ba=this.ea=!1}function wp(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function DI(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function gS(n){const e={};for(const t in n)e[t]=n[t];return e}const mS="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function yS(n,e){let t,r;for(let s=1;s<arguments.length;s++){for(t in r=arguments[s],r)n[t]=r[t];for(let u=0;u<mS.length;u++)t=mS[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function A_(n){this.src=n,this.g={},this.h=0}function M_(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],s=js(r,e);(u=0<=s)&&Array.prototype.splice.call(r,s,1),u&&(wp(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function ec(n,e,t,r){for(var s=0;s<n.length;++s){var u=n[s];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return s}return-1}A_.prototype.add=function(n,e,t,r,s){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var l=ec(n,e,r,s);return-1<l?(e=n[l],t||(e.ea=!1)):((e=new pS(e,this.src,u,!!r,s)).ea=t,n.push(e)),e};var x_="closure_lm_"+(1e6*Math.random()|0),R_={};function N_(n,e,t,r,s){if(r&&r.once)return Ep(n,e,t,r,s);if(Array.isArray(e)){for(var u=0;u<e.length;u++)N_(n,e[u],t,r,s);return null}return t=TI(t),n&&n[Xu]?n.N(e,t,Xl(r)?!!r.capture:!!r,s):Ro(n,e,t,!1,r,s)}function Ro(n,e,t,r,s,u){if(!e)throw Error("Invalid event type");var l=Xl(s)?!!s.capture:!!s,g=tc(n);if(g||(n[x_]=g=new A_(n)),(t=g.add(e,t,r,l,u)).proxy)return t;if(r=function CI(){const e=k_;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)hS||(s=l),void 0===s&&(s=!1),n.addEventListener(e.toString(),r,s);else if(n.attachEvent)n.attachEvent(Dp(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Ep(n,e,t,r,s){if(Array.isArray(e)){for(var u=0;u<e.length;u++)Ep(n,e[u],t,r,s);return null}return t=TI(t),n&&n[Xu]?n.O(e,t,Xl(r)?!!r.capture:!!r,s):Ro(n,e,t,!0,r,s)}function Ip(n,e,t,r,s){if(Array.isArray(e))for(var u=0;u<e.length;u++)Ip(n,e[u],t,r,s);else r=Xl(r)?!!r.capture:!!r,t=TI(t),n&&n[Xu]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=ec(u=n.g[e],t,r,s))&&(wp(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=tc(n))&&(e=n.g[e.toString()],n=-1,e&&(n=ec(e,t,r,s)),(t=-1<n?e[n]:null)&&O_(t))}function O_(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[Xu])M_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Dp(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=tc(e))?(M_(t,n),0==t.h&&(t.src=null,e[x_]=null)):wp(n)}}}function Dp(n){return n in R_?R_[n]:R_[n]="on"+n}function k_(n,e){if(n.ba)n=!0;else{e=new vp(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&O_(n),n=t.call(r,e)}return n}function tc(n){return(n=n[x_])instanceof A_?n:null}var bI="__closure_events_fn_"+(1e9*Math.random()>>>0);function TI(n){return"function"==typeof n?n:(n[bI]||(n[bI]=function(e){return n.handleEvent(e)}),n[bI])}function ur(){xo.call(this),this.i=new A_(this),this.P=this,this.I=null}function _r(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new un(e,n);else if(e instanceof un)e.target=e.target||n;else{var s=e;yS(e=new un(r,n),s)}if(s=!0,t)for(var u=t.length-1;0<=u;u--){var l=e.g=t[u];s=td(l,r,!0,e)&&s}if(s=td(l=e.g=n,r,!0,e)&&s,s=td(l,r,!1,e)&&s,t)for(u=0;u<t.length;u++)s=td(l=e.g=t[u],r,!1,e)&&s}function td(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var s=!0,u=0;u<e.length;++u){var l=e[u];if(l&&!l.ba&&l.capture==t){var g=l.listener,_=l.ha||l.src;l.ea&&M_(n.i,l),s=!1!==g.call(_,r)&&s}}return s&&!r.defaultPrevented}Zn(ur,xo),ur.prototype[Xu]=!0,ur.prototype.removeEventListener=function(n,e,t,r){Ip(this,n,e,t,r)},ur.prototype.M=function(){if(ur.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)wp(t[r]);delete n.g[e],n.h--}}this.I=null},ur.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ur.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var P_=_t.JSON.stringify;function _S(){var n=bp;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var L_,SI=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new AI,n=>n.reset());class AI{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function MI(n){_t.setTimeout(()=>{throw n},0)}function F_(n,e){L_||function wS(){var n=_t.Promise.resolve(void 0);L_=function(){n.then(AR)}}(),Cp||(L_(),Cp=!0),bp.add(n,e)}var Cp=!1,bp=new class vS{constructor(){this.h=this.g=null}add(e,t){const r=SI.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function AR(){for(var n;n=_S();){try{n.h.call(n.g)}catch(t){MI(t)}var e=SI;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}Cp=!1}function nd(n,e){ur.call(this),this.h=n||1,this.g=e||_t,this.j=ar(this.lb,this),this.l=Date.now()}function rd(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function V_(n,e,t){if("function"==typeof n)t&&(n=ar(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ar(n.handleEvent,n)}return 2147483647<Number(e)?-1:_t.setTimeout(n,e||0)}function xI(n){n.g=V_(()=>{n.g=null,n.i&&(n.i=!1,xI(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Zn(nd,ur),(We=nd.prototype).ca=!1,We.R=null,We.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),_r(this,"tick"),this.ca&&(rd(this),this.start()))}},We.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},We.M=function(){nd.X.M.call(this),rd(this),delete this.g};class MR extends xo{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:xI(this)}M(){super.M(),this.g&&(_t.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Tp(n){xo.call(this),this.h=n,this.g={}}Zn(Tp,xo);var RI=[];function NI(n,e,t,r){Array.isArray(t)||(t&&(RI[0]=t.toString()),t=RI);for(var s=0;s<t.length;s++){var u=N_(e,t[s],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function OI(n){DI(n.g,function(e,t){this.g.hasOwnProperty(t)&&O_(e)},n),n.g={}}function U_(){this.g=!0}function id(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function ES(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var s=r[1];if(Array.isArray(s)&&!(1>s.length)){var u=s[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var l=1;l<s.length;l++)s[l]=""}}}return P_(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Tp.prototype.M=function(){Tp.X.M.call(this),OI(this)},Tp.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},U_.prototype.Aa=function(){this.g=!1},U_.prototype.info=function(){};var nc={},IS=null;function B_(){return IS=IS||new ur}function DS(n){un.call(this,nc.Pa,n)}function Sp(n){const e=B_();_r(e,new DS(e))}function CS(n,e){un.call(this,nc.STAT_EVENT,n),this.stat=e}function i(n){const e=B_();_r(e,new CS(e,n))}function o(n,e){un.call(this,nc.Qa,n),this.size=e}function a(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return _t.setTimeout(function(){n()},e)}nc.Pa="serverreachability",Zn(DS,un),nc.STAT_EVENT="statevent",Zn(CS,un),nc.Qa="timingevent",Zn(o,un);var c={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},d={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function h(){}function w(){}h.prototype.h=null;var x,I={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function C(){un.call(this,"d")}function S(){un.call(this,"c")}function V(){}function z(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new Tp(this),this.O=Se,this.T=new nd(n=vI?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new ie}function ie(){this.i=null,this.g="",this.h=!1}Zn(C,un),Zn(S,un),Zn(V,h),V.prototype.g=function(){return new XMLHttpRequest},V.prototype.i=function(){return{}},x=new V;var Se=45e3,ke={},$e={};function nt(n,e,t){n.K=1,n.v=LI(xa(e)),n.s=t,n.P=!0,ge(n,null)}function ge(n,e){n.F=Date.now(),Ap(n),n.A=xa(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),BR(t.i,"t",r),n.C=0,t=n.l.H,n.h=new ie,n.g=lN(n.l,t?e:null,!n.s),0<n.N&&(n.L=new MR(ar(n.La,n,n.g),n.N)),NI(n.S,n.g,"readystatechange",n.ib),e=n.H?gS(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),Sp(),function xR(n,e,t,r,s,u){n.info(function(){if(n.g)if(u)for(var l="",g=u.split("&"),_=0;_<g.length;_++){var D=g[_].split("=");if(1<D.length){var b=D[0];D=D[1];var A=b.split("_");l=2<=A.length&&"type"==A[1]?l+(b+"=")+D+"&":l+(b+"=redacted&")}}else l=null;else l=u;return"XMLHTTP REQ ("+r+") [attempt "+s+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.U,n.s)}function gt(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function nn(n,e,t){let s,r=!0;for(;!n.I&&n.C<t.length;){if(s=En(n,t),s==$e){4==e&&(n.o=4,i(14),r=!1),id(n.j,n.m,null,"[Incomplete Response]");break}if(s==ke){n.o=4,i(15),id(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}id(n.j,n.m,s,null),bS(n,s)}gt(n)&&s!=$e&&s!=ke&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,i(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),OS(e),e.K=!0,i(11))):(id(n.j,n.m,t,"[Invalid Chunked Response]"),sd(n),$_(n))}function En(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?$e:(t=Number(e.substring(t,r)),isNaN(t)?ke:(r+=1)+t>e.length?$e:(e=e.substr(r,t),n.C=r+t,e))}function Ap(n){n.V=Date.now()+n.O,OR(n,n.O)}function OR(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=a(ar(n.gb,n),e)}function kI(n){n.B&&(_t.clearTimeout(n.B),n.B=null)}function $_(n){0==n.l.G||n.I||oN(n.l,n)}function sd(n){kI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,rd(n.T),OI(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function bS(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||TS(t.h,n)))if(!n.J&&TS(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var s=r;if(0==s[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;HI(t),$I(t)}NS(t),i(18)}}else t.Ba=s[1],0<t.Ba-t.T&&37500>s[2]&&t.L&&0==t.A&&!t.v&&(t.v=a(ar(t.cb,t),6e3));if(1>=HR(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else ad(t,11)}else if((n.J||t.g==n)&&HI(t),!D_(e))for(s=t.Fa.g.parse(e),e=0;e<s.length;e++){let D=s[e];if(t.T=D[0],D=D[1],2==t.G)if("c"==D[0]){t.I=D[1],t.ka=D[2];const b=D[3];null!=b&&(t.ma=b,t.j.info("VER="+t.ma));const A=D[4];null!=A&&(t.Ca=A,t.j.info("SVER="+t.Ca));const P=D[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const G=n.g;if(G){const te=G.g?G.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(te){var u=r.h;u.g||-1==te.indexOf("spdy")&&-1==te.indexOf("quic")&&-1==te.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(SS(u,u.h),u.h=null))}if(r.D){const Ee=G.g?G.g.getResponseHeader("X-HTTP-Session-Id"):null;Ee&&(r.za=Ee,pn(r.F,r.D,Ee))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var l=n;if((r=t).sa=cN(r,r.H?r.ka:null,r.V),l.J){GR(r.h,l);var g=l,_=r.J;_&&g.setTimeout(_),g.B&&(kI(g),Ap(g)),r.g=l}else iN(r);0<t.i.length&&jI(t)}else"stop"!=D[0]&&"close"!=D[0]||ad(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?ad(t,7):RS(t):"noop"!=D[0]&&t.l&&t.l.wa(D),t.A=0)}Sp()}catch{}}function kR(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(up(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function dF(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(up(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function lF(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(up(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),s=r.length,u=0;u<s;u++)e.call(void 0,r[u],t&&t[u],n)}(We=z.prototype).setTimeout=function(n){this.O=n},We.ib=function(n){n=n.target;const e=this.L;e&&3==Ra(n)?e.l():this.La(n)},We.La=function(n){try{if(n==this.g)e:{const b=Ra(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>b)&&(3!=b||vI||this.g&&(this.h.h||this.g.fa()||JR(this.g)))){this.I||4!=b||7==e||Sp(),kI(this);var t=this.g.aa();this.Y=t;t:if(gt(this)){var r=JR(this.g);n="";var s=r.length,u=4==Ra(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){sd(this),$_(this);var l="";break t}this.h.i=new _t.TextDecoder}for(e=0;e<s;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==s-1});r.splice(0,s),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.fa();if(this.i=200==t,function RR(n,e,t,r,s,u,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+s+"]: "+e+"\n"+t+"\n"+u+" "+l})}(this.j,this.u,this.A,this.m,this.U,b,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D_(g)){var D=g;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,i(12),sd(this),$_(this);break e}id(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,bS(this,t)}this.P?(nn(this,b,l),vI&&this.i&&3==b&&(NI(this.S,this.T,"tick",this.hb),this.T.start())):(id(this.j,this.m,l,null),bS(this,l)),4==b&&sd(this),this.i&&!this.I&&(4==b?oN(this.l,this):(this.i=!1,Ap(this)))}else 400==t&&0<l.indexOf("Unknown SID")?(this.o=3,i(12)):(this.o=0,i(13)),sd(this),$_(this)}}}catch{}},We.hb=function(){if(this.g){var n=Ra(this.g),e=this.g.fa();this.C<e.length&&(kI(this),nn(this,n,e),this.i&&4!=n&&Ap(this))}},We.cancel=function(){this.I=!0,sd(this)},We.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function NR(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(Sp(),i(17)),sd(this),this.o=2,$_(this)):OR(this,this.V-n)};var PR=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function od(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof od){this.h=void 0!==e?e:n.h,PI(this,n.j),this.s=n.s,this.g=n.g,FI(this,n.m),this.l=n.l,e=n.i;var t=new G_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),FR(this,t),this.o=n.o}else n&&(t=String(n).match(PR))?(this.h=!!e,PI(this,t[1]||"",!0),this.s=j_(t[2]||""),this.g=j_(t[3]||"",!0),FI(this,t[4]),this.l=j_(t[5]||"",!0),FR(this,t[6]||"",!0),this.o=j_(t[7]||"")):(this.h=!!e,this.i=new G_(null,this.h))}function xa(n){return new od(n)}function PI(n,e,t){n.j=t?j_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function FI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function FR(n,e,t){e instanceof G_?(n.i=e,function _F(n,e){e&&!n.j&&(rc(n),n.i=null,n.g.forEach(function(t,r){var s=r.toLowerCase();r!=s&&(VR(this,r),BR(this,s,t))},n)),n.j=e}(n.i,n.h)):(t||(e=H_(e,mF)),n.i=new G_(e,n.h))}function pn(n,e,t){n.i.set(e,t)}function LI(n){return pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function j_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function H_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,fF),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function fF(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}od.prototype.toString=function(){var n=[],e=this.j;e&&n.push(H_(e,LR,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(H_(e,LR,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(H_(t,"/"==t.charAt(0)?gF:pF,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",H_(t,yF)),n.join("")};var LR=/[#\/\?@]/g,pF=/[#\?:]/g,gF=/[#\?]/g,mF=/[#\?@]/g,yF=/#/g;function G_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function rc(n){n.g||(n.g=new Map,n.h=0,n.i&&function hF(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),s=null;if(0<=r){var u=n[t].substring(0,r);s=n[t].substring(r+1)}else u=n[t];e(u,s?decodeURIComponent(s.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function VR(n,e){rc(n),e=Mp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function UR(n,e){return rc(n),e=Mp(n,e),n.g.has(e)}function BR(n,e,t){VR(n,e),0<t.length&&(n.i=null,n.g.set(Mp(n,e),dp(t)),n.h+=t.length)}function Mp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function $R(n){this.l=n||wF,n=_t.PerformanceNavigationTiming?0<(n=_t.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(_t.g&&_t.g.Ga&&_t.g.Ga()&&_t.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(We=G_.prototype).add=function(n,e){rc(this),this.i=null,n=Mp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},We.forEach=function(n,e){rc(this),this.g.forEach(function(t,r){t.forEach(function(s){n.call(e,s,r,this)},this)},this)},We.oa=function(){rc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const s=n[r];for(let u=0;u<s.length;u++)t.push(e[r])}return t},We.W=function(n){rc(this);let e=[];if("string"==typeof n)UR(this,n)&&(e=e.concat(this.g.get(Mp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},We.set=function(n,e){return rc(this),this.i=null,UR(this,n=Mp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},We.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},We.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),l=this.W(r);for(r=0;r<l.length;r++){var s=u;""!==l[r]&&(s+="="+encodeURIComponent(String(l[r]))),n.push(s)}}return this.i=n.join("&")};var wF=10;function jR(n){return!!n.h||!!n.g&&n.g.size>=n.j}function HR(n){return n.h?1:n.g?n.g.size:0}function TS(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function SS(n,e){n.g?n.g.add(e):n.h=e}function GR(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function zR(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return dp(n.i)}function AS(){}function EF(){this.g=new AS}function IF(n,e,t){const r=t||"";try{kR(n,function(s,u){let l=s;Xl(s)&&(l=P_(s)),e.push(r+u+"="+encodeURIComponent(l))})}catch(s){throw e.push(r+"type="+encodeURIComponent("_badmap")),s}}function VI(n,e,t,r,s){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,s(r)}catch{}}function z_(n){this.l=n.ac||null,this.j=n.jb||!1}function UI(n,e){ur.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=MS,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}$R.prototype.cancel=function(){if(this.i=zR(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},AS.prototype.stringify=function(n){return _t.JSON.stringify(n,void 0)},AS.prototype.parse=function(n){return _t.JSON.parse(n,void 0)},Zn(z_,h),z_.prototype.g=function(){return new UI(this.l,this.j)},z_.prototype.i=function(n){return function(){return n}}({}),Zn(UI,ur);var MS=0;function WR(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function W_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,q_(n)}function q_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(We=UI.prototype).open=function(n,e){if(this.readyState!=MS)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,q_(this)},We.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||_t).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},We.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,W_(this)),this.readyState=MS},We.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,q_(this)),this.g&&(this.readyState=3,q_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof _t.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;WR(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},We.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?W_(this):q_(this),3==this.readyState&&WR(this)}},We.Va=function(n){this.g&&(this.response=this.responseText=n,W_(this))},We.Ua=function(n){this.g&&(this.response=n,W_(this))},We.ga=function(){this.g&&W_(this)},We.setRequestHeader=function(n,e){this.v.append(n,e)},We.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},We.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(UI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var CF=_t.JSON.parse;function Sn(n){ur.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=qR,this.K=this.L=!1}Zn(Sn,ur);var qR="",bF=/^https?$/i,TF=["POST","PUT"];function KR(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,ZR(n),BI(n)}function ZR(n){n.D||(n.D=!0,_r(n,"complete"),_r(n,"error"))}function YR(n){if(n.h&&typeof Zr<"u"&&(!n.C[1]||4!=Ra(n)||2!=n.aa()))if(n.v&&4==Ra(n))V_(n.Ha,0,n);else if(_r(n,"readystatechange"),4==Ra(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var s=String(n.H).match(PR)[1]||null;if(!s&&_t.self&&_t.self.location){var u=_t.self.location.protocol;s=u.substr(0,u.length-1)}r=!bF.test(s?s.toLowerCase():"")}t=r}if(t)_r(n,"complete"),_r(n,"success");else{n.m=6;try{var l=2<Ra(n)?n.g.statusText:""}catch{l=""}n.j=l+" ["+n.aa()+"]",ZR(n)}}finally{BI(n)}}}function BI(n,e){if(n.g){QR(n);const t=n.g,r=n.C[0]?Yu:null;n.g=null,n.C=null,e||_r(n,"ready");try{t.onreadystatechange=r}catch{}}}function QR(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(_t.clearTimeout(n.A),n.A=null)}function Ra(n){return n.g?n.g.readyState:0}function JR(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case qR:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function XR(n){let e="";return DI(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function xS(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=XR(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pn(n,e,t))}function K_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function eN(n){this.Ca=0,this.i=[],this.j=new U_,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=K_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=K_("baseRetryDelayMs",5e3,n),this.bb=K_("retryDelaySeedMs",1e4,n),this.$a=K_("forwardChannelMaxRetries",2,n),this.ta=K_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new $R(n&&n.concurrentRequestLimit),this.Fa=new EF,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function RS(n){if(tN(n),3==n.G){var e=n.U++,t=xa(n.F);pn(t,"SID",n.I),pn(t,"RID",e),pn(t,"TYPE","terminate"),Z_(n,t),(e=new z(n,n.j,e,void 0)).K=2,e.v=LI(xa(t)),t=!1,_t.navigator&&_t.navigator.sendBeacon&&(t=_t.navigator.sendBeacon(e.v.toString(),"")),!t&&_t.Image&&((new Image).src=e.v,t=!0),t||(e.g=lN(e.l,null),e.g.da(e.v)),e.F=Date.now(),Ap(e)}uN(n)}function $I(n){n.g&&(OS(n),n.g.cancel(),n.g=null)}function tN(n){$I(n),n.u&&(_t.clearTimeout(n.u),n.u=null),HI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&_t.clearTimeout(n.m),n.m=null)}function jI(n){jR(n.h)||n.m||(n.m=!0,F_(n.Ja,n),n.C=0)}function nN(n,e){var t;t=e?e.m:n.U++;const r=xa(n.F);pn(r,"SID",n.I),pn(r,"RID",t),pn(r,"AID",n.T),Z_(n,r),n.o&&n.s&&xS(r,n.o,n.s),t=new z(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=rN(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),SS(n.h,t),nt(t,r,e)}function Z_(n,e){n.ia&&DI(n.ia,function(t,r){pn(e,r,t)}),n.l&&kR({},function(t,r){pn(e,r,t)})}function rN(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ar(n.l.Ra,n.l,n):null;e:{var s=n.i;let u=-1;for(;;){const l=["count="+t];-1==u?0<t?(u=s[0].h,l.push("ofs="+u)):u=0:l.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let D=s[_].h;const b=s[_].g;if(D-=u,0>D)u=Math.max(0,s[_].h-100),g=!1;else try{IF(b,l,"req"+D+"_")}catch{r&&r(b)}}if(g){r=l.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function iN(n){n.g||n.u||(n.Z=1,F_(n.Ia,n),n.A=0)}function NS(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=a(ar(n.Ia,n),aN(n,n.A)),n.A++,0))}function OS(n){null!=n.B&&(_t.clearTimeout(n.B),n.B=null)}function sN(n){n.g=new z(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=xa(n.sa);pn(e,"RID","rpc"),pn(e,"SID",n.I),pn(e,"CI",n.L?"0":"1"),pn(e,"AID",n.T),pn(e,"TYPE","xmlhttp"),Z_(n,e),n.o&&n.s&&xS(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=LI(xa(e)),t.s=null,t.P=!0,ge(t,n)}function HI(n){null!=n.v&&(_t.clearTimeout(n.v),n.v=null)}function oN(n,e){var t=null;if(n.g==e){HI(n),OS(n),n.g=null;var r=2}else{if(!TS(n.h,e))return;t=e.D,GR(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var s=n.C;_r(r=B_(),new o(r,t)),jI(n)}else iN(n);else if(3==(s=e.o)||0==s&&0<n.pa||!(1==r&&function AF(n,e){return!(HR(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=a(ar(n.Ja,n,e),aN(n,n.C)),n.C++,0)))}(n,e)||2==r&&NS(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),s){case 1:ad(n,5);break;case 4:ad(n,10);break;case 3:ad(n,6);break;default:ad(n,2)}}function aN(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function ad(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ar(n.kb,n);t||(t=new od("//www.google.com/images/cleardot.gif"),_t.location&&"http"==_t.location.protocol||PI(t,"https"),LI(t)),function DF(n,e){const t=new U_;if(_t.Image){const r=new Image;r.onload=lp(VI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=lp(VI,t,r,"TestLoadImage: error",!1,e),r.onabort=lp(VI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=lp(VI,t,r,"TestLoadImage: timeout",!1,e),_t.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else i(2);n.G=0,n.l&&n.l.va(e),uN(n),tN(n)}function uN(n){if(n.G=0,n.la=[],n.l){const e=zR(n.h);(0!=e.length||0!=n.i.length)&&(hp(n.la,e),hp(n.la,n.i),n.h.i.length=0,dp(n.i),n.i.length=0),n.l.ua()}}function cN(n,e,t){var r=t instanceof od?xa(t):new od(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),FI(r,r.m);else{var s=_t.location;r=s.protocol,e=e?e+"."+s.hostname:s.hostname,s=+s.port;var u=new od(null,void 0);r&&PI(u,r),e&&(u.g=e),s&&FI(u,s),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&pn(r,t,e),pn(r,"VER",n.ma),Z_(n,r),r}function lN(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Sn(t&&n.Da&&!n.ra?new z_({jb:!0}):n.ra)).Ka(n.H),e}function dN(){}function GI(){if(Qu&&!(10<=Number(TR)))throw Error("Environmental error: no available transport.")}function Pi(n,e){ur.call(this),this.g=new eN(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!D_(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!D_(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new xp(this)}function hN(n){C.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function fN(){S.call(this),this.status=1}function xp(n){this.g=n}(We=Sn.prototype).Ka=function(n){this.L=n},We.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():x.g(),this.C=function y(n){return n.h||(n.h=n.i())}(this.u?this.u:x),this.g.onreadystatechange=ar(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void KR(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)t.set(s,r[s]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),s=_t.FormData&&n instanceof _t.FormData,!(0<=js(TF,e))||r||s||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,l]of t)this.g.setRequestHeader(u,l);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{QR(this),0<this.B&&((this.K=function SF(n){return Qu&&function EI(){return function bR(n){var e=_p;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=yI(String(ed)).split("."),t=yI("9").split("."),r=Math.max(e.length,t.length);for(let l=0;0==n&&l<r;l++){var s=e[l]||"",u=t[l]||"";do{if(s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==s[0].length&&0==u[0].length)break;n=C_(0==s[1].length?0:parseInt(s[1],10),0==u[1].length?0:parseInt(u[1],10))||C_(0==s[2].length,0==u[2].length)||C_(s[2],u[2]),s=s[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ar(this.qa,this)):this.A=V_(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){KR(this,u)}},We.qa=function(){typeof Zr<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,_r(this,"timeout"),this.abort(8))},We.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,_r(this,"complete"),_r(this,"abort"),BI(this))},We.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),BI(this,!0)),Sn.X.M.call(this)},We.Ha=function(){this.s||(this.F||this.v||this.l?YR(this):this.fb())},We.fb=function(){YR(this)},We.aa=function(){try{return 2<Ra(this)?this.g.status:-1}catch{return-1}},We.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},We.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),CF(e)}},We.Ea=function(){return this.m},We.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(We=eN.prototype).ma=8,We.G=1,We.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const s=new z(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=gS(u),yS(u,this.S)):u=this.S),null!==this.o||this.N||(s.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=rN(this,s,e),pn(t=xa(this.F),"RID",n),pn(t,"CVER",22),this.D&&pn(t,"X-HTTP-Session-Id",this.D),Z_(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(XR(u)))+"&"+e:this.o&&xS(t,this.o,u)),SS(this.h,s),this.Ya&&pn(t,"TYPE","init"),this.O?(pn(t,"$req",e),pn(t,"SID","null"),s.Z=!0,nt(s,t,null)):nt(s,t,e),this.G=2}}else 3==this.G&&(n?nN(this,n):0==this.i.length||jR(this.h)||nN(this))},We.Ia=function(){if(this.u=null,sN(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=a(ar(this.eb,this),n)}},We.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,i(10),$I(this),sN(this))},We.cb=function(){null!=this.v&&(this.v=null,$I(this),NS(this),i(19))},We.kb=function(n){n?(this.j.info("Successfully pinged google.com"),i(2)):(this.j.info("Failed to ping google.com"),i(1))},(We=dN.prototype).xa=function(){},We.wa=function(){},We.va=function(){},We.ua=function(){},We.Ra=function(){},GI.prototype.g=function(n,e){return new Pi(n,e)},Zn(Pi,ur),Pi.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;i(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=cN(n,null,n.V),jI(n)},Pi.prototype.close=function(){RS(this.g)},Pi.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=P_(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&jI(e)},Pi.prototype.M=function(){this.g.l=null,delete this.j,RS(this.g),delete this.g,Pi.X.M.call(this)},Zn(hN,C),Zn(fN,S),Zn(xp,dN),xp.prototype.xa=function(){_r(this.g,"a")},xp.prototype.wa=function(n){_r(this.g,new hN(n))},xp.prototype.va=function(n){_r(this.g,new fN)},xp.prototype.ua=function(){_r(this.g,"b")},GI.prototype.createWebChannel=GI.prototype.g,Pi.prototype.send=Pi.prototype.u,Pi.prototype.open=Pi.prototype.m,Pi.prototype.close=Pi.prototype.close,c.NO_ERROR=0,c.TIMEOUT=8,c.HTTP_ERROR=6,d.COMPLETE="complete",w.EventType=I,I.OPEN="a",I.CLOSE="b",I.ERROR="c",I.MESSAGE="d",ur.prototype.listen=ur.prototype.N,Sn.prototype.listenOnce=Sn.prototype.O,Sn.prototype.getLastError=Sn.prototype.Oa,Sn.prototype.getLastErrorCode=Sn.prototype.Ea,Sn.prototype.getStatus=Sn.prototype.aa,Sn.prototype.getResponseJson=Sn.prototype.Sa,Sn.prototype.getResponseText=Sn.prototype.fa,Sn.prototype.send=Sn.prototype.da,Sn.prototype.setWithCredentials=Sn.prototype.Ka;var MF=$s.createWebChannelTransport=function(){return new GI},xF=$s.getStatEventTarget=function(){return B_()},kS=$s.ErrorCode=c,RF=$s.EventType=d,NF=$s.Event=nc,pN=$s.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},OF=$s.FetchXmlHttpFactory=z_,zI=$s.WebChannel=w,kF=$s.XhrIo=Sn;const gN="@firebase/firestore";class vr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}vr.UNAUTHENTICATED=new vr(null),vr.GOOGLE_CREDENTIALS=new vr("google-credentials-uid"),vr.FIRST_PARTY=new vr("first-party-uid"),vr.MOCK_USER=new vr("mock-user");let Rp="9.16.0";const ic=new Ni.Yd("@firebase/firestore");function PS(){return ic.logLevel}function Ie(n,...e){if(ic.logLevel<=Ni.in.DEBUG){const t=e.map(FS);ic.debug(`Firestore (${Rp}): ${n}`,...t)}}function Ln(n,...e){if(ic.logLevel<=Ni.in.ERROR){const t=e.map(FS);ic.error(`Firestore (${Rp}): ${n}`,...t)}}function Np(n,...e){if(ic.logLevel<=Ni.in.WARN){const t=e.map(FS);ic.warn(`Firestore (${Rp}): ${n}`,...t)}}function FS(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function je(n="Unexpected state"){const e=`FIRESTORE (${Rp}) INTERNAL ASSERTION FAILED: `+n;throw Ln(e),new Error(e)}function qe(n,e){n||je()}function Fe(n,e){return n}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class _e extends Ct.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class cr{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class mN{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class PF{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(vr.UNAUTHENTICATED))}shutdown(){}}class FF{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class LF{constructor(e){this.t=e,this.currentUser=vr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let s=this.i;const u=D=>this.i!==s?(s=this.i,t(D)):Promise.resolve();let l=new cr;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new cr,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const D=l;e.enqueueRetryable((0,re.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},_=D=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new cr)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(qe("string"==typeof r.accessToken),new mN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return qe(null===e||"string"==typeof e),new vr(e)}}class VF{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s,this.type="FirstParty",this.user=vr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(qe(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class UF{constructor(e,t,r,s){this.h=e,this.l=t,this.m=r,this.g=s}getToken(){return Promise.resolve(new VF(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(vr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class yN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class BF{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const l=u.token!==this.A;return this.A=u.token,Ie("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const s=u=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>s(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?s(u):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(qe("string"==typeof t.token),this.A=t.token,new yN(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function $F(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class _N{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const s=$F(40);for(let u=0;u<s.length;++u)r.length<20&&s[u]<t&&(r+=e.charAt(s[u]%e.length))}return r}}function wt(n,e){return n<e?-1:n>e?1:0}function Op(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}class In{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new _e(J.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new _e(J.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return In.fromMillis(Date.now())}static fromDate(e){return In.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new In(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Qe{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new In(0,0))}static max(){return new Qe(new In(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Y_{constructor(e,t,r){void 0===t?t=0:t>e.length&&je(),void 0===r?r=e.length-t:r>e.length-t&&je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Y_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Y_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const u=e.get(s),l=t.get(s);if(u<l)return-1;if(u>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ht extends Y_{construct(e,t,r){return new Ht(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new _e(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new Ht(t)}static emptyPath(){return new Ht([])}}const jF=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Vn extends Y_{construct(e,t,r){return new Vn(e,t,r)}static isValidIdentifier(e){return jF.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Vn.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Vn(["__name__"])}static fromServerFormat(e){const t=[];let r="",s=0;const u=()=>{if(0===r.length)throw new _e(J.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const g=e[s];if("\\"===g){if(s+1===e.length)throw new _e(J.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[s+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new _e(J.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,s+=2}else"`"===g?(l=!l,s++):"."!==g||l?(r+=g,s++):(u(),s++)}if(u(),l)throw new _e(J.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Vn(t)}static emptyPath(){return new Vn([])}}class Pe{constructor(e){this.path=e}static fromPath(e){return new Pe(Ht.fromString(e))}static fromName(e){return new Pe(Ht.fromString(e).popFirst(5))}static empty(){return new Pe(Ht.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Ht.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Ht.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Pe(new Ht(e.slice()))}}function EN(n){return new Fi(n.readTime,n.key,-1)}class Fi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Fi(Qe.min(),Pe.empty(),-1)}static max(){return new Fi(Qe.max(),Pe.empty(),-1)}}function VS(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Pe.comparator(n.documentKey,e.documentKey),0!==t?t:wt(n.largestBatchId,e.largestBatchId))}const IN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class zF{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function sc(n){return US.apply(this,arguments)}function US(){return US=(0,re.Z)(function*(n){if(n.code!==J.FAILED_PRECONDITION||n.message!==IN)throw n;Ie("LocalStore","Unexpectedly lost primary lease")}),US.apply(this,arguments)}class Q{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new Q((r,s)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,s)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof Q?t:Q.resolve(t)}catch(t){return Q.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):Q.reject(t)}static resolve(e){return new Q((t,r)=>{t(e)})}static reject(e){return new Q((t,r)=>{r(e)})}static waitFor(e){return new Q((t,r)=>{let s=0,u=0,l=!1;e.forEach(g=>{++s,g.next(()=>{++u,l&&u===s&&t()},_=>r(_))}),l=!0,u===s&&t()})}static or(e){let t=Q.resolve(!1);for(const r of e)t=t.next(s=>s?Q.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,u)=>{r.push(t.call(this,s,u))}),this.waitFor(r)}static mapArray(e,t){return new Q((r,s)=>{const u=e.length,l=new Array(u);let g=0;for(let _=0;_<u;_++){const D=_;t(e[D]).next(b=>{l[D]=b,++g,g===u&&r(l)},b=>s(b))}})}static doWhile(e,t){return new Q((r,s)=>{const u=()=>{!0===e()?t().next(()=>{u()},s):r()};u()})}}function oc(n){return"IndexedDbTransactionError"===n.name}let Li=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=s=>this.ut(s),this.ct=s=>r.writeSequenceNumber(s))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class YF{constructor(e,t,r,s,u,l,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=u,this.forceLongPolling=l,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class ld{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ld("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ld&&e.projectId===this.projectId&&e.database===this.database}}function CN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function dd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function bN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function X_(n){return null==n}function ev(n){return 0===n&&1/n==-1/0}class lr{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new lr(t)}static fromUint8Array(e){const t=function(r){let s="";for(let u=0;u<r.length;++u)s+=String.fromCharCode(r[u]);return s}(e);return new lr(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}lr.EMPTY_BYTE_STRING=new lr("");const QF=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ac(n){if(qe(!!n),"string"==typeof n){let e=0;const t=QF.exec(n);if(qe(!!t),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:An(n.seconds),nanos:An(n.nanos)}}function An(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function hd(n){return"string"==typeof n?lr.fromBase64String(n):lr.fromUint8Array(n)}function $S(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function SN(n){const e=n.mapValue.fields.__previous_value__;return $S(e)?SN(e):e}function tv(n){const e=ac(n.mapValue.fields.__local_write_time__.timestampValue);return new In(e.seconds,e.nanos)}const uc_mapValue={fields:{__type__:{stringValue:"__max__"}}};function fd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?$S(n)?4:RN(n)?9007199254740991:10:je()}function No(n,e){if(n===e)return!0;const t=fd(n);if(t!==fd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return tv(n).isEqual(tv(e));case 3:return function(r,s){if("string"==typeof r.timestampValue&&"string"==typeof s.timestampValue&&r.timestampValue.length===s.timestampValue.length)return r.timestampValue===s.timestampValue;const u=ac(r.timestampValue),l=ac(s.timestampValue);return u.seconds===l.seconds&&u.nanos===l.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return s=e,hd(n.bytesValue).isEqual(hd(s.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,s){return An(r.geoPointValue.latitude)===An(s.geoPointValue.latitude)&&An(r.geoPointValue.longitude)===An(s.geoPointValue.longitude)}(n,e);case 2:return function(r,s){if("integerValue"in r&&"integerValue"in s)return An(r.integerValue)===An(s.integerValue);if("doubleValue"in r&&"doubleValue"in s){const u=An(r.doubleValue),l=An(s.doubleValue);return u===l?ev(u)===ev(l):isNaN(u)&&isNaN(l)}return!1}(n,e);case 9:return Op(n.arrayValue.values||[],e.arrayValue.values||[],No);case 10:return function(r,s){const u=r.mapValue.fields||{},l=s.mapValue.fields||{};if(CN(u)!==CN(l))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===l[g]||!No(u[g],l[g])))return!1;return!0}(n,e);default:return je()}var s}function nv(n,e){return void 0!==(n.values||[]).find(t=>No(t,e))}function cc(n,e){if(n===e)return 0;const t=fd(n),r=fd(e);if(t!==r)return wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(n.booleanValue,e.booleanValue);case 2:return function(s,u){const l=An(s.integerValue||s.doubleValue),g=An(u.integerValue||u.doubleValue);return l<g?-1:l>g?1:l===g?0:isNaN(l)?isNaN(g)?0:-1:1}(n,e);case 3:return AN(n.timestampValue,e.timestampValue);case 4:return AN(tv(n),tv(e));case 5:return wt(n.stringValue,e.stringValue);case 6:return function(s,u){const l=hd(s),g=hd(u);return l.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(s,u){const l=s.split("/"),g=u.split("/");for(let _=0;_<l.length&&_<g.length;_++){const D=wt(l[_],g[_]);if(0!==D)return D}return wt(l.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,u){const l=wt(An(s.latitude),An(u.latitude));return 0!==l?l:wt(An(s.longitude),An(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(s,u){const l=s.values||[],g=u.values||[];for(let _=0;_<l.length&&_<g.length;++_){const D=cc(l[_],g[_]);if(D)return D}return wt(l.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(s,u){if(s===uc_mapValue&&u===uc_mapValue)return 0;if(s===uc_mapValue)return 1;if(u===uc_mapValue)return-1;const l=s.fields||{},g=Object.keys(l),_=u.fields||{},D=Object.keys(_);g.sort(),D.sort();for(let b=0;b<g.length&&b<D.length;++b){const A=wt(g[b],D[b]);if(0!==A)return A;const P=cc(l[g[b]],_[D[b]]);if(0!==P)return P}return wt(g.length,D.length)}(n.mapValue,e.mapValue);default:throw je()}}function AN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return wt(n,e);const t=ac(n),r=ac(e),s=wt(t.seconds,r.seconds);return 0!==s?s:wt(t.nanos,r.nanos)}function kp(n){return jS(n)}function jS(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const s=ac(r);return`time(${s.seconds},${s.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?hd(n.bytesValue).toBase64():"referenceValue"in n?Pe.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let s="[",u=!0;for(const l of r.values||[])u?u=!1:s+=",",s+=jS(l);return s+"]"}(n.arrayValue):"mapValue"in n?function(r){const s=Object.keys(r.fields||{}).sort();let u="{",l=!0;for(const g of s)l?l=!1:u+=",",u+=`${g}:${jS(r.fields[g])}`;return u+"}"}(n.mapValue):je();var e}function HS(n){return!!n&&"integerValue"in n}function rv(n){return!!n&&"arrayValue"in n}function MN(n){return!!n&&"nullValue"in n}function xN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function YI(n){return!!n&&"mapValue"in n}function iv(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return dd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=iv(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=iv(n.arrayValue.values[t]);return e}return Object.assign({},n)}function RN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class lc{constructor(e,t){this.position=e,this.inclusive=t}}function kN(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const u=e[s],l=n.position[s];if(r=u.field.isKeyField()?Pe.comparator(Pe.fromName(l.referenceValue),t.key):cc(l,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function PN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!No(n.position[t],e.position[t]))return!1;return!0}class FN{}class Bt extends FN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new eL(e,t,r):"array-contains"===t?new rL(e,r):"in"===t?new jN(e,r):"not-in"===t?new iL(e,r):"array-contains-any"===t?new sL(e,r):new Bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new tL(e,r):new nL(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(cc(t,this.value)):null!==t&&fd(this.value)===fd(t)&&this.matchesComparison(cc(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zt extends FN{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Zt(e,t)}matches(e){return Pp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Pp(n){return"and"===n.op}function zS(n){return function LN(n){for(const e of n.filters)if(e instanceof Zt)return!1;return!0}(n)&&Pp(n)}function WS(n){if(n instanceof Bt)return n.field.canonicalString()+n.op.toString()+kp(n.value);if(zS(n))return n.filters.map(e=>WS(e)).join(",");{const e=n.filters.map(t=>WS(t)).join(",");return`${n.op}(${e})`}}function VN(n,e){return n instanceof Bt?(t=n,(r=e)instanceof Bt&&t.op===r.op&&t.field.isEqual(r.field)&&No(t.value,r.value)):n instanceof Zt?function(t,r){return r instanceof Zt&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((s,u,l)=>s&&VN(u,r.filters[l]),!0)}(n,e):void je();var t,r}function BN(n){return n instanceof Bt?`${(e=n).field.canonicalString()} ${e.op} ${kp(e.value)}`:n instanceof Zt?function(e){return e.op.toString()+" {"+e.getFilters().map(BN).join(" ,")+"}"}(n):"Filter";var e}class eL extends Bt{constructor(e,t,r){super(e,t,r),this.key=Pe.fromName(r.referenceValue)}matches(e){const t=Pe.comparator(e.key,this.key);return this.matchesComparison(t)}}class tL extends Bt{constructor(e,t){super(e,"in",t),this.keys=$N(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class nL extends Bt{constructor(e,t){super(e,"not-in",t),this.keys=$N(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function $N(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Pe.fromName(r.referenceValue))}class rL extends Bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rv(t)&&nv(t.arrayValue,this.value)}}class jN extends Bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&nv(this.value.arrayValue,t)}}class iL extends Bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(nv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!nv(this.value.arrayValue,t)}}class sL extends Bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>nv(this.value.arrayValue,r))}}class Fp{constructor(e,t="asc"){this.field=e,this.dir=t}}function oL(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class Mn{constructor(e,t){this.comparator=e,this.root=t||Ur.EMPTY}insert(e,t){return new Mn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ur.BLACK,null,null))}remove(e){return new Mn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ur.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(0===s)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new QI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new QI(this.root,e,this.comparator,!1)}getReverseIterator(){return new QI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new QI(this.root,e,this.comparator,!0)}}class QI{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&s&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ur{constructor(e,t,r,s,u){this.key=e,this.value=t,this.color=r??Ur.RED,this.left=s??Ur.EMPTY,this.right=u??Ur.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,u){return new Ur(e??this.key,t??this.value,r??this.color,s??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const u=r(e,s.key);return s=u<0?s.copy(null,null,null,s.left.insert(e,t,r),null):0===u?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ur.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),0===t(e,s.key)){if(s.right.isEmpty())return Ur.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ur.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ur.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}Ur.EMPTY=null,Ur.RED=!0,Ur.BLACK=!1,Ur.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(n,e,t,r,s){return this}insert(n,e,t){return new Ur(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Jt{constructor(e){this.comparator=e,this.data=new Mn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new HN(this.data.getIterator())}getIteratorFrom(e){return new HN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Jt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(s,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Jt(this.comparator);return t.data=e,t}}class HN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class mi{constructor(e){this.fields=e,e.sort(Vn.comparator)}static empty(){return new mi([])}unionWith(e){let t=new Jt(Vn.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new mi(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Op(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class Br{constructor(e){this.value=e}static empty(){return new Br({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!YI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=iv(t)}setAll(e){let t=Vn.emptyPath(),r={},s=[];e.forEach((l,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,s),r={},s=[],t=g.popLast()}l?r[g.lastSegment()]=iv(l):s.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,s)}delete(e){const t=this.field(e.popLast());YI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return No(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];YI(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){dd(t,(s,u)=>e[s]=u);for(const s of r)delete e[s]}clone(){return new Br(iv(this.value))}}function GN(n){const e=[];return dd(n.fields,(t,r)=>{const s=new Vn([t]);if(YI(r)){const u=GN(r.mapValue).fields;if(0===u.length)e.push(s);else for(const l of u)e.push(s.child(l))}else e.push(s)}),new mi(e)}class cn{constructor(e,t,r,s,u,l,g){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=u,this.data=l,this.documentState=g}static newInvalidDocument(e){return new cn(e,0,Qe.min(),Qe.min(),Qe.min(),Br.empty(),0)}static newFoundDocument(e,t,r,s){return new cn(e,1,t,Qe.min(),r,s,0)}static newNoDocument(e,t){return new cn(e,2,t,Qe.min(),Qe.min(),Br.empty(),0)}static newUnknownDocument(e,t){return new cn(e,3,t,Qe.min(),Qe.min(),Br.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Qe.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Br.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Br.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof cn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new cn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class aL{constructor(e,t=null,r=[],s=[],u=null,l=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=u,this.startAt=l,this.endAt=g,this.ft=null}}function qS(n,e=null,t=[],r=[],s=null,u=null,l=null){return new aL(n,e,t,r,s,u,l)}function gd(n){const e=Fe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>WS(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(s=r).field.canonicalString()+s.dir;var s}).join(","),X_(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kp(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kp(r)).join(",")),e.ft=t}return e.ft}function sv(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!oL(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!VN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!PN(n.startAt,e.startAt)&&PN(n.endAt,e.endAt)}function JI(n){return Pe.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class Na{constructor(e,t=null,r=[],s=[],u=null,l="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=u,this.limitType=l,this.startAt=g,this.endAt=_,this.dt=null,this._t=null}}function Vp(n){return new Na(n)}function KN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function md(n){const e=Fe(n);if(null===e.dt){e.dt=[];const t=function eD(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function KS(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Fp(t)),e.dt.push(new Fp(Vn.keyField(),"asc"));else{let s=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(s=!0);if(!s){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Fp(Vn.keyField(),u))}}}return e.dt}function ui(n){const e=Fe(n);if(!e._t)if("F"===e.limitType)e._t=qS(e.path,e.collectionGroup,md(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of md(e))t.push(new Fp(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new lc(e.endAt.position,e.endAt.inclusive):null,s=e.startAt?new lc(e.startAt.position,e.startAt.inclusive):null;e._t=qS(e.path,e.collectionGroup,t,e.filters,e.limit,r,s)}return e._t}function tD(n,e,t){return new Na(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function ov(n,e){return sv(ui(n),ui(e))&&n.limitType===e.limitType}function ZN(n){return`${gd(ui(n))}|lt:${n.limitType}`}function QS(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>BN(r)).join(", ")}]`),X_(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(s=r).field.canonicalString()} (${s.dir})`;var s}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>kp(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>kp(r)).join(",")),`Target(${t})`}(ui(n))}; limitType=${n.limitType})`}function JS(n,e){return e.isFoundDocument()&&function(t,r){const s=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(s):Pe.isDocumentKey(t.path)?t.path.isEqual(s):t.path.isImmediateParentOf(s)}(n,e)&&function(t,r){for(const s of md(t))if(!s.field.isKeyField()&&null===r.data.field(s.field))return!1;return!0}(n,e)&&function(t,r){for(const s of t.filters)if(!s.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(s,u,l){const g=kN(s,u,l);return s.inclusive?g<=0:g<0}(t.startAt,md(t),r)||t.endAt&&!function(s,u,l){const g=kN(s,u,l);return s.inclusive?g>=0:g>0}(t.endAt,md(t),r)));var t,r}function QN(n){return(e,t)=>{let r=!1;for(const s of md(n)){const u=uL(s,e,t);if(0!==u)return u;r=r||s.field.isKeyField()}return 0}}function uL(n,e,t){const r=n.field.isKeyField()?Pe.comparator(e.key,t.key):function(s,u,l){const g=u.data.field(s),_=l.data.field(s);return null!==g&&null!==_?cc(g,_):je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}function JN(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ev(e)?"-0":e}}function XN(n){return{integerValue:""+n}}function e1(n,e){return function TN(n){return"number"==typeof n&&Number.isInteger(n)&&!ev(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?XN(e):JN(n,e)}class nD{constructor(){this._=void 0}}function cL(n,e,t){return n instanceof Up?function(r,s){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return s&&(u.fields.__previous_value__=s),{mapValue:u}}(t,e):n instanceof yd?n1(n,e):n instanceof _d?r1(n,e):function(r,s){const u=t1(r,s),l=s1(u)+s1(r.gt);return HS(u)&&HS(r.gt)?XN(l):JN(r.yt,l)}(n,e)}function lL(n,e,t){return n instanceof yd?n1(n,e):n instanceof _d?r1(n,e):t}function t1(n,e){return n instanceof Bp?HS(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Up extends nD{}class yd extends nD{constructor(e){super(),this.elements=e}}function n1(n,e){const t=o1(e);for(const r of n.elements)t.some(s=>No(s,r))||t.push(r);return{arrayValue:{values:t}}}class _d extends nD{constructor(e){super(),this.elements=e}}function r1(n,e){let t=o1(e);for(const r of n.elements)t=t.filter(s=>!No(s,r));return{arrayValue:{values:t}}}class Bp extends nD{constructor(e,t){super(),this.yt=e,this.gt=t}}function s1(n){return An(n.integerValue||n.doubleValue)}function o1(n){return rv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class hL{constructor(e,t){this.version=e,this.transformResults=t}}class gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function rD(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class iD{}function a1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new jp(n.key,gn.none()):new $p(n.key,n.data,gn.none());{const t=n.data,r=Br.empty();let s=new Jt(Vn.comparator);for(let u of e.fields)if(!s.has(u)){let l=t.field(u);null===l&&u.length>1&&(u=u.popLast(),l=t.field(u)),null===l?r.delete(u):r.set(u,l),s=s.add(u)}return new Oa(n.key,r,new mi(s.toArray()),gn.none())}}function fL(n,e,t){n instanceof $p?function(r,s,u){const l=r.value.clone(),g=l1(r.fieldTransforms,s,u.transformResults);l.setAll(g),s.convertToFoundDocument(u.version,l).setHasCommittedMutations()}(n,e,t):n instanceof Oa?function(r,s,u){if(!rD(r.precondition,s))return void s.convertToUnknownDocument(u.version);const l=l1(r.fieldTransforms,s,u.transformResults),g=s.data;g.setAll(c1(r)),g.setAll(l),s.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function uv(n,e,t,r){return n instanceof $p?function(s,u,l,g){if(!rD(s.precondition,u))return l;const _=s.value.clone(),D=d1(s.fieldTransforms,g,u);return _.setAll(D),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Oa?function(s,u,l,g){if(!rD(s.precondition,u))return l;const _=d1(s.fieldTransforms,g,u),D=u.data;return D.setAll(c1(s)),D.setAll(_),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===l?null:l.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(b=>b.field))}(n,e,t,r):(l=t,rD(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):l);var u,l}function pL(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),u=t1(r.transform,s||null);null!=u&&(null===t&&(t=Br.empty()),t.set(r.field,u))}return t||null}function u1(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Op(t,r,(s,u)=>function dL(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof yd&&r instanceof yd||t instanceof _d&&r instanceof _d?Op(t.elements,r.elements,No):t instanceof Bp&&r instanceof Bp?No(t.gt,r.gt):t instanceof Up&&r instanceof Up);var t,r}(s,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class $p extends iD{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Oa extends iD{constructor(e,t,r,s,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function c1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function l1(n,e,t){const r=new Map;qe(n.length===t.length);for(let s=0;s<t.length;s++){const u=n[s],l=u.transform,g=e.data.field(u.field);r.set(u.field,lL(l,g,t[s]))}return r}function d1(n,e,t){const r=new Map;for(const s of n){const u=s.transform,l=t.data.field(s.field);r.set(s.field,cL(u,l,e))}return r}class jp extends iD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class XS extends iD{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class gL{constructor(e){this.count=e}}var Yn,Gt;function h1(n){switch(n){default:return je();case J.CANCELLED:case J.UNKNOWN:case J.DEADLINE_EXCEEDED:case J.RESOURCE_EXHAUSTED:case J.INTERNAL:case J.UNAVAILABLE:case J.UNAUTHENTICATED:return!1;case J.INVALID_ARGUMENT:case J.NOT_FOUND:case J.ALREADY_EXISTS:case J.PERMISSION_DENIED:case J.FAILED_PRECONDITION:case J.ABORTED:case J.OUT_OF_RANGE:case J.UNIMPLEMENTED:case J.DATA_LOSS:return!0}}function f1(n){if(void 0===n)return Ln("GRPC error has no .code"),J.UNKNOWN;switch(n){case Yn.OK:return J.OK;case Yn.CANCELLED:return J.CANCELLED;case Yn.UNKNOWN:return J.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return J.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return J.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return J.INTERNAL;case Yn.UNAVAILABLE:return J.UNAVAILABLE;case Yn.UNAUTHENTICATED:return J.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return J.INVALID_ARGUMENT;case Yn.NOT_FOUND:return J.NOT_FOUND;case Yn.ALREADY_EXISTS:return J.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return J.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return J.FAILED_PRECONDITION;case Yn.ABORTED:return J.ABORTED;case Yn.OUT_OF_RANGE:return J.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return J.UNIMPLEMENTED;case Yn.DATA_LOSS:return J.DATA_LOSS;default:return je()}}(Gt=Yn||(Yn={}))[Gt.OK=0]="OK",Gt[Gt.CANCELLED=1]="CANCELLED",Gt[Gt.UNKNOWN=2]="UNKNOWN",Gt[Gt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Gt[Gt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Gt[Gt.NOT_FOUND=5]="NOT_FOUND",Gt[Gt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Gt[Gt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Gt[Gt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Gt[Gt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Gt[Gt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Gt[Gt.ABORTED=10]="ABORTED",Gt[Gt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Gt[Gt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Gt[Gt.INTERNAL=13]="INTERNAL",Gt[Gt.UNAVAILABLE=14]="UNAVAILABLE",Gt[Gt.DATA_LOSS=15]="DATA_LOSS";class dc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[s,u]of r)if(this.equalsFn(s,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(void 0===s)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<s.length;u++)if(this.equalsFn(s[u][0],e))return void(s[u]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return 1===r.length?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){dd(this.inner,(t,r)=>{for(const[s,u]of r)e(s,u)})}isEmpty(){return bN(this.inner)}size(){return this.innerSize}}const mL=new Mn(Pe.comparator);function yi(){return mL}const p1=new Mn(Pe.comparator);function cv(...n){let e=p1;for(const t of n)e=e.insert(t.key,t);return e}function g1(n){let e=p1;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Oo(){return lv()}function m1(){return lv()}function lv(){return new dc(n=>n.toString(),(n,e)=>n.isEqual(e))}const yL=new Mn(Pe.comparator),_L=new Jt(Pe.comparator);function At(...n){let e=_L;for(const t of n)e=e.add(t);return e}const vL=new Jt(wt);function sD(){return vL}class dv{constructor(e,t,r,s,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,hv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new dv(Qe.min(),s,sD(),yi(),At())}}class hv{constructor(e,t,r,s,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hv(r,t,At(),At(),At())}}class oD{constructor(e,t,r,s){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=s}}class y1{constructor(e,t){this.targetId=e,this.Et=t}}class _1{constructor(e,t,r=lr.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class v1{constructor(){this.At=0,this.Rt=E1(),this.bt=lr.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=At(),t=At(),r=At();return this.Rt.forEach((s,u)=>{switch(u){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:je()}}),new hv(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=E1()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class wL{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=yi(),this.qt=w1(),this.Ut=new Jt(wt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,s)=>{this.zt(s)&&t(s)})}Jt(e){const t=e.targetId,r=e.Et.count,s=this.Yt(t);if(s){const u=s.target;if(JI(u))if(0===r){const l=new Pe(u.path);this.Qt(t,l,cn.newNoDocument(l,Qe.min()))}else qe(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((u,l)=>{const g=this.Yt(l);if(g){if(u.current&&JI(g.target)){const _=new Pe(g.target.path);null!==this.Lt.get(_)||this.te(l,_)||this.Qt(l,_,cn.newNoDocument(_,e))}u.St&&(t.set(l,u.Ct()),u.xt())}});let r=At();this.qt.forEach((u,l)=>{let g=!0;l.forEachWhile(_=>{const D=this.Yt(_);return!D||2===D.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.Lt.forEach((u,l)=>l.setReadTime(e));const s=new dv(e,t,this.Ut,this.Lt,r);return this.Lt=yi(),this.qt=w1(),this.Ut=new Jt(wt),s}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const s=this.Wt(e);this.te(e,t)?s.Nt(t,1):s.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new v1,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Jt(wt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||Ie("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new v1),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function w1(){return new Mn(Pe.comparator)}function E1(){return new Mn(Pe.comparator)}const EL={asc:"ASCENDING",desc:"DESCENDING"},IL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},DL={and:"AND",or:"OR"};class CL{constructor(e,t){this.databaseId=e,this.wt=t}}function Hp(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function I1(n,e){return n.wt?e.toBase64():e.toUint8Array()}function bL(n,e){return Hp(n,e.toTimestamp())}function Un(n){return qe(!!n),Qe.fromTimestamp(function(e){const t=ac(e);return new In(t.seconds,t.nanos)}(n))}function eA(n,e){return(t=n,new Ht(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function D1(n){const e=Ht.fromString(n);return qe(N1(e)),e}function fv(n,e){return eA(n.databaseId,e.path)}function ko(n,e){const t=D1(e);if(t.get(1)!==n.databaseId.projectId)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new _e(J.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Pe(b1(t))}function tA(n,e){return eA(n.databaseId,e)}function pv(n){return new Ht(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function b1(n){return qe(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function T1(n,e,t){return{name:fv(n,e),fields:t.value.mapValue.fields}}function A1(n,e){return{documents:[tA(n,e.path)]}}function rA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=tA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=tA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const s=function(_){if(0!==_.length)return R1(Zt.create(_,"and"))}(e.filters);s&&(t.structuredQuery.where=s);const u=function(_){if(0!==_.length)return _.map(D=>{return{field:Gp((b=D).field),direction:xL(b.dir)};var b})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const l=(D=e.limit,n.wt||X_(D)?D:{value:D});var D,g,_;return null!==l&&(t.structuredQuery.limit=l),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function M1(n){let e=function C1(n){const e=D1(n);return 4===e.length?Ht.emptyPath():b1(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){qe(1===r);const b=t.from[0];b.allDescendants?s=b.collectionId:e=e.child(b.collectionId)}let u=[];t.where&&(u=function(b){const A=x1(b);return A instanceof Zt&&zS(A)?A.getFilters():[A]}(t.where));let l=[];t.orderBy&&(l=t.orderBy.map(b=>{return new Fp(zp((A=b).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(A.direction));var A}));let g=null;t.limit&&(g=function(b){let A;return A="object"==typeof b?b.value:b,X_(A)?null:A}(t.limit));let _=null;var b;t.startAt&&(_=new lc((b=t.startAt).values||[],!!b.before));let D=null;return t.endAt&&(D=function(b){return new lc(b.values||[],!b.before)}(t.endAt)),function qN(n,e,t,r,s,u,l,g){return new Na(n,e,t,r,s,u,l,g)}(e,s,l,u,g,"F",_,D)}function x1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=zp(e.unaryFilter.field);return Bt.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=zp(e.unaryFilter.field);return Bt.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=zp(e.unaryFilter.field);return Bt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=zp(e.unaryFilter.field);return Bt.create(u,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):void 0!==n.fieldFilter?Bt.create(zp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Zt.create(e.compositeFilter.filters.map(t=>x1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return je()}}(e.compositeFilter.op))}(n):je();var e}function xL(n){return EL[n]}function RL(n){return IL[n]}function NL(n){return DL[n]}function Gp(n){return{fieldPath:n.canonicalString()}}function zp(n){return Vn.fromServerFormat(n.fieldPath)}function R1(n){return n instanceof Bt?function(e){if("=="===e.op){if(xN(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NAN"}};if(MN(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(xN(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NOT_NAN"}};if(MN(e.value))return{unaryFilter:{field:Gp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Gp(e.field),op:RL(e.op),value:e.value}}}(n):n instanceof Zt?function(e){const t=e.getFilters().map(r=>R1(r));return 1===t.length?t[0]:{compositeFilter:{op:NL(e.op),filters:t}}}(n):je()}function OL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function N1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class sA{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const u=this.mutations[s];u.key.isEqual(e.key)&&fL(u,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=uv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=uv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=m1();return this.mutations.forEach(s=>{const u=e.get(s.key),l=u.overlayedDocument;let g=this.applyToLocalView(l,u.mutatedFields);g=t.has(s.key)?null:g;const _=a1(l,g);null!==_&&r.set(s.key,_),l.isValidDocument()||l.convertToNoDocument(Qe.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),At())}isEqual(e){return this.batchId===e.batchId&&Op(this.mutations,e.mutations,(t,r)=>u1(t,r))&&Op(this.baseMutations,e.baseMutations,(t,r)=>u1(t,r))}}class oA{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){qe(e.mutations.length===r.length);let s=yL;const u=e.mutations;for(let l=0;l<u.length;l++)s=s.insert(u[l].key,r[l].version);return new oA(e,t,r,s)}}class aA{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class hc{constructor(e,t,r,s,u=Qe.min(),l=Qe.min(),g=lr.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=g}withSequenceNumber(e){return new hc(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new hc(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class U1{constructor(e){this.ie=e}}function uA(n){const e=M1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?tD(e,e.limit,"L"):e}class Id{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(An(e.integerValue));else if("doubleValue"in e){const r=An(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),ev(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(hd(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?RN(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):je()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const s of Object.keys(r))this.de(s,t),this.ce(r[s],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const s of r)this.ce(s,t)}me(e,t){this.he(t,37),Pe.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Id.Ie=new Id;class oV{constructor(){this.Je=new pA}addToCollectionParentIndex(e,t){return this.Je.add(t),Q.resolve()}getCollectionParents(e,t){return Q.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return Q.resolve()}deleteFieldIndex(e,t){return Q.resolve()}getDocumentsMatchingTarget(e,t){return Q.resolve(null)}getIndexType(e,t){return Q.resolve(0)}getFieldIndexes(e,t){return Q.resolve([])}getNextCollectionGroupToUpdate(e){return Q.resolve(null)}getMinOffset(e,t){return Q.resolve(Fi.min())}getMinOffsetFromCollectionGroup(e,t){return Q.resolve(Fi.min())}updateCollectionGroup(e,t,r){return Q.resolve()}updateIndexEntries(e,t){return Q.resolve()}}class pA{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Jt(Ht.comparator),u=!s.has(r);return this.index[t]=s.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Jt(Ht.comparator)).toArray()}}new Uint8Array(0);class _i{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new _i(e,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}_i.DEFAULT_COLLECTION_PERCENTILE=10,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_i.DEFAULT=new _i(41943040,_i.DEFAULT_COLLECTION_PERCENTILE,_i.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_i.DISABLED=new _i(-1,0,0);class Cd{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Cd(0)}static vn(){return new Cd(-1)}}class fV{constructor(){this.changes=new dc(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,cn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?Q.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class mV{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class cO{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(null!==r&&uv(r.mutation,s,mi.empty(),In.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,At()).next(()=>r))}getLocalViewOfDocuments(e,t,r=At()){const s=Oo();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(u=>{let l=cv();return u.forEach((g,_)=>{l=l.insert(g,_.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=Oo();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,At()))}populateOverlays(e,t,r){const s=[];return r.forEach(u=>{t.has(u)||s.push(u)}),this.documentOverlayCache.getOverlays(e,s).next(u=>{u.forEach((l,g)=>{t.set(l,g)})})}computeViews(e,t,r,s){let u=yi();const l=lv(),g=lv();return t.forEach((_,D)=>{const b=r.get(D.key);s.has(D.key)&&(void 0===b||b.mutation instanceof Oa)?u=u.insert(D.key,D):void 0!==b?(l.set(D.key,b.mutation.getFieldMask()),uv(b.mutation,D,b.mutation.getFieldMask(),In.now())):l.set(D.key,mi.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((D,b)=>l.set(D,b)),t.forEach((D,b)=>{var A;return g.set(D,new mV(b,null!==(A=l.get(D))&&void 0!==A?A:null))}),g))}recalculateAndSaveOverlays(e,t){const r=lv();let s=new Mn((l,g)=>l-g),u=At();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const g of l)g.keys().forEach(_=>{const D=t.get(_);if(null===D)return;let b=r.get(_)||mi.empty();b=g.applyToLocalView(D,b),r.set(_,b);const A=(s.get(g.batchId)||At()).add(_);s=s.insert(g.batchId,A)})}).next(()=>{const l=[],g=s.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),D=_.key,b=_.value,A=m1();b.forEach(P=>{if(!u.has(P)){const G=a1(t.get(P),r.get(P));null!==G&&A.set(P,G),u=u.add(P)}}),l.push(this.documentOverlayCache.saveOverlays(e,D,A))}return Q.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Pe.isDocumentKey((s=t).path)&&null===s.collectionGroup&&0===s.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function ZS(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var s}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(u=>{const l=s-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-u.size):Q.resolve(Oo());let g=-1,_=u;return l.next(D=>Q.forEach(D,(b,A)=>(g<A.largestBatchId&&(g=A.largestBatchId),u.get(b)?Q.resolve():this.remoteDocumentCache.getEntry(e,b).next(P=>{_=_.insert(b,P)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,_,D,At())).next(b=>({batchId:g,changes:g1(b)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Pe(t)).next(r=>{let s=cv();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const s=t.collectionGroup;let u=cv();return this.indexManager.getCollectionParents(e,s).next(l=>Q.forEach(l,g=>{const _=(D=t,b=g.child(s),new Na(b,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,b;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(D=>{D.forEach((b,A)=>{u=u.insert(b,A)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let s;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(s=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((g,_)=>{const D=_.getKey();null===s.get(D)&&(s=s.insert(D,cn.newInvalidDocument(D)))});let l=cv();return s.forEach((g,_)=>{const D=u.get(g);void 0!==D&&uv(D.mutation,_,mi.empty(),In.now()),JS(t,_)&&(l=l.insert(g,_))}),l})}}class yV{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return Q.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Un(r.createTime)}),Q.resolve()}getNamedQuery(e,t){return Q.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:uA(r.bundledQuery),readTime:Un(r.readTime)}),Q.resolve();var r}}class _V{constructor(){this.overlays=new Mn(Pe.comparator),this.es=new Map}getOverlay(e,t){return Q.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Oo();return Q.forEach(t,s=>this.getOverlay(e,s).next(u=>{null!==u&&r.set(s,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,u)=>{this.oe(e,t,u)}),Q.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.es.get(r);return void 0!==s&&(s.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),Q.resolve()}getOverlaysForCollection(e,t,r){const s=Oo(),u=t.length+1,l=new Pe(t.child("")),g=this.overlays.getIteratorFrom(l);for(;g.hasNext();){const _=g.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&_.largestBatchId>r&&s.set(_.getKey(),_)}return Q.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let u=new Mn((D,b)=>D-b);const l=this.overlays.getIterator();for(;l.hasNext();){const D=l.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let b=u.get(D.largestBatchId);null===b&&(b=Oo(),u=u.insert(D.largestBatchId,b)),b.set(D.getKey(),D)}}const g=Oo(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,b)=>g.set(D,b)),!(g.size()>=s)););return Q.resolve(g)}oe(e,t,r){const s=this.overlays.get(r.key);if(null!==s){const l=this.es.get(s.largestBatchId).delete(r.key);this.es.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new aA(t,r));let u=this.es.get(t);void 0===u&&(u=At(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class gA{constructor(){this.ns=new Jt(Er.ss),this.rs=new Jt(Er.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new Er(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new Er(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Pe(new Ht([])),r=new Er(t,e),s=new Er(t,e+1),u=[];return this.rs.forEachInRange([r,s],l=>{this.cs(l),u.push(l.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Pe(new Ht([])),r=new Er(t,e),s=new Er(t,e+1);let u=At();return this.rs.forEachInRange([r,s],l=>{u=u.add(l.key)}),u}containsKey(e){const t=new Er(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Er{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Pe.comparator(e.key,t.key)||wt(e._s,t._s)}static os(e,t){return wt(e._s,t._s)||Pe.comparator(e.key,t.key)}}class vV{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Jt(Er.ss)}checkEmpty(e){return Q.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,s){const u=this.ws;this.ws++;const l=new sA(u,t,r,s);this.mutationQueue.push(l);for(const g of s)this.gs=this.gs.add(new Er(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return Q.resolve(l)}lookupMutationBatch(e,t){return Q.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const s=this.ps(t+1),u=s<0?0:s;return Q.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return Q.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return Q.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Er(t,0),s=new Er(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,s],l=>{const g=this.ys(l._s);u.push(g)}),Q.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Jt(wt);return t.forEach(s=>{const u=new Er(s,0),l=new Er(s,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,l],g=>{r=r.add(g._s)})}),Q.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let u=r;Pe.isDocumentKey(u)||(u=u.child(""));const l=new Er(new Pe(u),0);let g=new Jt(wt);return this.gs.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===s&&(g=g.add(_._s)),!0)},l),Q.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const s=this.ys(r);null!==s&&t.push(s)}),t}removeMutationBatch(e,t){qe(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return Q.forEach(t.mutations,s=>{const u=new Er(s.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new Er(t,0),s=this.gs.firstAfterOrEqual(r);return Q.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return Q.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class wV{constructor(e){this.Es=e,this.docs=new Mn(Pe.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),u=s?s.size:0,l=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return Q.resolve(r?r.document.mutableCopy():cn.newInvalidDocument(t))}getEntries(e,t){let r=yi();return t.forEach(s=>{const u=this.docs.get(s);r=r.insert(s,u?u.document.mutableCopy():cn.newInvalidDocument(s))}),Q.resolve(r)}getAllFromCollection(e,t,r){let s=yi();const u=new Pe(t.child("")),l=this.docs.getIteratorFrom(u);for(;l.hasNext();){const{key:g,value:{document:_}}=l.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||VS(EN(_),r)<=0||(s=s.insert(_.key,_.mutableCopy()))}return Q.resolve(s)}getAllFromCollectionGroup(e,t,r,s){je()}As(e,t){return Q.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new EV(this)}getSize(e){return Q.resolve(this.size)}}class EV extends fV{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Yn.addEntry(e,s)):this.Yn.removeEntry(r)}),Q.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class IV{constructor(e){this.persistence=e,this.Rs=new dc(t=>gd(t),sv),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.bs=0,this.Ps=new gA,this.targetCount=0,this.vs=Cd.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,s)=>t(s)),Q.resolve()}getLastRemoteSnapshotVersion(e){return Q.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return Q.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),Q.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),Q.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Cd(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,Q.resolve()}updateTargetData(e,t){return this.Dn(t),Q.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,Q.resolve()}removeTargets(e,t,r){let s=0;const u=[];return this.Rs.forEach((l,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(l),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),s++)}),Q.waitFor(u).next(()=>s)}getTargetCount(e){return Q.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return Q.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),Q.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const s=this.persistence.referenceDelegate,u=[];return s&&t.forEach(l=>{u.push(s.markPotentiallyOrphaned(e,l))}),Q.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),Q.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return Q.resolve(r)}containsKey(e,t){return Q.resolve(this.Ps.containsKey(t))}}class lO{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Li(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new IV(this),this.indexManager=new oV,this.remoteDocumentCache=new wV(r=>this.referenceDelegate.xs(r)),this.yt=new U1(t),this.Ns=new yV(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new _V,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new vV(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){Ie("MemoryPersistence","Starting transaction:",e);const s=new DV(this.Ss.next());return this.referenceDelegate.ks(),r(s).next(u=>this.referenceDelegate.Os(s).next(()=>u)).toPromise().then(u=>(s.raiseOnCommittedEvent(),u))}Ms(e,t){return Q.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class DV extends zF{constructor(e){super(),this.currentSequenceNumber=e}}class mD{constructor(e){this.persistence=e,this.Fs=new gA,this.$s=null}static Bs(e){return new mD(e)}get Ls(){if(this.$s)return this.$s;throw je()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),Q.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),Q.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),Q.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(s=>this.Ls.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Q.forEach(this.Ls,r=>{const s=Pe.fromPath(r);return this.qs(e,s).next(u=>{u||t.removeEntry(s,Qe.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return Q.or([()=>Q.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class vA{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=s}static Ci(e,t){let r=At(),s=At();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:s=s.add(u.doc.key)}return new vA(e,t.fromCache,r,s)}}class hO{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,s){return this.ki(e,t).next(u=>u||this.Oi(e,t,s,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(KN(t))return Q.resolve(null);let r=ui(t);return this.indexManager.getIndexType(e,r).next(s=>0===s?null:(null!==t.limit&&1===s&&(t=tD(t,null,"F"),r=ui(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const l=At(...u);return this.Ni.getDocuments(e,l).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const D=this.Fi(t,g);return this.$i(t,D,l,_.readTime)?this.ki(e,tD(t,null,"F")):this.Bi(e,D,t,_)}))})))}Oi(e,t,r,s){return KN(t)||s.isEqual(Qe.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const l=this.Fi(t,u);return this.$i(t,l,r,s)?this.Mi(e,t):(PS()<=Ni.in.DEBUG&&Ie("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),QS(t)),this.Bi(e,l,t,function wN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=Qe.fromTimestamp(1e9===r?new In(t+1,0):new In(t,r));return new Fi(s,Pe.empty(),e)}(s,-1)))})}Fi(e,t){let r=new Jt(QN(e));return t.forEach((s,u)=>{JS(e,u)&&(r=r.add(u))}),r}$i(e,t,r,s){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(s)>0)}Mi(e,t){return PS()<=Ni.in.DEBUG&&Ie("QueryEngine","Using full collection scan to execute query:",QS(t)),this.Ni.getDocumentsMatchingQuery(e,t,Fi.min())}Bi(e,t,r,s){return this.Ni.getDocumentsMatchingQuery(e,r,s).next(u=>(t.forEach(l=>{u=u.insert(l.key,l)}),u))}}class bV{constructor(e,t,r,s){this.persistence=e,this.Li=t,this.yt=s,this.qi=new Mn(wt),this.Ui=new dc(u=>gd(u),sv),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new cO(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function pO(n,e){return wA.apply(this,arguments)}function wA(){return wA=(0,re.Z)(function*(n,e){const t=Fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(u=>(s=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const l=[],g=[];let _=At();for(const D of s){l.push(D.batchId);for(const b of D.mutations)_=_.add(b.key)}for(const D of u){g.push(D.batchId);for(const b of D.mutations)_=_.add(b.key)}return t.localDocuments.getDocuments(r,_).next(D=>({ji:D,removedBatchIds:l,addedBatchIds:g}))})})}),wA.apply(this,arguments)}function TV(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(l,g,_,D){const b=_.batch,A=b.keys();let P=Q.resolve();return A.forEach(G=>{P=P.next(()=>D.getEntry(g,G)).next(te=>{const Ee=_.docVersions.get(G);qe(null!==Ee),te.version.compareTo(Ee)<0&&(b.applyToRemoteDocument(te,_),te.isValidDocument()&&(te.setReadTime(_.commitVersion),D.addEntry(te)))})}),P.next(()=>l.mutationQueue.removeMutationBatch(g,b))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(l){let g=At();for(let _=0;_<l.mutationResults.length;++_)l.mutationResults[_].transformResults.length>0&&(g=g.add(l.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function gO(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function SV(n,e){const t=Fe(n),r=e.snapshotVersion;let s=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const l=t.Gi.newChangeBuffer({trackRemovals:!0});s=t.qi;const g=[];e.targetChanges.forEach((b,A)=>{const P=s.get(A);if(!P)return;g.push(t.Cs.removeMatchingKeys(u,b.removedDocuments,A).next(()=>t.Cs.addMatchingKeys(u,b.addedDocuments,A)));let G=P.withSequenceNumber(u.currentSequenceNumber);var te,Ee,Me;e.targetMismatches.has(A)?G=G.withResumeToken(lr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):b.resumeToken.approximateByteSize()>0&&(G=G.withResumeToken(b.resumeToken,r)),s=s.insert(A,G),Ee=G,Me=b,(0===(te=P).resumeToken.approximateByteSize()||Ee.snapshotVersion.toMicroseconds()-te.snapshotVersion.toMicroseconds()>=3e8||Me.addedDocuments.size+Me.modifiedDocuments.size+Me.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(u,G))});let _=yi(),D=At();if(e.documentUpdates.forEach(b=>{e.resolvedLimboDocuments.has(b)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,b))}),g.push(function mO(n,e,t){let r=At(),s=At();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let l=yi();return t.forEach((g,_)=>{const D=u.get(g);_.isFoundDocument()!==D.isFoundDocument()&&(s=s.add(g)),_.isNoDocument()&&_.version.isEqual(Qe.min())?(e.removeEntry(g,_.readTime),l=l.insert(g,_)):!D.isValidDocument()||_.version.compareTo(D.version)>0||0===_.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(_),l=l.insert(g,_)):Ie("LocalStore","Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",_.version)}),{Wi:l,zi:s}})}(u,l,e.documentUpdates).next(b=>{_=b.Wi,D=b.zi})),!r.isEqual(Qe.min())){const b=t.Cs.getLastRemoteSnapshotVersion(u).next(A=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(b)}return Q.waitFor(g).next(()=>l.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,D)).next(()=>_)}).then(u=>(t.qi=s,u))}function AV(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Kp(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Cs.getTargetData(r,e).next(u=>u?(s=u,Q.resolve(s)):t.Cs.allocateTargetId(r).next(l=>(s=new hc(e,l,0,r.currentSequenceNumber),t.Cs.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.qi.get(r.targetId);return(null===s||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function Zp(n,e,t){return EA.apply(this,arguments)}function EA(){return EA=(0,re.Z)(function*(n,e,t){const r=Fe(n),s=r.qi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,l=>r.persistence.referenceDelegate.removeTarget(l,s)))}catch(l){if(!oc(l))throw l;Ie("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.qi=r.qi.remove(e),r.Ui.delete(s.target)}),EA.apply(this,arguments)}function _D(n,e,t){const r=Fe(n);let s=Qe.min(),u=At();return r.persistence.runTransaction("Execute query","readonly",l=>function(g,_,D){const b=Fe(g),A=b.Ui.get(D);return void 0!==A?Q.resolve(b.qi.get(A)):b.Cs.getTargetData(_,D)}(r,l,ui(e)).next(g=>{if(g)return s=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(l,g.targetId).next(_=>{u=_})}).next(()=>r.Li.getDocumentsMatchingQuery(l,e,t?s:Qe.min(),t?u:At())).next(g=>(function vO(n,e,t){let r=n.Ki.get(e)||Qe.min();t.forEach((s,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}(r,function YN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,Hi:u})))}class TA{constructor(){this.activeTargetIds=sD()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class IO{constructor(){this.Lr=new TA,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new TA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class RV{Ur(e){}shutdown(){}}class DO{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){Ie("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){Ie("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const NV={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class OV{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class kV extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,s,u){const l=this.ho(e,t);Ie("RestConnection","Sending: ",l,r);const g={};return this.lo(g,s,u),this.fo(e,l,g,r).then(_=>(Ie("RestConnection","Received: ",_),_),_=>{throw Np("RestConnection",`${e} failed with error: `,_,"url: ",l,"request:",r),_})}_o(e,t,r,s,u,l){return this.ao(e,t,r,s,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Rp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,u)=>e[u]=s),r&&r.headers.forEach((s,u)=>e[u]=s)}ho(e,t){return`${this.oo}/v1/${t}:${NV[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,s){return new Promise((u,l)=>{const g=new kF;g.setWithCredentials(!0),g.listenOnce(RF.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case kS.NO_ERROR:const D=g.getResponseJson();Ie("Connection","XHR received:",JSON.stringify(D)),u(D);break;case kS.TIMEOUT:Ie("Connection",'RPC "'+e+'" timed out'),l(new _e(J.DEADLINE_EXCEEDED,"Request time out"));break;case kS.HTTP_ERROR:const b=g.getStatus();if(Ie("Connection",'RPC "'+e+'" failed with status:',b,"response text:",g.getResponseText()),b>0){let A=g.getResponseJson();Array.isArray(A)&&(A=A[0]);const P=A?.error;if(P&&P.status&&P.message){const G=function(te){const Ee=te.toLowerCase().replace(/_/g,"-");return Object.values(J).indexOf(Ee)>=0?Ee:J.UNKNOWN}(P.status);l(new _e(G,P.message))}else l(new _e(J.UNKNOWN,"Server responded with status "+g.getStatus()))}else l(new _e(J.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{Ie("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(s);g.send(t,"POST",_,r,15)})}wo(e,t,r){const s=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=MF(),l=xF(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new OF({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const _=s.join("");Ie("Connection","Creating WebChannel: "+_,g);const D=u.createWebChannel(_,g);let b=!1,A=!1;const P=new OV({Hr:te=>{A?Ie("Connection","Not sending because WebChannel is closed:",te):(b||(Ie("Connection","Opening WebChannel transport."),D.open(),b=!0),Ie("Connection","WebChannel sending:",te),D.send(te))},Jr:()=>D.close()}),G=(te,Ee,Me)=>{te.listen(Ee,at=>{try{Me(at)}catch(ft){setTimeout(()=>{throw ft},0)}})};return G(D,zI.EventType.OPEN,()=>{A||Ie("Connection","WebChannel transport opened.")}),G(D,zI.EventType.CLOSE,()=>{A||(A=!0,Ie("Connection","WebChannel transport closed"),P.io())}),G(D,zI.EventType.ERROR,te=>{A||(A=!0,Np("Connection","WebChannel transport errored:",te),P.io(new _e(J.UNAVAILABLE,"The operation could not be completed")))}),G(D,zI.EventType.MESSAGE,te=>{var Ee;if(!A){const Me=te.data[0];qe(!!Me);const ft=Me.error||(null===(Ee=Me[0])||void 0===Ee?void 0:Ee.error);if(ft){Ie("Connection","WebChannel received error:",ft);const bt=ft.status;let Mt=function(kt){const jr=Yn[kt];if(void 0!==jr)return f1(jr)}(bt),xt=ft.message;void 0===Mt&&(Mt=J.INTERNAL,xt="Unknown error status: "+bt+" with message "+ft.message),A=!0,P.io(new _e(Mt,xt)),D.close()}else Ie("Connection","WebChannel received:",Me),P.ro(Me)}}),G(l,NF.STAT_EVENT,te=>{te.stat===pN.PROXY?Ie("Connection","Detected buffering proxy"):te.stat===pN.NOPROXY&&Ie("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function ED(){return typeof document<"u"?document:null}function Cv(n){return new CL(n,!0)}class AA{constructor(e,t,r=1e3,s=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=s,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),s=Math.max(0,t-r);s>0&&Ie("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,s,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class bO{constructor(e,t,r,s,u,l,g,_){this.Hs=e,this.vo=r,this.Vo=s,this.connection=u,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new AA(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,re.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,re.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,re.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===J.RESOURCE_EXHAUSTED?(Ln(t.toString()),Ln("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===J.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.So===t&&this.Go(r,s)},r=>{e(()=>{const s=new _e(J.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(s)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(s=>{r(()=>this.Qo(s))}),this.stream.onMessage(s=>{r(()=>this.onMessage(s))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,re.Z)(function*(){e.state=0,e.start()}))}Qo(e){return Ie("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(Ie("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class PV extends bO{constructor(e,t,r,s,u,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.yt=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function SL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:je(),s=e.targetChange.targetIds||[],u=function(_,D){return _.wt?(qe(void 0===D||"string"==typeof D),lr.fromBase64String(D||"")):(qe(void 0===D||D instanceof Uint8Array),lr.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,g=l&&function(_){const D=void 0===_.code?J.UNKNOWN:f1(_.code);return new _e(D,_.message||"")}(l);t=new _1(r,s,u,g||null)}else if("documentChange"in e){const r=e.documentChange,s=ko(n,r.document.name),u=Un(r.document.updateTime),l=r.document.createTime?Un(r.document.createTime):Qe.min(),g=new Br({mapValue:{fields:r.document.fields}}),_=cn.newFoundDocument(s,u,l,g);t=new oD(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,s=ko(n,r.document),u=r.readTime?Un(r.readTime):Qe.min(),l=cn.newNoDocument(s,u);t=new oD([],r.removedTargetIds||[],l.key,l)}else if("documentRemove"in e){const r=e.documentRemove,s=ko(n,r.document);t=new oD([],r.removedTargetIds||[],s,null)}else{if(!("filter"in e))return je();{const r=e.filter,u=new gL(r.count||0);t=new y1(r.targetId,u)}}var _;return t}(this.yt,e),r=function(s){if(!("targetChange"in s))return Qe.min();const u=s.targetChange;return u.targetIds&&u.targetIds.length?Qe.min():u.readTime?Un(u.readTime):Qe.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=pv(this.yt),t.addTarget=function(s,u){let l;const g=u.target;return l=JI(g)?{documents:A1(s,g)}:{query:rA(s,g)},l.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?l.resumeToken=I1(s,u.resumeToken):u.snapshotVersion.compareTo(Qe.min())>0&&(l.readTime=Hp(s,u.snapshotVersion.toTimestamp())),l}(this.yt,e);const r=function ML(n,e){const t=function(r,s){switch(s){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=pv(this.yt),t.removeTarget=e,this.Bo(t)}}class FV extends bO{constructor(e,t,r,s,u,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(qe(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function AL(n,e){return n&&n.length>0?(qe(void 0!==e),n.map(t=>function(r,s){let u=Un(r.updateTime?r.updateTime:s);return u.isEqual(Qe.min())&&(u=Un(s)),new hL(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Un(e.commitTime);return this.listener.Zo(r,t)}return qe(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=pv(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function gv(n,e){let t;if(e instanceof $p)t={update:T1(n,e.key,e.value)};else if(e instanceof jp)t={delete:fv(n,e.key)};else if(e instanceof Oa)t={update:T1(n,e.key,e.data),updateMask:OL(e.fieldMask)};else{if(!(e instanceof XS))return je();t={verify:fv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,u){const l=u.transform;if(l instanceof Up)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(l instanceof yd)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:l.elements}};if(l instanceof _d)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:l.elements}};if(l instanceof Bp)return{fieldPath:u.field.canonicalString(),increment:l.gt};throw je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(s=e.precondition).updateTime?{updateTime:bL(n,s.updateTime)}:void 0!==s.exists?{exists:s.exists}:je()),t;var s}(this.yt,r))};this.Bo(t)}}class LV extends class{}{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=s,this.nu=!1}su(){if(this.nu)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,u])=>this.connection.ao(e,t,r,s,u)).catch(s=>{throw"FirebaseError"===s.name?(s.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new _e(J.UNKNOWN,s.toString())})}_o(e,t,r,s){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,l])=>this.connection._o(e,t,r,u,l,s)).catch(u=>{throw"FirebaseError"===u.name?(u.code===J.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new _e(J.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class UV{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Ln(t),this.ou=!1):Ie("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class BV{constructor(e,t,r,s,u){var l=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(g=>{r.enqueueAndForget((0,re.Z)(function*(){var _;ka(l)&&(Ie("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,re.Z)(function*(D){const b=Fe(D);b._u.add(4),yield Yp(b),b.gu.set("Unknown"),b._u.delete(4),yield bv(b)}),function(D){return _.apply(this,arguments)})(l))}))}),this.gu=new UV(r,s)}}function bv(n){return xA.apply(this,arguments)}function xA(){return xA=(0,re.Z)(function*(n){if(ka(n))for(const e of n.wu)yield e(!0)}),xA.apply(this,arguments)}function Yp(n){return RA.apply(this,arguments)}function RA(){return RA=(0,re.Z)(function*(n){for(const e of n.wu)yield e(!1)}),RA.apply(this,arguments)}function ID(n,e){const t=Fe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),kA(t)?OA(t):Jp(t).ko()&&NA(t,e))}function Tv(n,e){const t=Fe(n),r=Jp(t);t.du.delete(e),r.ko()&&TO(t,e),0===t.du.size&&(r.ko()?r.Fo():ka(t)&&t.gu.set("Unknown"))}function NA(n,e){n.yu.Ot(e.targetId),Jp(n).zo(e)}function TO(n,e){n.yu.Ot(e),Jp(n).Ho(e)}function OA(n){n.yu=new wL({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),Jp(n).start(),n.gu.uu()}function kA(n){return ka(n)&&!Jp(n).No()&&n.du.size>0}function ka(n){return 0===Fe(n)._u.size}function SO(n){n.yu=void 0}function $V(n){return PA.apply(this,arguments)}function PA(){return PA=(0,re.Z)(function*(n){n.du.forEach((e,t)=>{NA(n,e)})}),PA.apply(this,arguments)}function jV(n,e){return FA.apply(this,arguments)}function FA(){return FA=(0,re.Z)(function*(n,e){SO(n),kA(n)?(n.gu.hu(e),OA(n)):n.gu.set("Unknown")}),FA.apply(this,arguments)}function HV(n,e,t){return LA.apply(this,arguments)}function LA(){return LA=(0,re.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof _1&&2===e.state&&e.cause)try{yield(r=(0,re.Z)(function*(s,u){const l=u.cause;for(const g of u.targetIds)s.du.has(g)&&(yield s.remoteSyncer.rejectListen(g,l),s.du.delete(g),s.yu.removeTarget(g))}),function(s,u){return r.apply(this,arguments)})(n,e)}catch(r){Ie("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield DD(n,r)}else if(e instanceof oD?n.yu.Kt(e):e instanceof y1?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Qe.min()))try{const r=yield gO(n.localStore);t.compareTo(r)>=0&&(yield function(s,u){const l=s.yu.Zt(u);return l.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const D=s.du.get(_);D&&s.du.set(_,D.withResumeToken(g.resumeToken,u))}}),l.targetMismatches.forEach(g=>{const _=s.du.get(g);if(!_)return;s.du.set(g,_.withResumeToken(lr.EMPTY_BYTE_STRING,_.snapshotVersion)),TO(s,g);const D=new hc(_.target,g,1,_.sequenceNumber);NA(s,D)}),s.remoteSyncer.applyRemoteEvent(l)}(n,t))}catch(r){Ie("RemoteStore","Failed to raise snapshot:",r),yield DD(n,r)}var r}),LA.apply(this,arguments)}function DD(n,e,t){return VA.apply(this,arguments)}function VA(){return VA=(0,re.Z)(function*(n,e,t){if(!oc(e))throw e;n._u.add(1),yield Yp(n),n.gu.set("Offline"),t||(t=()=>gO(n.localStore)),n.asyncQueue.enqueueRetryable((0,re.Z)(function*(){Ie("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield bv(n)}))}),VA.apply(this,arguments)}function AO(n,e){return e().catch(t=>DD(n,t,e))}function Qp(n){return UA.apply(this,arguments)}function UA(){return UA=(0,re.Z)(function*(n){const e=Fe(n),t=mc(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;GV(e);)try{const s=yield AV(e.localStore,r);if(null===s){0===e.fu.length&&t.Fo();break}r=s.batchId,zV(e,s)}catch(s){yield DD(e,s)}MO(e)&&xO(e)}),UA.apply(this,arguments)}function GV(n){return ka(n)&&n.fu.length<10}function zV(n,e){n.fu.push(e);const t=mc(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function MO(n){return ka(n)&&!mc(n).No()&&n.fu.length>0}function xO(n){mc(n).start()}function WV(n){return BA.apply(this,arguments)}function BA(){return BA=(0,re.Z)(function*(n){mc(n).eu()}),BA.apply(this,arguments)}function qV(n){return $A.apply(this,arguments)}function $A(){return $A=(0,re.Z)(function*(n){const e=mc(n);for(const t of n.fu)e.Xo(t.mutations)}),$A.apply(this,arguments)}function KV(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,re.Z)(function*(n,e,t){const r=n.fu.shift(),s=oA.from(r,e,t);yield AO(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),yield Qp(n)}),jA.apply(this,arguments)}function ZV(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,re.Z)(function*(n,e){var t;e&&mc(n).Yo&&(yield(t=(0,re.Z)(function*(r,s){if(h1(u=s.code)&&u!==J.ABORTED){const l=r.fu.shift();mc(r).Mo(),yield AO(r,()=>r.remoteSyncer.rejectFailedWrite(l.batchId,s)),yield Qp(r)}var u}),function(r,s){return t.apply(this,arguments)})(n,e)),MO(n)&&xO(n)}),HA.apply(this,arguments)}function RO(n,e){return GA.apply(this,arguments)}function GA(){return GA=(0,re.Z)(function*(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),Ie("RemoteStore","RemoteStore received new credentials");const r=ka(t);t._u.add(3),yield Yp(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield bv(t)}),GA.apply(this,arguments)}function WA(){return WA=(0,re.Z)(function*(n,e){const t=Fe(n);e?(t._u.delete(2),yield bv(t)):e||(t._u.add(2),yield Yp(t),t.gu.set("Unknown"))}),WA.apply(this,arguments)}function Jp(n){return n.pu||(n.pu=function(e,t,r){const s=Fe(e);return s.su(),new PV(t,s.connection,s.authCredentials,s.appCheckCredentials,s.yt,r)}(n.datastore,n.asyncQueue,{Yr:$V.bind(null,n),Zr:jV.bind(null,n),Wo:HV.bind(null,n)}),n.wu.push(function(){var e=(0,re.Z)(function*(t){t?(n.pu.Mo(),kA(n)?OA(n):n.gu.set("Unknown")):(yield n.pu.stop(),SO(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function mc(n){return n.Iu||(n.Iu=function(e,t,r){const s=Fe(e);return s.su(),new FV(t,s.connection,s.authCredentials,s.appCheckCredentials,s.yt,r)}(n.datastore,n.asyncQueue,{Yr:WV.bind(null,n),Zr:ZV.bind(null,n),tu:qV.bind(null,n),Zo:KV.bind(null,n)}),n.wu.push(function(){var e=(0,re.Z)(function*(t){t?(n.Iu.Mo(),yield Qp(n)):(yield n.Iu.stop(),n.fu.length>0&&(Ie("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class qA{constructor(e,t,r,s,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=u,this.deferred=new cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,s,u){const l=Date.now()+r,g=new qA(e,t,l,s,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new _e(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Xp(n,e){if(Ln("AsyncQueue",`${e}: ${n}`),oc(n))return new _e(J.UNAVAILABLE,`${e}: ${n}`);throw n}class eg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Pe.comparator(t.key,r.key):(t,r)=>Pe.comparator(t.key,r.key),this.keyedMap=cv(),this.sortedSet=new Mn(this.comparator)}static emptySet(e){return new eg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof eg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,u=r.getNext().key;if(!s.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new eg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class NO{constructor(){this.Tu=new Mn(Pe.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):je():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class tg{constructor(e,t,r,s,u,l,g,_,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=u,this.fromCache=l,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,s,u){const l=[];return t.forEach(g=>{l.push({type:0,doc:g})}),new tg(e,t,eg.emptySet(t),l,r,s,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&ov(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}class YV{constructor(){this.Au=void 0,this.listeners=[]}}class QV{constructor(){this.queries=new dc(e=>ZN(e),ov),this.onlineState="Unknown",this.Ru=new Set}}function ZA(){return ZA=(0,re.Z)(function*(n,e){const t=Fe(n),r=e.query;let s=!1,u=t.queries.get(r);if(u||(s=!0,u=new YV),s)try{u.Au=yield t.onListen(r)}catch(l){const g=Xp(l,`Initialization of query '${QS(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&JA(t)}),ZA.apply(this,arguments)}function QA(){return QA=(0,re.Z)(function*(n,e){const t=Fe(n),r=e.query;let s=!1;const u=t.queries.get(r);if(u){const l=u.listeners.indexOf(e);l>=0&&(u.listeners.splice(l,1),s=0===u.listeners.length)}if(s)return t.queries.delete(r),t.onUnlisten(r)}),QA.apply(this,arguments)}function JV(n,e){const t=Fe(n);let r=!1;for(const s of e){const l=t.queries.get(s.query);if(l){for(const g of l.listeners)g.Pu(s)&&(r=!0);l.Au=s}}r&&JA(t)}function XV(n,e,t){const r=Fe(n),s=r.queries.get(e);if(s)for(const u of s.listeners)u.onError(t);r.queries.delete(e)}function JA(n){n.Ru.forEach(e=>{e.next()})}class XA{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)3!==s.type&&r.push(s);e=new tg(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=tg.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class PO{constructor(e){this.key=e}}class FO{constructor(e){this.key=e}}class LO{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=At(),this.mutatedKeys=At(),this.Gu=QN(e),this.Qu=new eg(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new NO,s=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,l=s,g=!1;const _="F"===this.query.limitType&&s.size===this.query.limit?s.last():null,D="L"===this.query.limitType&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((b,A)=>{const P=s.get(b),G=JS(this.query,A)?A:null,te=!!P&&this.mutatedKeys.has(P.key),Ee=!!G&&(G.hasLocalMutations||this.mutatedKeys.has(G.key)&&G.hasCommittedMutations);let Me=!1;P&&G?P.data.isEqual(G.data)?te!==Ee&&(r.track({type:3,doc:G}),Me=!0):this.Hu(P,G)||(r.track({type:2,doc:G}),Me=!0,(_&&this.Gu(G,_)>0||D&&this.Gu(G,D)<0)&&(g=!0)):!P&&G?(r.track({type:0,doc:G}),Me=!0):P&&!G&&(r.track({type:1,doc:P}),Me=!0,(_||D)&&(g=!0)),Me&&(G?(l=l.add(G),u=Ee?u.add(b):u.delete(b)):(l=l.delete(b),u=u.delete(b)))}),null!==this.query.limit)for(;l.size>this.query.limit;){const b="F"===this.query.limitType?l.last():l.first();l=l.delete(b.key),u=u.delete(b.key),r.track({type:1,doc:b})}return{Qu:l,zu:r,$i:g,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const s=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((D,b)=>function(A,P){const G=te=>{switch(te){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return G(A)-G(P)}(D.type,b.type)||this.Gu(D.doc,b.doc)),this.Ju(r);const l=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,_=g!==this.Uu;return this.Uu=g,0!==u.length||_?{snapshot:new tg(this.query,e.Qu,s,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:l}:{Xu:l}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new NO,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=At(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new FO(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new PO(r))}),t}tc(e){this.qu=e.Hi,this.Ku=At();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return tg.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class nU{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class rU{constructor(e){this.key=e,this.nc=!1}}class iU{constructor(e,t,r,s,u,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=u,this.maxConcurrentLimboResolutions=l,this.sc={},this.ic=new dc(g=>ZN(g),ov),this.rc=new Map,this.oc=new Set,this.uc=new Mn(Pe.comparator),this.cc=new Map,this.ac=new gA,this.hc={},this.lc=new Map,this.fc=Cd.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function sU(n,e){return eM.apply(this,arguments)}function eM(){return eM=(0,re.Z)(function*(n,e){const t=DM(n);let r,s;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),s=u.view.ec();else{const l=yield Kp(t.localStore,ui(e));t.isPrimaryClient&&ID(t.remoteStore,l);const g=t.sharedClientState.addLocalQueryTarget(l.targetId);r=l.targetId,s=yield tM(t,e,r,"current"===g,l.resumeToken)}return s}),eM.apply(this,arguments)}function tM(n,e,t,r,s){return nM.apply(this,arguments)}function nM(){return nM=(0,re.Z)(function*(n,e,t,r,s){n._c=(A,P,G)=>{return(te=(0,re.Z)(function*(Ee,Me,at,ft){let bt=Me.view.Wu(at);bt.$i&&(bt=yield _D(Ee.localStore,Me.query,!1).then(({documents:kt})=>Me.view.Wu(kt,bt)));const Mt=ft&&ft.targetChanges.get(Me.targetId),xt=Me.view.applyChanges(bt,Ee.isPrimaryClient,Mt);return hM(Ee,Me.targetId,xt.Xu),xt.snapshot}),function(Ee,Me,at,ft){return te.apply(this,arguments)})(n,A,P,G);var te};const u=yield _D(n.localStore,e,!0),l=new LO(e,u.Hi),g=l.Wu(u.documents),_=hv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,s),D=l.applyChanges(g,n.isPrimaryClient,_);hM(n,t,D.Xu);const b=new nU(e,t,l);return n.ic.set(e,b),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),D.snapshot}),nM.apply(this,arguments)}function oU(n,e){return rM.apply(this,arguments)}function rM(){return rM=(0,re.Z)(function*(n,e){const t=Fe(n),r=t.ic.get(e),s=t.rc.get(r.targetId);if(s.length>1)return t.rc.set(r.targetId,s.filter(u=>!ov(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Zp(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Tv(t.remoteStore,r.targetId),ng(t,r.targetId)}).catch(sc))):(ng(t,r.targetId),yield Zp(t.localStore,r.targetId,!0))}),rM.apply(this,arguments)}function iM(){return iM=(0,re.Z)(function*(n,e,t){const r=CM(n);try{const s=yield function(u,l){const g=Fe(u),_=In.now(),D=l.reduce((P,G)=>P.add(G.key),At());let b,A;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let G=yi(),te=At();return g.Gi.getEntries(P,D).next(Ee=>{G=Ee,G.forEach((Me,at)=>{at.isValidDocument()||(te=te.add(Me))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,G)).next(Ee=>{b=Ee;const Me=[];for(const at of l){const ft=pL(at,b.get(at.key).overlayedDocument);null!=ft&&Me.push(new Oa(at.key,ft,GN(ft.value.mapValue),gn.exists(!0)))}return g.mutationQueue.addMutationBatch(P,_,Me,l)}).next(Ee=>{A=Ee;const Me=Ee.applyToLocalDocumentSet(b,te);return g.documentOverlayCache.saveOverlays(P,Ee.batchId,Me)})}).then(()=>({batchId:A.batchId,changes:g1(b)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(u,l,g){let _=u.hc[u.currentUser.toKey()];_||(_=new Mn(wt)),_=_.insert(l,g),u.hc[u.currentUser.toKey()]=_}(r,s.batchId,t),yield Pa(r,s.changes),yield Qp(r.remoteStore)}catch(s){const u=Xp(s,"Failed to persist write");t.reject(u)}}),iM.apply(this,arguments)}function VO(n,e){return sM.apply(this,arguments)}function sM(){return sM=(0,re.Z)(function*(n,e){const t=Fe(n);try{const r=yield SV(t.localStore,e);e.targetChanges.forEach((s,u)=>{const l=t.cc.get(u);l&&(qe(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1),s.addedDocuments.size>0?l.nc=!0:s.modifiedDocuments.size>0?qe(l.nc):s.removedDocuments.size>0&&(qe(l.nc),l.nc=!1))}),yield Pa(t,r,e)}catch(r){yield sc(r)}}),sM.apply(this,arguments)}function UO(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const s=[];r.ic.forEach((u,l)=>{const g=l.view.bu(e);g.snapshot&&s.push(g.snapshot)}),function(u,l){const g=Fe(u);g.onlineState=l;let _=!1;g.queries.forEach((D,b)=>{for(const A of b.listeners)A.bu(l)&&(_=!0)}),_&&JA(g)}(r.eventManager,e),s.length&&r.sc.Wo(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function uU(n,e,t){return oM.apply(this,arguments)}function oM(){return oM=(0,re.Z)(function*(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.cc.get(e),u=s&&s.key;if(u){let l=new Mn(Pe.comparator);l=l.insert(u,cn.newNoDocument(u,Qe.min()));const g=At().add(u),_=new dv(Qe.min(),new Map,new Jt(wt),l,g);yield VO(r,_),r.uc=r.uc.remove(u),r.cc.delete(e),fM(r)}else yield Zp(r.localStore,e,!1).then(()=>ng(r,e,t)).catch(sc)}),oM.apply(this,arguments)}function cU(n,e){return aM.apply(this,arguments)}function aM(){return aM=(0,re.Z)(function*(n,e){const t=Fe(n),r=e.batch.batchId;try{const s=yield TV(t.localStore,e);dM(t,r,null),lM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Pa(t,s)}catch(s){yield sc(s)}}),aM.apply(this,arguments)}function lU(n,e,t){return uM.apply(this,arguments)}function uM(){return uM=(0,re.Z)(function*(n,e,t){const r=Fe(n);try{const s=yield function(u,l){const g=Fe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return g.mutationQueue.lookupMutationBatch(_,l).next(b=>(qe(null!==b),D=b.keys(),g.mutationQueue.removeMutationBatch(_,b))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,D,l)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,D)).next(()=>g.localDocuments.getDocuments(_,D))})}(r.localStore,e);dM(r,e,t),lM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Pa(r,s)}catch(s){yield sc(s)}}),uM.apply(this,arguments)}function lM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function dM(n,e,t){const r=Fe(n);let s=r.hc[r.currentUser.toKey()];if(s){const u=s.get(e);u&&(t?u.reject(t):u.resolve(),s=s.remove(e)),r.hc[r.currentUser.toKey()]=s}}function ng(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||BO(n,r)})}function BO(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Tv(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),fM(n))}function hM(n,e,t){for(const r of t)r instanceof PO?(n.ac.addReference(r.key,e),hU(n,r)):r instanceof FO?(Ie("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||BO(n,r.key)):je()}function hU(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(Ie("SyncEngine","New document in limbo: "+t),n.oc.add(r),fM(n))}function fM(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Pe(Ht.fromString(e)),r=n.fc.next();n.cc.set(r,new rU(t)),n.uc=n.uc.insert(t,r),ID(n.remoteStore,new hc(ui(Vp(t.path)),r,2,Li.at))}}function Pa(n,e,t){return pM.apply(this,arguments)}function pM(){return pM=(0,re.Z)(function*(n,e,t){const r=Fe(n),s=[],u=[],l=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,_)=>{l.push(r._c(_,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D?.fromCache?"not-current":"current"),D){s.push(D);const b=vA.Ci(_.targetId,D);u.push(b)}}))}),yield Promise.all(l),r.sc.Wo(s),yield(g=(0,re.Z)(function*(_,D){const b=Fe(_);try{yield b.persistence.runTransaction("notifyLocalViewChanges","readwrite",A=>Q.forEach(D,P=>Q.forEach(P.Si,G=>b.persistence.referenceDelegate.addReference(A,P.targetId,G)).next(()=>Q.forEach(P.Di,G=>b.persistence.referenceDelegate.removeReference(A,P.targetId,G)))))}catch(A){if(!oc(A))throw A;Ie("LocalStore","Failed to update sequence numbers: "+A)}for(const A of D){const P=A.targetId;if(!A.fromCache){const G=b.qi.get(P),Ee=G.withLastLimboFreeSnapshotVersion(G.snapshotVersion);b.qi=b.qi.insert(P,Ee)}}}),function(_,D){return g.apply(this,arguments)})(r.localStore,u))}),pM.apply(this,arguments)}function fU(n,e){return gM.apply(this,arguments)}function gM(){return gM=(0,re.Z)(function*(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){Ie("SyncEngine","User change. New user:",e.toKey());const r=yield pO(t.localStore,e);t.currentUser=e,(s=t).lc.forEach(l=>{l.forEach(g=>{g.reject(new _e(J.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),s.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Pa(t,r.ji)}var s}),gM.apply(this,arguments)}function pU(n,e){const t=Fe(n),r=t.cc.get(e);if(r&&r.nc)return At().add(r.key);{let s=At();const u=t.rc.get(e);if(!u)return s;for(const l of u){const g=t.ic.get(l);s=s.unionWith(g.view.ju)}return s}}function DM(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=VO.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=pU.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=uU.bind(null,e),e.sc.Wo=JV.bind(null,e.eventManager),e.sc.wc=XV.bind(null,e.eventManager),e}function CM(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=cU.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=lU.bind(null,e),e}class DU{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,re.Z)(function*(){t.yt=Cv(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function fO(n,e,t,r){return new bV(n,e,t,r)}(this.persistence,new hO,e.initialUser,this.yt)}yc(e){return new lO(mD.Bs,this.yt)}gc(e){return new IO}terminate(){var e=this;return(0,re.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class bM{initialize(e,t){var r=this;return(0,re.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=s=>UO(r.syncEngine,s,1),r.remoteStore.remoteSyncer.handleCredentialChange=fU.bind(null,r.syncEngine),yield function zA(n,e){return WA.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new QV}createDatastore(e){const t=Cv(e.databaseInfo.databaseId),r=new kV(e.databaseInfo);return new LV(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,s=e.asyncQueue,u=g=>UO(this.syncEngine,g,0),l=DO.C()?new DO:new RV,new BV(t,r,s,u,l);var t,r,s,u,l}createSyncEngine(e,t){return function(r,s,u,l,g,_,D){const b=new iU(r,s,u,l,g,_);return D&&(b.dc=!0),b}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,re.Z)(function*(t){const r=Fe(t);Ie("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield Yp(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function TM(n,e,t){if(!t)throw new _e(J.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function HO(n){if(!Pe.isDocumentKey(n))throw new _e(J.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function GO(n){if(Pe.isDocumentKey(n))throw new _e(J.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function CD(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":je()}function $t(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new _e(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=CD(n);throw new _e(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const WO=new Map;class qO{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new _e(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new _e(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function TU(n,e,t,r){if(!0===e&&!0===r)throw new _e(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Sv{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new qO({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new _e(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new _e(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new qO(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new PF;switch(t.type){case"gapi":return new UF(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new _e(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=WO.get(e);t&&(Ie("ComponentProvider","Removing Datastore"),WO.delete(e),t.terminate())}(this),Promise.resolve()}}class Bn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Bn(this.firestore,e,this._key)}}class $r{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new $r(this.firestore,e,this._query)}}class Fo extends $r{constructor(e,t,r){super(e,t,Vp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Bn(this.firestore,null,new Pe(e))}withConverter(e){return new Fo(this.firestore,e,this._path)}}function KO(n,e,...t){if(n=(0,Ct.m9)(n),TM("collection","path",e),n instanceof Sv){const r=Ht.fromString(e,...t);return GO(r),new Fo(n,null,r)}{if(!(n instanceof Bn||n instanceof Fo))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ht.fromString(e,...t));return GO(r),new Fo(n.firestore,null,r)}}function ZO(n,e,...t){if(n=(0,Ct.m9)(n),1===arguments.length&&(e=_N.R()),TM("doc","path",e),n instanceof Sv){const r=Ht.fromString(e,...t);return HO(r),new Bn(n,null,new Pe(r))}{if(!(n instanceof Bn||n instanceof Fo))throw new _e(J.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ht.fromString(e,...t));return HO(r),new Bn(n.firestore,n instanceof Fo?n.converter:null,new Pe(r))}}class bD{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Ln("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class OU{constructor(e,t,r,s){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=vr.UNAUTHENTICATED,this.clientId=_N.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,re.Z)(function*(g){Ie("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ie("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,re.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new _e(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,re.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const s=Xp(r,"Failed to shutdown persistence");t.reject(s)}})),t.promise}}function JO(n,e){return SM.apply(this,arguments)}function SM(){return SM=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ie("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var s=(0,re.Z)(function*(u){r.isEqual(u)||(yield pO(e.localStore,u),r=u)});return function(u){return s.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),SM.apply(this,arguments)}function XO(n,e){return AM.apply(this,arguments)}function AM(){return AM=(0,re.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield MM(n);Ie("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(s=>RO(e.remoteStore,s)),n.setAppCheckTokenChangeListener((s,u)=>RO(e.remoteStore,u)),n.onlineComponents=e}),AM.apply(this,arguments)}function MM(n){return xM.apply(this,arguments)}function xM(){return xM=(0,re.Z)(function*(n){return n.offlineComponents||(Ie("FirestoreClient","Using default OfflineComponentProvider"),yield JO(n,new DU)),n.offlineComponents}),xM.apply(this,arguments)}function TD(n){return RM.apply(this,arguments)}function RM(){return RM=(0,re.Z)(function*(n){return n.onlineComponents||(Ie("FirestoreClient","Using default OnlineComponentProvider"),yield XO(n,new bM)),n.onlineComponents}),RM.apply(this,arguments)}function rg(n){return kM.apply(this,arguments)}function kM(){return kM=(0,re.Z)(function*(n){const e=yield TD(n),t=e.eventManager;return t.onListen=sU.bind(null,e.syncEngine),t.onUnlisten=oU.bind(null,e.syncEngine),t}),kM.apply(this,arguments)}class $U{constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new AA(this,"async_queue_retry"),this.Wc=()=>{const t=ED();t&&Ie("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=ED();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=ED();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new cr;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,re.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!oc(t))throw t;Ie("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Ln("INTERNAL UNHANDLED ERROR: ",function(u){let l=u.message||"";return u.stack&&(l=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),l}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const s=qA.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.Uc.push(s),s}zc(){this.Kc&&je()}verifyOperationInProgress(){}Xc(){var e=this;return(0,re.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function PM(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const s of["next","error","complete"])if(s in r&&"function"==typeof r[s])return!0;return!1}(n)}class ln extends Sv{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new $U,this._persistenceKey=s?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||ik(this),this._firestoreClient.terminate()}}function HU(n,e){const t="object"==typeof n?n:(0,St.getApp)(),r="string"==typeof n?n:e||"(default)",s=(0,St._getProvider)(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const u=(0,Ct.P0)("firestore");u&&function SU(n,e,t,r={}){var s;const u=(n=$t(n,Sv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Np("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let l,g;if("string"==typeof r.mockUserToken)l=r.mockUserToken,g=vr.MOCK_USER;else{l=(0,Ct.Sg)(r.mockUserToken,null===(s=n._app)||void 0===s?void 0:s.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new _e(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new vr(_)}n._authCredentials=new FF(new mN(l,g))}}(s,...u)}return s}function Qn(n){return n._firestoreClient||ik(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function ik(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new YF(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new OU(n._authCredentials,n._appCheckCredentials,n._queue,r)}class Td{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Td(lr.fromBase64String(e))}catch(t){throw new _e(J.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new Td(lr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class ig{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new _e(J.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ak{constructor(e){this._methodName=e}}class FM{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new _e(J.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new _e(J.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}const GU=/^__.*__$/;class zU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Oa(e,this.data,this.fieldMask,t,this.fieldTransforms):new $p(e,this.data,t,this.fieldTransforms)}}function ck(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class AD{constructor(e,t,r,s,u,l){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=s,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=l||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new AD(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ia({path:r,oa:!1});return s.ua(e),s}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),s=this.ia({path:r,oa:!1});return s.na(),s}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return xD(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(ck(this.sa)&&GU.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class WU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Cv(e)}da(e,t,r,s=!1){return new AD({sa:e,methodName:t,fa:r,path:Vn.emptyPath(),oa:!1,la:s},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function sg(n){const e=n._freezeSettings(),t=Cv(n._databaseId);return new WU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function LM(n,e,t,r,s,u={}){const l=n.da(u.merge||u.mergeFields?2:0,e,t,s);UM("Data must be an object, but it was:",l,r);const g=pk(r,l);let _,D;if(u.merge)_=new mi(l.fieldMask),D=l.fieldTransforms;else if(u.mergeFields){const b=[];for(const A of u.mergeFields){const P=BM(e,A,t);if(!l.contains(P))throw new _e(J.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);mk(b,P)||b.push(P)}_=new mi(b),D=l.fieldTransforms.filter(A=>_.covers(A.field))}else _=null,D=l.fieldTransforms;return new zU(new Br(g),_,D)}function Sd(n,e){if(gk(n=(0,Ct.m9)(n)))return UM("Unsupported field value:",e,n),pk(n,e);if(n instanceof ak)return function(t,r){if(!ck(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const s=t._toFieldTransform(r);s&&r.fieldTransforms.push(s)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const s=[];let u=0;for(const l of t){let g=Sd(l,r.aa(u));null==g&&(g={nullValue:"NULL_VALUE"}),s.push(g),u++}return{arrayValue:{values:s}}}(n,e)}return function(t,r){if(null===(t=(0,Ct.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return e1(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const s=In.fromDate(t);return{timestampValue:Hp(r.yt,s)}}if(t instanceof In){const s=new In(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Hp(r.yt,s)}}if(t instanceof FM)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof Td)return{bytesValue:I1(r.yt,t._byteString)};if(t instanceof Bn){const s=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(s))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:eA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${CD(t)}`)}(n,e)}function pk(n,e){const t={};return bN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):dd(n,(r,s)=>{const u=Sd(s,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function gk(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof In||n instanceof FM||n instanceof Td||n instanceof Bn||n instanceof ak)}function UM(n,e,t){if(!gk(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=CD(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function BM(n,e,t){if((e=(0,Ct.m9)(e))instanceof ig)return e._internalPath;if("string"==typeof e)return MD(n,e);throw xD("Field path arguments must be of type string or ",n,!1,void 0,t)}const YU=new RegExp("[~\\*/\\[\\]]");function MD(n,e,t){if(e.search(YU)>=0)throw xD(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ig(...e.split("."))._internalPath}catch{throw xD(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function xD(n,e,t,r,s){const u=r&&!r.isEmpty(),l=void 0!==s;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||l)&&(_+=" (found",u&&(_+=` in field ${r}`),l&&(_+=` in document ${s}`),_+=")"),new _e(J.INVALID_ARGUMENT,g+n+_)}function mk(n,e){return n.some(t=>t.isEqual(e))}class $M{constructor(e,t,r,s,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Bn(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new QU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(RD("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class QU extends $M{data(){return super.data()}}function RD(n,e){return"string"==typeof e?MD(n,e):e instanceof ig?e._internalPath:e._delegate._internalPath}class XU{convertValue(e,t="none"){switch(fd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return An(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(hd(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw je()}}convertObject(e,t){const r={};return dd(e.fields,(s,u)=>{r[s]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new FM(An(e.latitude),An(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=SN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(tv(e));default:return null}}convertTimestamp(e){const t=ac(e);return new In(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Ht.fromString(e);qe(N1(r));const s=new ld(r.get(1),r.get(3)),u=new Pe(r.popFirst(5));return s.isEqual(t)||Ln(`Document ${u} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class Ad{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class ag extends $M{constructor(e,t,r,s,u,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new PD(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(RD("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class PD extends ag{data(e={}){return super.data(e)}}class ug{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new Ad(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new PD(this._firestore,this._userDataWriter,r.key,r,new Ad(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new _e(J.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,s){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(l=>({type:"added",doc:new PD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ad(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(l=>s||3!==l.type).map(l=>{const g=new PD(r._firestore,r._userDataWriter,l.doc.key,l.doc,new Ad(r._snapshot.mutatedKeys.has(l.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==l.type&&(_=u.indexOf(l.doc.key),u=u.delete(l.doc.key)),1!==l.type&&(u=u.add(l.doc),D=u.indexOf(l.doc.key)),{type:e2(l.type),doc:g,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function e2(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}class yc extends XU{constructor(e){super(),this.firestore=e}convertBytes(e){return new Td(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Bn(this.firestore,null,t)}}function xv(n,e){return function(t,r){const s=new cr;return t.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function aU(n,e,t){return iM.apply(this,arguments)}(yield function OM(n){return TD(n).then(e=>e.syncEngine)}(t),r,s)})),s.promise}(Qn(n),e)}!function(n,e=!0){Rp=St.SDK_VERSION,(0,St._registerComponent)(new ii.wA("firestore",(t,{instanceIdentifier:r,options:s})=>{const u=t.getProvider("app").getImmediate(),l=new ln(new LF(t.getProvider("auth-internal")),new BF(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new _e(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ld(g.options.projectId,_)}(u,r),u);return s=Object.assign({useFetchStreams:e},s),l._setSettings(s),l},"PUBLIC").setMultipleInstances(!0)),(0,St.registerVersion)(gN,"3.8.1",n),(0,St.registerVersion)(gN,"3.8.1","esm2017")}();var u2={includeMetadataChanges:!1};function zM(n,e){return void 0===e&&(e=u2),new ei.y(function(t){var r=function r2(n,...e){var t,r,s;n=(0,Ct.m9)(n);let u={includeMetadataChanges:!1},l=0;"object"!=typeof e[l]||PM(e[l])||(u=e[l],l++);const g={includeMetadataChanges:u.includeMetadataChanges};if(PM(e[l])){const A=e[l];e[l]=null===(t=A.next)||void 0===t?void 0:t.bind(A),e[l+1]=null===(r=A.error)||void 0===r?void 0:r.bind(A),e[l+2]=null===(s=A.complete)||void 0===s?void 0:s.bind(A)}let _,D,b;if(n instanceof Bn)D=$t(n.firestore,ln),b=Vp(n._key.path),_={next:A=>{e[l]&&e[l](function GM(n,e,t){const r=t.docs.get(e._key),s=new yc(n);return new ag(n,s,e._key,r,new Ad(t.hasPendingWrites,t.fromCache),e.converter)}(D,n,A))},error:e[l+1],complete:e[l+2]};else{const A=$t(n,$r);D=$t(A.firestore,ln),b=A._query;const P=new yc(D);_={next:G=>{e[l]&&e[l](new ug(D,P,A,G))},error:e[l+1],complete:e[l+2]},function yk(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new _e(J.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(A,P,G,te){const Ee=new bD(te),Me=new XA(P,Ee,G);return A.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function KA(n,e){return ZA.apply(this,arguments)}(yield rg(A),Me)})),()=>{Ee.bc(),A.asyncQueue.enqueueAndForget((0,re.Z)(function*(){return function YA(n,e){return QA.apply(this,arguments)}(yield rg(A),Me)}))}}(Qn(D),b,g,_)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function g2(n,e){return void 0===e&&(e={}),function p2(n){return zM(n,{includeMetadataChanges:!0}).pipe((0,it.U)(function(e){return e.docs}))}(n).pipe((0,it.U)(function(t){return t.map(function(r){return function bk(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class LD{constructor(e){return e}}const Mk="firestore",KM=new f.OlP("angularfire2.firestore-instances");function _2(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new LD(r)}}const v2={provide:class m2{constructor(){return Hl(Mk)}},deps:[[new f.FiY,KM]]},w2={provide:LD,useFactory:function y2(n,e){const t=Vy(Mk,n,e);return t&&new LD(t)},deps:[[new f.FiY,KM],Wu]};let E2=(()=>{class n{constructor(){(0,St.registerVersion)("angularfire",Wf.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({providers:[w2,v2]}),n})();const D2=zu(g2,!0),C2=zu(HU,!0);class cg{constructor(e){this.firestore=e}addProduct(e){return function n2(n,e){const t=$t(n.firestore,ln),r=ZO(n),s=function HM(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return xv(t,[LM(sg(n.firestore),"addDoc",r._key,s,null!==n.converter,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}(KO(this.firestore,"medicamentos"),e)}getProductos(){const e=KO(this.firestore,"medicamentos");return D2(e,{idField:"id"})}deleteProducto(e){return function t2(n){return xv($t(n.firestore,ln),[new jp(n._key,gn.none())])}(ZO(this.firestore,`medicamentos/${e.id}`))}}function b2(n,e){if(1&n){const t=f.EpF();f.TgZ(0,"tr",8)(1,"td",9),f._uU(2),f.qZA(),f.TgZ(3,"td",10),f._uU(4),f.qZA(),f.TgZ(5,"td",10),f._uU(6),f.ALo(7,"currency"),f.qZA(),f.TgZ(8,"td",10),f._UZ(9,"img",11),f.qZA(),f.TgZ(10,"td",10)(11,"button",12),f.NdJ("click",function(){const u=f.CHM(t).$implicit,l=f.oxw();return f.KtG(l.onDelete(u))}),f._uU(12," Eliminar "),f.qZA()()()}if(2&n){const t=e.$implicit,r=e.index;f.xp6(2),f.hij(" ",r+1," "),f.xp6(2),f.hij(" ",t.nombre," "),f.xp6(2),f.hij(" ",f.xi3(7,4,t.costo,"S/.")," "),f.xp6(3),f.Q6J("src",t.imagen,f.LSH)}}cg.\u0275fac=function(e){return new(e||cg)(f.LFG(LD))},cg.\u0275prov=f.Yz7({token:cg,factory:cg.\u0275fac,providedIn:"root"});class Rv{constructor(e){this.farmaciaService=e}ngOnInit(){this.farmaciaService.getProductos().subscribe(e=>{this.medicamentos=e})}onDelete(e){this.farmaciaService.deleteProducto(e)}}Rv.\u0275fac=function(e){return new(e||Rv)(f.Y36(cg))},Rv.\u0275cmp=f.Xpm({type:Rv,selectors:[["app-tabla"]],decls:19,vars:1,consts:[[1,"flex","flex-col"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"py-2","inline-block","min-w-full","sm:px-6","lg:px-8"],[1,"overflow-hidden"],[1,"min-w-full"],[1,"bg-white","border-b"],["scope","col",1,"text-sm","font-medium","text-gray-900","px-6","py-4","text-left"],["class","bg-gray-100 border-b",4,"ngFor","ngForOf"],[1,"bg-gray-100","border-b"],[1,"px-6","py-4","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900","font-light","px-6","py-4","whitespace-nowrap"],["alt","",1,"w-12",3,"src"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg",3,"click"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),f._uU(8," # "),f.qZA(),f.TgZ(9,"th",6),f._uU(10," Producto "),f.qZA(),f.TgZ(11,"th",6),f._uU(12," Costo "),f.qZA(),f.TgZ(13,"th",6),f._uU(14," Imagen "),f.qZA(),f.TgZ(15,"th",6),f._uU(16," Tools "),f.qZA()()(),f.TgZ(17,"tbody"),f.YNc(18,b2,13,7,"tr",7),f.qZA()()()()()()),2&e&&(f.xp6(18),f.Q6J("ngForOf",t.medicamentos))},dependencies:[ps,Js]});class Nv{}Nv.\u0275fac=function(e){return new(e||Nv)},Nv.\u0275cmp=f.Xpm({type:Nv,selectors:[["app-home"]],decls:3,vars:0,consts:[[1,"w-3/6","my-6","mx-auto"]],template:function(e,t){1&e&&(f._UZ(0,"app-header"),f.TgZ(1,"div",0),f._UZ(2,"app-tabla"),f.qZA())},dependencies:[Jl,Rv]});let xk=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=s=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq))},n.\u0275dir=f.lG2({type:n}),n})(),Md=(()=>{class n extends xk{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=f.n5z(n)))(r||n)}}(),n.\u0275dir=f.lG2({type:n,features:[f.qOj]}),n})();const Lo=new f.OlP("NgValueAccessor"),A2={provide:Lo,useExisting:(0,f.Gpc)(()=>Ov),multi:!0},x2=new f.OlP("CompositionEventMode");let Ov=(()=>{class n extends xk{constructor(t,r,s){super(t,r),this._compositionMode=s,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function M2(){const n=X()?X().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(f.Qsj),f.Y36(f.SBq),f.Y36(x2,8))},n.\u0275dir=f.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&f.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[f._Bn([A2]),f.qOj]}),n})();function _c(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function Nk(n){return null!=n&&"number"==typeof n.length}const Yr=new f.OlP("NgValidators"),vc=new f.OlP("NgAsyncValidators"),N2=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class wc{static min(e){return function Ok(n){return e=>{if(_c(e.value)||_c(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function kk(n){return e=>{if(_c(e.value)||_c(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function Pk(n){return _c(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Fk(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Lk(n){return _c(n.value)||N2.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function Vk(n){return e=>_c(e.value)||!Nk(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Uk(n){return e=>Nk(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function Bk(n){if(!n)return VD;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(_c(r.value))return null;const s=r.value;return e.test(s)?null:{pattern:{requiredPattern:t,actualValue:s}}}}(e)}static nullValidator(e){return null}static compose(e){return Wk(e)}static composeAsync(e){return qk(e)}}function VD(n){return null}function $k(n){return null!=n}function jk(n){return(0,f.QGY)(n)?(0,tn.D)(n):n}function Hk(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Gk(n,e){return e.map(t=>t(n))}function zk(n){return n.map(e=>function O2(n){return!n.validate}(e)?e:t=>e.validate(t))}function Wk(n){if(!n)return null;const e=n.filter($k);return 0==e.length?null:function(t){return Hk(Gk(t,e))}}function ZM(n){return null!=n?Wk(zk(n)):null}function qk(n){if(!n)return null;const e=n.filter($k);return 0==e.length?null:function(t){return function T2(...n){const e=(0,ir.jO)(n),{args:t,keys:r}=du(n),s=new ei.y(u=>{const{length:l}=t;if(!l)return void u.complete();const g=new Array(l);let _=l,D=l;for(let b=0;b<l;b++){let A=!1;(0,na.Xf)(t[b]).subscribe((0,Gn.x)(u,P=>{A||(A=!0,D--),g[b]=P},()=>_--,void 0,()=>{(!_||!A)&&(D||u.next(r?bs(r,g):g),u.complete())}))}});return e?s.pipe(fo(e)):s}(Gk(t,e).map(jk)).pipe((0,it.U)(Hk))}}function YM(n){return null!=n?qk(zk(n)):null}function Kk(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Zk(n){return n._rawValidators}function Yk(n){return n._rawAsyncValidators}function QM(n){return n?Array.isArray(n)?n:[n]:[]}function UD(n,e){return Array.isArray(n)?n.includes(e):n===e}function Qk(n,e){const t=QM(e);return QM(n).forEach(s=>{UD(t,s)||t.push(s)}),t}function Jk(n,e){return QM(e).filter(t=>!UD(n,t))}class Xk{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ZM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=YM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class li extends Xk{get formDirective(){return null}get path(){return null}}class Ec extends Xk{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class eP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let JM=(()=>{class n extends eP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Ec,2))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[f.qOj]}),n})(),XM=(()=>{class n extends eP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(li,10))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&f.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[f.qOj]}),n})();const kv="VALID",$D="INVALID",lg="PENDING",Pv="DISABLED";function rx(n){return(jD(n)?n.validators:n)||null}function ix(n,e){return(jD(e)?e.asyncValidators:n)||null}function jD(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class iP{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===kv}get invalid(){return this.status===$D}get pending(){return this.status==lg}get disabled(){return this.status===Pv}get enabled(){return this.status!==Pv}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Qk(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Qk(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Jk(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Jk(e,this._rawAsyncValidators))}hasValidator(e){return UD(this._rawValidators,e)}hasAsyncValidator(e){return UD(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=lg,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Pv,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kv,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===kv||this.status===lg)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Pv:kv}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=lg,this._hasOwnPendingAsyncValidator=!0;const t=jk(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,s)=>r&&r._find(s),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new f.vpe,this.statusChanges=new f.vpe}_calculateStatus(){return this._allControlsDisabled()?Pv:this.errors?$D:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(lg)?lg:this._anyControlsHaveStatus($D)?$D:kv}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jD(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function B2(n){return Array.isArray(n)?ZM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function $2(n){return Array.isArray(n)?YM(n):n||null}(this._rawAsyncValidators)}}class Fv extends iP{constructor(e,t,r){super(rx(t),ix(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function rP(n,e,t){n._forEachChild((r,s)=>{if(void 0===t[s])throw new f.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function nP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new f.vHH(1e3,"");if(!r[t])throw new f.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const s=this.controls[r];s&&s.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,s)=>{r.reset(e[s],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,s)=>((r.enabled||this.disabled)&&(t[s]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((s,u)=>{r=t(r,s,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Lv=new f.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>sx}),sx="always";function Vv(n,e,t=sx){ox(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function G2(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&sP(n,e)})}(n,e),function W2(n,e){const t=(r,s)=>{e.valueAccessor.writeValue(r),s&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function z2(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&sP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function H2(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function GD(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),WD(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function zD(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ox(n,e){const t=Zk(n);null!==e.validator?n.setValidators(Kk(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Yk(n);null!==e.asyncValidator?n.setAsyncValidators(Kk(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const s=()=>n.updateValueAndValidity();zD(e._rawValidators,s),zD(e._rawAsyncValidators,s)}function WD(n,e){let t=!1;if(null!==n){if(null!==e.validator){const s=Zk(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.validator);u.length!==s.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const s=Yk(n);if(Array.isArray(s)&&s.length>0){const u=s.filter(l=>l!==e.asyncValidator);u.length!==s.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return zD(e._rawValidators,r),zD(e._rawAsyncValidators,r),t}function sP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function uP(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function cP(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const dg=class extends iP{constructor(e=null,t,r){super(rx(t),ix(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jD(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=cP(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){uP(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){uP(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){cP(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let dx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=f.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),gP=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({}),n})();const hx=new f.OlP("NgModelWithFormControlWarning"),oB={provide:li,useExisting:(0,f.Gpc)(()=>Bv)};let Bv=(()=>{class n extends li{constructor(t,r,s){super(),this.callSetDisabledState=s,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new f.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(WD(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Vv(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){GD(t.control||null,t,!1),function Y2(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function aP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,s=this.form.get(t.path);r!==s&&(GD(r||null,t),(n=>n instanceof dg)(s)&&(Vv(s,t,this.callSetDisabledState),t.control=s))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function oP(n,e){ox(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function q2(n,e){return WD(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){ox(this.form,this),this._oldForm&&WD(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(f.Y36(Yr,10),f.Y36(vc,10),f.Y36(Lv,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&f.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[f._Bn([oB]),f.qOj,f.TTD]}),n})();const cB={provide:Ec,useExisting:(0,f.Gpc)(()=>qD)};let qD=(()=>{class n extends Ec{set isDisabled(t){}constructor(t,r,s,u,l){super(),this._ngModelWarningConfig=l,this._added=!1,this.update=new f.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(s),this.valueAccessor=function cx(n,e){if(!e)return null;let t,r,s;return Array.isArray(e),e.forEach(u=>{u.constructor===Ov?t=u:function Z2(n){return Object.getPrototypeOf(n.constructor)===Md}(u)?r=u:s=u}),s||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function ux(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function HD(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(f.Y36(li,13),f.Y36(Yr,10),f.Y36(vc,10),f.Y36(Lo,10),f.Y36(hx,8))},n.\u0275dir=f.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[f._Bn([cB]),f.qOj,f.TTD]}),n})(),CB=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[gP]}),n})(),TB=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:hx,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Lv,useValue:t.callSetDisabledState??sx}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=f.oAB({type:n}),n.\u0275inj=f.cJS({imports:[CB]}),n})();const RP=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Z|a-z]{2,}$/;function SB(n,e){1&n&&(f.TgZ(0,"h3",13),f._uU(1,"Credenciales Incorrectas"),f.qZA())}function AB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El email es requerido "),f.qZA())}function MB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El formato del campo email es incorrecto "),f.qZA())}function xB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El password es requerido "),f.qZA())}function RB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El tama\xf1o m\xednimo de la contrase\xf1a es de 8 car\xe1cteres "),f.qZA())}const NP=function(n){return{"border-red-500":n}};class $v{constructor(e,t){this.router=e,this.userService=t,this.failLogin=!1,this.formLogin=new Fv({email:new dg("",[wc.required,wc.pattern(RP)]),password:new dg("",[wc.required,wc.minLength(8)])})}get form(){return this.formLogin.controls}campoNoValido(e){return this.formLogin.get(e)?.invalid&&this.formLogin.get(e)?.touched}loginUser(){this.userService.login(this.formLogin.value).then(e=>{this.router.navigate(["home"]),console.log(e)}).catch(e=>{console.log(e),this.failLogin=!0,this.timeoutId=setTimeout(()=>{this.failLogin=!1},3e3)})}ngOnDestroy(){this.timeoutId&&clearTimeout(this.timeoutId)}}function NB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El email es requerido "),f.qZA())}function OB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El formato del campo email es incorrecto "),f.qZA())}function kB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El password es requerido "),f.qZA())}function PB(n,e){1&n&&(f.TgZ(0,"span"),f._uU(1," El tama\xf1o m\xednimo de la contrase\xf1a es de 8 car\xe1cteres "),f.qZA())}$v.\u0275fac=function(e){return new(e||$v)(f.Y36(Wn),f.Y36(Kn))},$v.\u0275cmp=f.Xpm({type:$v,selectors:[["app-login"]],decls:25,vars:13,consts:[[1,"w-4/5","mx-auto","flex","justify-center","items-center","min-h-screen","bg-transparent"],[1,"flex","flex-col","gap-4","justify-center","items-center","bg-white","p-6","rounded-xl","w-96",3,"formGroup","submit"],[1,"font-bold","text-3xl","uppercase"],["class","text-red-500",4,"ngIf"],[1,"flex","flex-col","w-full"],["for","email",1,"mb-2","font-semibold"],["id","email","type","text","formControlName","email","name","email",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"text-red-500","text-sm"],[4,"ngIf"],["for","",1,"mb-2","font-semibold"],["type","password","formControlName","password","name","password",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"bg-black","text-white","p-3","rounded-lg","mt-6","hover:bg-blue-600","disabled:opacity-25","hover:disabled:bg-black",3,"disabled"],["routerLink","/register",1,"font-bold","text-blue-500"],[1,"text-red-500"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("submit",function(){return t.loginUser()}),f.TgZ(2,"h1",2),f._uU(3,"Login"),f.qZA(),f.YNc(4,SB,2,0,"h3",3),f.TgZ(5,"div",4)(6,"label",5),f._uU(7,"Correo"),f.qZA(),f._UZ(8,"input",6),f.TgZ(9,"div",7),f.YNc(10,AB,2,0,"span",8),f.YNc(11,MB,2,0,"span",8),f.qZA()(),f.TgZ(12,"div",4)(13,"label",9),f._uU(14,"Contrase\xf1a"),f.qZA(),f._UZ(15,"input",10),f.TgZ(16,"div",7),f.YNc(17,xB,2,0,"span",8),f.YNc(18,RB,2,0,"span",8),f.qZA()(),f.TgZ(19,"button",11),f._uU(20," Iniciar Sesi\xf3n "),f.qZA(),f.TgZ(21,"span"),f._uU(22,"No tienes una cuenta? "),f.TgZ(23,"a",12),f._uU(24,"Registrate"),f.qZA()()()()),2&e&&(f.xp6(1),f.Q6J("formGroup",t.formLogin),f.xp6(3),f.Q6J("ngIf",t.failLogin),f.xp6(4),f.Q6J("ngClass",f.VKq(9,NP,t.campoNoValido("email"))),f.xp6(2),f.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.required)&&t.form.email.touched),f.xp6(1),f.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.pattern)&&t.form.email.touched),f.xp6(4),f.Q6J("ngClass",f.VKq(11,NP,t.campoNoValido("password"))),f.xp6(2),f.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.required)&&t.form.password.touched),f.xp6(1),f.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.pattern)&&t.form.password.touched),f.xp6(1),f.Q6J("disabled",t.formLogin.invalid))},dependencies:[ht,Hi,dx,Ov,JM,XM,Bv,qD,Jh]});const OP=function(n){return{"border-red-500":n}};class jv{constructor(e,t){this.userService=e,this.router=t,this.formReg=new Fv({email:new dg("",[wc.required,wc.pattern(RP)]),password:new dg("",[wc.required,wc.minLength(8)])})}registerUser(){this.userService.registerUser(this.formReg.value).then(e=>{this.router.navigate(["home"]),console.log(e)}).catch(e=>console.log(e))}get form(){return this.formReg.controls}campoNoValido(e){return this.formReg.get(e)?.invalid&&this.formReg.get(e)?.touched}}jv.\u0275fac=function(e){return new(e||jv)(f.Y36(Kn),f.Y36(Wn))},jv.\u0275cmp=f.Xpm({type:jv,selectors:[["app-register"]],decls:24,vars:12,consts:[[1,"w-4/5","mx-auto","flex","justify-center","items-center","min-h-screen","bg-transparent"],[1,"flex","flex-col","gap-4","justify-center","items-center","bg-white","p-6","rounded-xl","w-96",3,"formGroup","submit"],[1,"font-bold","text-2xl","mb-3","uppercase"],[1,"flex","flex-col","w-full"],["for","email",1,"mb-2","font-semibold"],["id","email","type","text","formControlName","email","name","email",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"text-red-500","text-sm"],[4,"ngIf"],["for","",1,"mb-2","font-semibold"],["type","password","formControlName","password","name","password",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"bg-black","text-white","p-3","rounded-lg","mt-6","hover:bg-blue-600","disabled:opacity-25","hover:disabled:bg-black",3,"disabled"],["routerLink","/login",1,"font-bold","text-blue-500"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0)(1,"form",1),f.NdJ("submit",function(){return t.registerUser()}),f.TgZ(2,"h1",2),f._uU(3,"Crear Nueva Cuenta"),f.qZA(),f.TgZ(4,"div",3)(5,"label",4),f._uU(6,"Correo"),f.qZA(),f._UZ(7,"input",5),f.TgZ(8,"div",6),f.YNc(9,NB,2,0,"span",7),f.YNc(10,OB,2,0,"span",7),f.qZA()(),f.TgZ(11,"div",3)(12,"label",8),f._uU(13,"Contrase\xf1a"),f.qZA(),f._UZ(14,"input",9),f.TgZ(15,"div",6),f.YNc(16,kB,2,0,"span",7),f.YNc(17,PB,2,0,"span",7),f.qZA()(),f.TgZ(18,"button",10),f._uU(19," Registrar "),f.qZA(),f.TgZ(20,"span"),f._uU(21,"Ya tienes una cuenta? "),f.TgZ(22,"a",11),f._uU(23,"Iniciar Sesi\xf3n"),f.qZA()()()()),2&e&&(f.xp6(1),f.Q6J("formGroup",t.formReg),f.xp6(6),f.Q6J("ngClass",f.VKq(8,OP,t.campoNoValido("email"))),f.xp6(2),f.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.required)&&t.form.email.touched),f.xp6(1),f.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.pattern)&&t.form.email.touched),f.xp6(4),f.Q6J("ngClass",f.VKq(10,OP,t.campoNoValido("password"))),f.xp6(2),f.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.required)&&t.form.password.touched),f.xp6(1),f.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.pattern)&&t.form.password.touched),f.xp6(1),f.Q6J("disabled",t.formReg.invalid))},dependencies:[ht,Hi,dx,Ov,JM,XM,Bv,qD,Jh]});const kP=(0,it.U)(n=>!!n);var BB=N(6451);class $B extends Mi.x{constructor(e=1/0,t=1/0,r=ky){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:s,_timestampProvider:u,_windowTime:l}=this;t||(r.push(e),!s&&r.push(u.now()+l)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:s}=this,u=s.slice();for(let l=0;l<u.length&&!e.closed;l+=r?1:2)e.next(u[l]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:s}=this,u=(s?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!s){const l=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=l;_+=2)g=_;g&&r.splice(0,g+1)}}}var jB=N(3099);function PP(n,e,t){let r,s=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:s=!1,scheduler:t}=n):r=n??1/0,(0,jB.B)({connector:()=>new $B(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:s})}function FP(n,e){return(0,ra.m)(e)?wn(()=>n,e):wn(()=>n)}var Rd=N(2011);N(9260);const GB=new f.OlP("angularfire2.auth.use-emulator"),zB=new f.OlP("angularfire2.auth.settings"),WB=new f.OlP("angularfire2.auth.tenant-id"),qB=new f.OlP("angularfire2.auth.langugage-code"),KB=new f.OlP("angularfire2.auth.use-device-language"),ZB=new f.OlP("angularfire.auth.persistence");let LP=(()=>{class n{constructor(t,r,s,u,l,g,_,D,b,A,P,G){const te=new Mi.x,Ee=Ye(void 0).pipe((0,Da.Q)(l.outsideAngular),wn(()=>u.runOutsideAngular(()=>N.e(568).then(N.bind(N,9568)))),(0,it.U)(()=>(0,Rd.on)(t,u,r)),(0,it.U)(Me=>((n,e,t,r,s,u,l,g)=>(0,Rd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=s,u&&_.useDeviceLanguage(),l)for(const[D,b]of Object.entries(l))_.settings[D]=b;return g&&_.setPersistence(g),_},[t,r,s,u,l,g]))(Me,u,g,D,b,A,_,P)),PP({bufferSize:1,refCount:!1}));if(function vg(n){return"server"===n}(s))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ye(null);else{Ee.pipe(Qi()).subscribe();const at=Ee.pipe(wn(Mt=>Mt.getRedirectResult().then(xt=>xt,()=>null)),RE,PP({bufferSize:1,refCount:!1})),ft=Ee.pipe(wn(Mt=>new ei.y(xt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onAuthStateChanged(kt=>xt.next(kt),kt=>xt.error(kt),()=>xt.complete()))})))),bt=Ee.pipe(wn(Mt=>new ei.y(xt=>({unsubscribe:u.runOutsideAngular(()=>Mt.onIdTokenChanged(kt=>xt.next(kt),kt=>xt.error(kt),()=>xt.complete()))}))));this.authState=at.pipe(FP(ft),(0,$l.R)(l.outsideAngular),(0,Da.Q)(l.insideAngular)),this.user=at.pipe(FP(bt),(0,$l.R)(l.outsideAngular),(0,Da.Q)(l.insideAngular)),this.idToken=this.user.pipe(wn(Mt=>Mt?(0,tn.D)(Mt.getIdToken()):Ye(null))),this.idTokenResult=this.user.pipe(wn(Mt=>Mt?(0,tn.D)(Mt.getIdTokenResult()):Ye(null))),this.credential=(0,BB.T)(at,te,this.authState.pipe(zr(Mt=>!Mt))).pipe((0,it.U)(Mt=>Mt?.user?Mt:null),(0,$l.R)(l.outsideAngular),(0,Da.Q)(l.insideAngular))}return(0,Rd.pX)(this,Ee,u,{spy:{apply:(Me,at,ft)=>{(Me.startsWith("signIn")||Me.startsWith("createUser"))&&ft.then(bt=>te.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Rd.Dh),f.LFG(Rd.xv,8),f.LFG(f.Lbi),f.LFG(f.R0b),f.LFG(Yf),f.LFG(GB,8),f.LFG(zB,8),f.LFG(WB,8),f.LFG(qB,8),f.LFG(KB,8),f.LFG(ZB,8),f.LFG(Yl,8))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const _x=(0,it.U)(n=>!!n);let KD=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(s,u)=>{const l=s.data.authGuardPipe||(()=>_x);return this.auth.user.pipe(go(1),l(s,u),(0,it.U)(g=>"boolean"==typeof g?g:Array.isArray(g)?this.router.createUrlTree(g):this.router.parseUrl(g)))}}}return n.\u0275fac=function(t){return new(t||n)(f.LFG(Wn),f.LFG(LP))},n.\u0275prov=f.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const VP=()=>(n=>(0,Wc.z)(kP,(0,it.U)(e=>e&&n||!0)))(["home"]),JB=[{path:"login",component:$v,canActivate:[KD],data:{authGuardPipe:VP}},{path:"register",component:jv,canActivate:[KD],data:{authGuardPipe:VP}},{path:"home",component:Nv,canActivate:[KD],data:{authGuardPipe:()=>(n=>(0,Wc.z)(kP,(0,it.U)(e=>e||n)))(["login"])}},{path:"**",redirectTo:"login"}];class hg{}hg.\u0275fac=function(e){return new(e||hg)},hg.\u0275mod=f.oAB({type:hg}),hg.\u0275inj=f.cJS({imports:[Xh.forRoot(JB),Xh]});class Hv{constructor(){this.title="autenticacion_firebase"}}Hv.\u0275fac=function(e){return new(e||Hv)},Hv.\u0275cmp=f.Xpm({type:Hv,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"w-full","min-h-screen","bg-blue-200"]],template:function(e,t){1&e&&(f.TgZ(0,"div",0),f._UZ(1,"router-outlet"),f.qZA())},dependencies:[om]});class fg{}fg.\u0275fac=function(e){return new(e||fg)},fg.\u0275mod=f.oAB({type:fg}),fg.\u0275inj=f.cJS({imports:[ja]});class pg{}pg.\u0275fac=function(e){return new(e||pg)},pg.\u0275mod=f.oAB({type:pg}),pg.\u0275inj=f.cJS({imports:[ja,fg,TB]});const UP={firebase:{projectId:"angular-991fb",appId:"1:302755098527:web:f05e282c47b3dfb1d117aa",storageBucket:"angular-991fb.appspot.com",apiKey:"AIzaSyCTtZuw_Un_w1A3tCoZChaSeoA8OHDq5es",authDomain:"angular-991fb.firebaseapp.com",messagingSenderId:"302755098527"}};class gg{}gg.\u0275fac=function(e){return new(e||gg)},gg.\u0275mod=f.oAB({type:gg,bootstrap:[Hv]}),gg.\u0275inj=f.cJS({providers:[{provide:Rd.Dh,useValue:UP.firebase}],imports:[Fg,hg,pg,function wT(n,...e){return{ngModule:Hy,providers:[{provide:By,useFactory:kE(n),multi:!0,deps:[f.R0b,f.zs3,Yf,...e]}]}}(()=>FE(UP.firebase)),function KT(n,...e){return{ngModule:qT,providers:[{provide:ap,useFactory:cR(n),multi:!0,deps:[f.R0b,f.zs3,Yf,Qf,[new f.FiY,Yl],...e]}]}}(()=>fI()),function I2(n,...e){return{ngModule:E2,providers:[{provide:KM,useFactory:_2(n),multi:!0,deps:[f.R0b,f.zs3,Yf,Qf,[new f.FiY,Ma],[new f.FiY,Yl],...e]}]}}(()=>C2())]}),oo().bootstrapModule(gg).catch(n=>console.error(n))},9751:(et,ve,N)=>{N.d(ve,{y:()=>me});var f=N(2961),O=N(727),X=N(8822),ae=N(9635),de=N(2416),se=N(576),xe=N(2806);let me=(()=>{class j{constructor(Ce){Ce&&(this._subscribe=Ce)}lift(Ce){const Be=new j;return Be.source=this,Be.operator=Ce,Be}subscribe(Ce,Be,He){const K=function L(j){return j&&j instanceof f.Lv||function F(j){return j&&(0,se.m)(j.next)&&(0,se.m)(j.error)&&(0,se.m)(j.complete)}(j)&&(0,O.Nn)(j)}(Ce)?Ce:new f.Hp(Ce,Be,He);return(0,xe.x)(()=>{const{operator:ye,source:fe}=this;K.add(ye?ye.call(K,fe):fe?this._subscribe(K):this._trySubscribe(K))}),K}_trySubscribe(Ce){try{return this._subscribe(Ce)}catch(Be){Ce.error(Be)}}forEach(Ce,Be){return new(Be=De(Be))((He,K)=>{const ye=new f.Hp({next:fe=>{try{Ce(fe)}catch(we){K(we),ye.unsubscribe()}},error:K,complete:He});this.subscribe(ye)})}_subscribe(Ce){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(Ce)}[X.L](){return this}pipe(...Ce){return(0,ae.U)(Ce)(this)}toPromise(Ce){return new(Ce=De(Ce))((Be,He)=>{let K;this.subscribe(ye=>K=ye,ye=>He(ye),()=>Be(K))})}}return j.create=Oe=>new j(Oe),j})();function De(j){var Oe;return null!==(Oe=j??de.v.Promise)&&void 0!==Oe?Oe:Promise}},7579:(et,ve,N)=>{N.d(ve,{x:()=>xe});var f=N(9751),O=N(727);const ae=(0,N(3888).d)(De=>function(){De(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var de=N(8737),se=N(2806);let xe=(()=>{class De extends f.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const j=new me(this,this);return j.operator=L,j}_throwIfClosed(){if(this.closed)throw new ae}next(L){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const j of this.currentObservers)j.next(L)}})}error(L){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:j}=this;for(;j.length;)j.shift().error(L)}})}complete(){(0,se.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:j,isStopped:Oe,observers:Ce}=this;return j||Oe?O.Lc:(this.currentObservers=null,Ce.push(L),new O.w0(()=>{this.currentObservers=null,(0,de.P)(Ce,L)}))}_checkFinalizedStatuses(L){const{hasError:j,thrownError:Oe,isStopped:Ce}=this;j?L.error(Oe):Ce&&L.complete()}asObservable(){const L=new f.y;return L.source=this,L}}return De.create=(F,L)=>new me(F,L),De})();class me extends xe{constructor(F,L){super(),this.destination=F,this.source=L}next(F){var L,j;null===(j=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===j||j.call(L,F)}error(F){var L,j;null===(j=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===j||j.call(L,F)}complete(){var F,L;null===(L=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===L||L.call(F)}_subscribe(F){var L,j;return null!==(j=null===(L=this.source)||void 0===L?void 0:L.subscribe(F))&&void 0!==j?j:O.Lc}}},2961:(et,ve,N)=>{N.d(ve,{Hp:()=>He,Lv:()=>j});var f=N(576),O=N(727),X=N(2416),ae=N(7849);function de(){}const se=De("C",void 0,void 0);function De(be,pe,he){return{kind:be,value:pe,error:he}}var F=N(3410),L=N(2806);class j extends O.w0{constructor(pe){super(),this.isStopped=!1,pe?(this.destination=pe,(0,O.Nn)(pe)&&pe.add(this)):this.destination=we}static create(pe,he,Re){return new He(pe,he,Re)}next(pe){this.isStopped?fe(function me(be){return De("N",be,void 0)}(pe),this):this._next(pe)}error(pe){this.isStopped?fe(function xe(be){return De("E",void 0,be)}(pe),this):(this.isStopped=!0,this._error(pe))}complete(){this.isStopped?fe(se,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(pe){this.destination.next(pe)}_error(pe){try{this.destination.error(pe)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Oe=Function.prototype.bind;function Ce(be,pe){return Oe.call(be,pe)}class Be{constructor(pe){this.partialObserver=pe}next(pe){const{partialObserver:he}=this;if(he.next)try{he.next(pe)}catch(Re){K(Re)}}error(pe){const{partialObserver:he}=this;if(he.error)try{he.error(pe)}catch(Re){K(Re)}else K(pe)}complete(){const{partialObserver:pe}=this;if(pe.complete)try{pe.complete()}catch(he){K(he)}}}class He extends j{constructor(pe,he,Re){let W;if(super(),(0,f.m)(pe)||!pe)W={next:pe??void 0,error:he??void 0,complete:Re??void 0};else{let Y;this&&X.v.useDeprecatedNextContext?(Y=Object.create(pe),Y.unsubscribe=()=>this.unsubscribe(),W={next:pe.next&&Ce(pe.next,Y),error:pe.error&&Ce(pe.error,Y),complete:pe.complete&&Ce(pe.complete,Y)}):W=pe}this.destination=new Be(W)}}function K(be){X.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(be):(0,ae.h)(be)}function fe(be,pe){const{onStoppedNotification:he}=X.v;he&&F.z.setTimeout(()=>he(be,pe))}const we={closed:!0,next:de,error:function ye(be){throw be},complete:de}},727:(et,ve,N)=>{N.d(ve,{Lc:()=>se,w0:()=>de,Nn:()=>xe});var f=N(576);const X=(0,N(3888).d)(De=>function(L){De(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((j,Oe)=>`${Oe+1}) ${j.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var ae=N(8737);class de{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const Ce of L)Ce.remove(this);else L.remove(this);const{initialTeardown:j}=this;if((0,f.m)(j))try{j()}catch(Ce){F=Ce instanceof X?Ce.errors:[Ce]}const{_finalizers:Oe}=this;if(Oe){this._finalizers=null;for(const Ce of Oe)try{me(Ce)}catch(Be){F=F??[],Be instanceof X?F=[...F,...Be.errors]:F.push(Be)}}if(F)throw new X(F)}}add(F){var L;if(F&&F!==this)if(this.closed)me(F);else{if(F instanceof de){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(F)}}_hasParent(F){const{_parentage:L}=this;return L===F||Array.isArray(L)&&L.includes(F)}_addParent(F){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(F),L):L?[L,F]:F}_removeParent(F){const{_parentage:L}=this;L===F?this._parentage=null:Array.isArray(L)&&(0,ae.P)(L,F)}remove(F){const{_finalizers:L}=this;L&&(0,ae.P)(L,F),F instanceof de&&F._removeParent(this)}}de.EMPTY=(()=>{const De=new de;return De.closed=!0,De})();const se=de.EMPTY;function xe(De){return De instanceof de||De&&"closed"in De&&(0,f.m)(De.remove)&&(0,f.m)(De.add)&&(0,f.m)(De.unsubscribe)}function me(De){(0,f.m)(De)?De():De.unsubscribe()}},2416:(et,ve,N)=>{N.d(ve,{v:()=>f});const f={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(et,ve,N)=>{N.d(ve,{E:()=>O});const O=new(N(9751).y)(de=>de.complete())},8996:(et,ve,N)=>{N.d(ve,{D:()=>pe});var f=N(8421),O=N(5363),X=N(9468),se=N(9751),me=N(2202),De=N(576),F=N(9672);function j(he,Re){if(!he)throw new Error("Iterable cannot be null");return new se.y(W=>{(0,F.f)(W,Re,()=>{const Y=he[Symbol.asyncIterator]();(0,F.f)(W,Re,()=>{Y.next().then(ue=>{ue.done?W.complete():W.next(ue.value)})},0,!0)})})}var Oe=N(3670),Ce=N(8239),Be=N(1144),He=N(6495),K=N(2206),ye=N(4532),fe=N(3260);function pe(he,Re){return Re?function be(he,Re){if(null!=he){if((0,Oe.c)(he))return function ae(he,Re){return(0,f.Xf)(he).pipe((0,X.R)(Re),(0,O.Q)(Re))}(he,Re);if((0,Be.z)(he))return function xe(he,Re){return new se.y(W=>{let Y=0;return Re.schedule(function(){Y===he.length?W.complete():(W.next(he[Y++]),W.closed||this.schedule())})})}(he,Re);if((0,Ce.t)(he))return function de(he,Re){return(0,f.Xf)(he).pipe((0,X.R)(Re),(0,O.Q)(Re))}(he,Re);if((0,K.D)(he))return j(he,Re);if((0,He.T)(he))return function L(he,Re){return new se.y(W=>{let Y;return(0,F.f)(W,Re,()=>{Y=he[me.h](),(0,F.f)(W,Re,()=>{let ue,$;try{({value:ue,done:$}=Y.next())}catch(B){return void W.error(B)}$?W.complete():W.next(ue)},0,!0)}),()=>(0,De.m)(Y?.return)&&Y.return()})}(he,Re);if((0,fe.L)(he))return function we(he,Re){return j((0,fe.Q)(he),Re)}(he,Re)}throw(0,ye.z)(he)}(he,Re):(0,f.Xf)(he)}},8421:(et,ve,N)=>{N.d(ve,{Xf:()=>Oe});var f=N(655),O=N(1144),X=N(8239),ae=N(9751),de=N(3670),se=N(2206),xe=N(4532),me=N(6495),De=N(3260),F=N(576),L=N(7849),j=N(8822);function Oe(be){if(be instanceof ae.y)return be;if(null!=be){if((0,de.c)(be))return function Ce(be){return new ae.y(pe=>{const he=be[j.L]();if((0,F.m)(he.subscribe))return he.subscribe(pe);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(be);if((0,O.z)(be))return function Be(be){return new ae.y(pe=>{for(let he=0;he<be.length&&!pe.closed;he++)pe.next(be[he]);pe.complete()})}(be);if((0,X.t)(be))return function He(be){return new ae.y(pe=>{be.then(he=>{pe.closed||(pe.next(he),pe.complete())},he=>pe.error(he)).then(null,L.h)})}(be);if((0,se.D)(be))return ye(be);if((0,me.T)(be))return function K(be){return new ae.y(pe=>{for(const he of be)if(pe.next(he),pe.closed)return;pe.complete()})}(be);if((0,De.L)(be))return function fe(be){return ye((0,De.Q)(be))}(be)}throw(0,xe.z)(be)}function ye(be){return new ae.y(pe=>{(function we(be,pe){var he,Re,W,Y;return(0,f.mG)(this,void 0,void 0,function*(){try{for(he=(0,f.KL)(be);!(Re=yield he.next()).done;)if(pe.next(Re.value),pe.closed)return}catch(ue){W={error:ue}}finally{try{Re&&!Re.done&&(Y=he.return)&&(yield Y.call(he))}finally{if(W)throw W.error}}pe.complete()})})(be,pe).catch(he=>pe.error(he))})}},6451:(et,ve,N)=>{N.d(ve,{T:()=>se});var f=N(8189),O=N(8421),X=N(515),ae=N(7669),de=N(8996);function se(...xe){const me=(0,ae.yG)(xe),De=(0,ae._6)(xe,1/0),F=xe;return F.length?1===F.length?(0,O.Xf)(F[0]):(0,f.J)(De)((0,de.D)(F,me)):X.E}},5403:(et,ve,N)=>{N.d(ve,{x:()=>O});var f=N(2961);function O(ae,de,se,xe,me){return new X(ae,de,se,xe,me)}class X extends f.Lv{constructor(de,se,xe,me,De,F){super(de),this.onFinalize=De,this.shouldUnsubscribe=F,this._next=se?function(L){try{se(L)}catch(j){de.error(j)}}:super._next,this._error=me?function(L){try{me(L)}catch(j){de.error(j)}finally{this.unsubscribe()}}:super._error,this._complete=xe?function(){try{xe()}catch(L){de.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var de;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:se}=this;super.unsubscribe(),!se&&(null===(de=this.onFinalize)||void 0===de||de.call(this))}}}},4004:(et,ve,N)=>{N.d(ve,{U:()=>X});var f=N(4482),O=N(5403);function X(ae,de){return(0,f.e)((se,xe)=>{let me=0;se.subscribe((0,O.x)(xe,De=>{xe.next(ae.call(de,De,me++))}))})}},8189:(et,ve,N)=>{N.d(ve,{J:()=>X});var f=N(5577),O=N(4671);function X(ae=1/0){return(0,f.z)(O.y,ae)}},5577:(et,ve,N)=>{N.d(ve,{z:()=>me});var f=N(4004),O=N(8421),X=N(4482),ae=N(9672),de=N(5403),xe=N(576);function me(De,F,L=1/0){return(0,xe.m)(F)?me((j,Oe)=>(0,f.U)((Ce,Be)=>F(j,Ce,Oe,Be))((0,O.Xf)(De(j,Oe))),L):("number"==typeof F&&(L=F),(0,X.e)((j,Oe)=>function se(De,F,L,j,Oe,Ce,Be,He){const K=[];let ye=0,fe=0,we=!1;const be=()=>{we&&!K.length&&!ye&&F.complete()},pe=Re=>ye<j?he(Re):K.push(Re),he=Re=>{Ce&&F.next(Re),ye++;let W=!1;(0,O.Xf)(L(Re,fe++)).subscribe((0,de.x)(F,Y=>{Oe?.(Y),Ce?pe(Y):F.next(Y)},()=>{W=!0},void 0,()=>{if(W)try{for(ye--;K.length&&ye<j;){const Y=K.shift();Be?(0,ae.f)(F,Be,()=>he(Y)):he(Y)}be()}catch(Y){F.error(Y)}}))};return De.subscribe((0,de.x)(F,pe,()=>{we=!0,be()})),()=>{He?.()}}(j,Oe,De,L)))}},5363:(et,ve,N)=>{N.d(ve,{Q:()=>ae});var f=N(9672),O=N(4482),X=N(5403);function ae(de,se=0){return(0,O.e)((xe,me)=>{xe.subscribe((0,X.x)(me,De=>(0,f.f)(me,de,()=>me.next(De),se),()=>(0,f.f)(me,de,()=>me.complete(),se),De=>(0,f.f)(me,de,()=>me.error(De),se)))})}},3099:(et,ve,N)=>{N.d(ve,{B:()=>de});var f=N(8421),O=N(7579),X=N(2961),ae=N(4482);function de(xe={}){const{connector:me=(()=>new O.x),resetOnError:De=!0,resetOnComplete:F=!0,resetOnRefCountZero:L=!0}=xe;return j=>{let Oe,Ce,Be,He=0,K=!1,ye=!1;const fe=()=>{Ce?.unsubscribe(),Ce=void 0},we=()=>{fe(),Oe=Be=void 0,K=ye=!1},be=()=>{const pe=Oe;we(),pe?.unsubscribe()};return(0,ae.e)((pe,he)=>{He++,!ye&&!K&&fe();const Re=Be=Be??me();he.add(()=>{He--,0===He&&!ye&&!K&&(Ce=se(be,L))}),Re.subscribe(he),!Oe&&He>0&&(Oe=new X.Hp({next:W=>Re.next(W),error:W=>{ye=!0,fe(),Ce=se(we,De,W),Re.error(W)},complete:()=>{K=!0,fe(),Ce=se(we,F),Re.complete()}}),(0,f.Xf)(pe).subscribe(Oe))})(j)}}function se(xe,me,...De){if(!0===me)return void xe();if(!1===me)return;const F=new X.Hp({next:()=>{F.unsubscribe(),xe()}});return me(...De).subscribe(F)}},9468:(et,ve,N)=>{N.d(ve,{R:()=>O});var f=N(4482);function O(X,ae=0){return(0,f.e)((de,se)=>{se.add(X.schedule(()=>de.subscribe(se),ae))})}},3410:(et,ve,N)=>{N.d(ve,{z:()=>f});const f={setTimeout(O,X,...ae){const{delegate:de}=f;return de?.setTimeout?de.setTimeout(O,X,...ae):setTimeout(O,X,...ae)},clearTimeout(O){const{delegate:X}=f;return(X?.clearTimeout||clearTimeout)(O)},delegate:void 0}},2202:(et,ve,N)=>{N.d(ve,{h:()=>O});const O=function f(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(et,ve,N)=>{N.d(ve,{L:()=>f});const f="function"==typeof Symbol&&Symbol.observable||"@@observable"},7669:(et,ve,N)=>{N.d(ve,{_6:()=>se,jO:()=>ae,yG:()=>de});var f=N(576);function X(xe){return xe[xe.length-1]}function ae(xe){return(0,f.m)(X(xe))?xe.pop():void 0}function de(xe){return function O(xe){return xe&&(0,f.m)(xe.schedule)}(X(xe))?xe.pop():void 0}function se(xe,me){return"number"==typeof X(xe)?xe.pop():me}},8737:(et,ve,N)=>{function f(O,X){if(O){const ae=O.indexOf(X);0<=ae&&O.splice(ae,1)}}N.d(ve,{P:()=>f})},3888:(et,ve,N)=>{function f(O){const ae=O(de=>{Error.call(de),de.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}N.d(ve,{d:()=>f})},2806:(et,ve,N)=>{N.d(ve,{O:()=>ae,x:()=>X});var f=N(2416);let O=null;function X(de){if(f.v.useDeprecatedSynchronousErrorHandling){const se=!O;if(se&&(O={errorThrown:!1,error:null}),de(),se){const{errorThrown:xe,error:me}=O;if(O=null,xe)throw me}}else de()}function ae(de){f.v.useDeprecatedSynchronousErrorHandling&&O&&(O.errorThrown=!0,O.error=de)}},9672:(et,ve,N)=>{function f(O,X,ae,de=0,se=!1){const xe=X.schedule(function(){ae(),se?O.add(this.schedule(null,de)):this.unsubscribe()},de);if(O.add(xe),!se)return xe}N.d(ve,{f:()=>f})},4671:(et,ve,N)=>{function f(O){return O}N.d(ve,{y:()=>f})},1144:(et,ve,N)=>{N.d(ve,{z:()=>f});const f=O=>O&&"number"==typeof O.length&&"function"!=typeof O},2206:(et,ve,N)=>{N.d(ve,{D:()=>O});var f=N(576);function O(X){return Symbol.asyncIterator&&(0,f.m)(X?.[Symbol.asyncIterator])}},576:(et,ve,N)=>{function f(O){return"function"==typeof O}N.d(ve,{m:()=>f})},3670:(et,ve,N)=>{N.d(ve,{c:()=>X});var f=N(8822),O=N(576);function X(ae){return(0,O.m)(ae[f.L])}},6495:(et,ve,N)=>{N.d(ve,{T:()=>X});var f=N(2202),O=N(576);function X(ae){return(0,O.m)(ae?.[f.h])}},8239:(et,ve,N)=>{N.d(ve,{t:()=>O});var f=N(576);function O(X){return(0,f.m)(X?.then)}},3260:(et,ve,N)=>{N.d(ve,{L:()=>ae,Q:()=>X});var f=N(655),O=N(576);function X(de){return(0,f.FC)(this,arguments,function*(){const xe=de.getReader();try{for(;;){const{value:me,done:De}=yield(0,f.qq)(xe.read());if(De)return yield(0,f.qq)(void 0);yield yield(0,f.qq)(me)}}finally{xe.releaseLock()}})}function ae(de){return(0,O.m)(de?.getReader)}},4482:(et,ve,N)=>{N.d(ve,{A:()=>O,e:()=>X});var f=N(576);function O(ae){return(0,f.m)(ae?.lift)}function X(ae){return de=>{if(O(de))return de.lift(function(se){try{return ae(se,this)}catch(xe){this.error(xe)}});throw new TypeError("Unable to lift unknown Observable type")}}},9635:(et,ve,N)=>{N.d(ve,{U:()=>X,z:()=>O});var f=N(4671);function O(...ae){return X(ae)}function X(ae){return 0===ae.length?f.y:1===ae.length?ae[0]:function(se){return ae.reduce((xe,me)=>me(xe),se)}}},7849:(et,ve,N)=>{N.d(ve,{h:()=>X});var f=N(2416),O=N(3410);function X(ae){O.z.setTimeout(()=>{const{onUnhandledError:de}=f.v;if(!de)throw ae;de(ae)})}},4532:(et,ve,N)=>{function f(O){return new TypeError(`You provided ${null!==O&&"object"==typeof O?"an invalid object":`'${O}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}N.d(ve,{z:()=>f})},655:(et,ve,N)=>{function ae($,B){var ee={};for(var Z in $)Object.prototype.hasOwnProperty.call($,Z)&&B.indexOf(Z)<0&&(ee[Z]=$[Z]);if(null!=$&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(Z=Object.getOwnPropertySymbols($);Te<Z.length;Te++)B.indexOf(Z[Te])<0&&Object.prototype.propertyIsEnumerable.call($,Z[Te])&&(ee[Z[Te]]=$[Z[Te]])}return ee}function me($,B,ee,Z){return new(ee||(ee=Promise))(function(Ae,Ke){function jt(Tt){try{ct(Z.next(Tt))}catch(st){Ke(st)}}function Xt(Tt){try{ct(Z.throw(Tt))}catch(st){Ke(st)}}function ct(Tt){Tt.done?Ae(Tt.value):function Te(Ae){return Ae instanceof ee?Ae:new ee(function(Ke){Ke(Ae)})}(Tt.value).then(jt,Xt)}ct((Z=Z.apply($,B||[])).next())})}function K($){return this instanceof K?(this.v=$,this):new K($)}function ye($,B,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,Z=ee.apply($,B||[]),Ae=[];return Te={},Ke("next"),Ke("throw"),Ke("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function Ke(qt){Z[qt]&&(Te[qt]=function(dr){return new Promise(function(Vt,Je){Ae.push([qt,dr,Vt,Je])>1||jt(qt,dr)})})}function jt(qt,dr){try{!function Xt(qt){qt.value instanceof K?Promise.resolve(qt.value.v).then(ct,Tt):st(Ae[0][2],qt)}(Z[qt](dr))}catch(Vt){st(Ae[0][3],Vt)}}function ct(qt){jt("next",qt)}function Tt(qt){jt("throw",qt)}function st(qt,dr){qt(dr),Ae.shift(),Ae.length&&jt(Ae[0][0],Ae[0][1])}}function we($){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,B=$[Symbol.asyncIterator];return B?B.call($):($=function j($){var B="function"==typeof Symbol&&Symbol.iterator,ee=B&&$[B],Z=0;if(ee)return ee.call($);if($&&"number"==typeof $.length)return{next:function(){return $&&Z>=$.length&&($=void 0),{value:$&&$[Z++],done:!$}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")}($),ee={},Z("next"),Z("throw"),Z("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function Z(Ae){ee[Ae]=$[Ae]&&function(Ke){return new Promise(function(jt,Xt){!function Te(Ae,Ke,jt,Xt){Promise.resolve(Xt).then(function(ct){Ae({value:ct,done:jt})},Ke)}(jt,Xt,(Ke=$[Ae](Ke)).done,Ke.value)})}}}N.d(ve,{FC:()=>ye,KL:()=>we,_T:()=>ae,mG:()=>me,qq:()=>K})},4650:(et,ve,N)=>{N.d(ve,{$8M:()=>Uc,$WT:()=>fs,$Z:()=>dw,AFp:()=>iS,ALo:()=>qu,AaK:()=>me,CHM:()=>Dg,CRH:()=>d_,CZH:()=>__,CqO:()=>Vw,D6c:()=>OI,EJc:()=>wR,EpF:()=>Fw,F4k:()=>Lw,FYo:()=>Im,FiY:()=>Cs,GfV:()=>B0,Gpc:()=>L,JOm:()=>ot,KtG:()=>Cg,LFG:()=>Ne,LSH:()=>lm,Lbi:()=>_R,Lck:()=>nR,MMx:()=>Wy,NdJ:()=>Uw,OlP:()=>Ot,P3R:()=>R0,PXZ:()=>C_,Q6J:()=>ty,QGY:()=>sy,Qsj:()=>SC,R0b:()=>Zr,RDi:()=>sC,Rgc:()=>Sa,SBq:()=>Su,Sil:()=>IR,Suo:()=>l_,TTD:()=>Ha,TgZ:()=>Ef,VKq:()=>jE,X6Q:()=>II,XFs:()=>rt,Xpm:()=>Gs,Xts:()=>hm,Y36:()=>Mu,YKP:()=>ET,YNc:()=>kw,Yjl:()=>Bo,Yz7:()=>Je,Z0I:()=>mn,ZZ4:()=>bp,_Bn:()=>FE,_UZ:()=>ry,_Vd:()=>Tu,_c5:()=>RI,_uU:()=>Pf,aQg:()=>rd,c2e:()=>uS,cJS:()=>Qr,cg1:()=>by,dDg:()=>lp,dqk:()=>dt,eFA:()=>_I,ekj:()=>hy,eoX:()=>Zn,f3M:()=>Ue,g9A:()=>oS,h0i:()=>Gl,hGG:()=>NI,hij:()=>ju,iGM:()=>c_,ifc:()=>Ft,ip1:()=>rS,jDz:()=>Xf,kL8:()=>IE,lG2:()=>kd,lqb:()=>ga,lri:()=>mI,n5z:()=>Vc,oAB:()=>zs,oxw:()=>oy,q4F:()=>$0,qLn:()=>_l,qOj:()=>gf,qZA:()=>If,rWj:()=>ar,sBO:()=>fS,s_b:()=>Bs,soG:()=>v_,tb:()=>aS,tp0:()=>it,uIk:()=>ey,vHH:()=>K,vpe:()=>ss,wAp:()=>Xe,xi3:()=>WE,xp6:()=>wl,z2F:()=>Ju,zSh:()=>wo,zs3:()=>Eo});var f=N(7579),O=N(727),X=N(9751),ae=N(6451),de=N(3099);function se(i){for(let o in i)if(i[o]===se)return o;throw Error("Could not find renamed property on target object.")}function xe(i,o){for(const a in o)o.hasOwnProperty(a)&&!i.hasOwnProperty(a)&&(i[a]=o[a])}function me(i){if("string"==typeof i)return i;if(Array.isArray(i))return"["+i.map(me).join(", ")+"]";if(null==i)return""+i;if(i.overriddenName)return`${i.overriddenName}`;if(i.name)return`${i.name}`;const o=i.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function De(i,o){return null==i||""===i?null===o?"":o:null==o||""===o?i:i+" "+o}const F=se({__forward_ref__:se});function L(i){return i.__forward_ref__=L,i.toString=function(){return me(this())},i}function j(i){return Oe(i)?i():i}function Oe(i){return"function"==typeof i&&i.hasOwnProperty(F)&&i.__forward_ref__===L}function Ce(i){return i&&!!i.\u0275providers}const He="https://g.co/ng/security#xss";class K extends Error{constructor(o,a){super(function ye(i,o){return`NG0${Math.abs(i)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function fe(i){return"string"==typeof i?i:null==i?"":String(i)}function Re(i,o){throw new K(-201,!1)}function Tt(i,o){null==i&&function st(i,o,a,c){throw new Error(`ASSERTION ERROR: ${i}`+(null==c?"":` [Expected=> ${a} ${c} ${o} <=Actual]`))}(o,i,null,"!=")}function Je(i){return{token:i.token,providedIn:i.providedIn||null,factory:i.factory,value:void 0}}function Qr(i){return{providers:i.providers||[],imports:i.imports||[]}}function Vi(i){return us(i,Ui)||us(i,dn)}function mn(i){return null!==Vi(i)}function us(i,o){return i.hasOwnProperty(o)?i[o]:null}function vi(i){return i&&(i.hasOwnProperty(ls)||i.hasOwnProperty(Ir))?i[ls]:null}const Ui=se({\u0275prov:se}),ls=se({\u0275inj:se}),dn=se({ngInjectableDef:se}),Ir=se({ngInjectorDef:se});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let wi;function Jn(i){const o=wi;return wi=i,o}function Dr(i,o,a){const c=Vi(i);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:a&rt.Optional?null:void 0!==o?o:void Re(me(i))}const dt=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),er={},Dn="__NG_DI_FLAG__",di="ngTempTokenPath",$i=/\n/gm,Uo="__source";let Rt;function Jr(i){const o=Rt;return Rt=i,o}function ji(i,o=rt.Default){if(void 0===Rt)throw new K(-203,!1);return null===Rt?Dr(i,void 0,o):Rt.get(i,o&rt.Optional?null:void 0,o)}function Ne(i,o=rt.Default){return(function Ei(){return wi}()||ji)(j(i),o)}function Ue(i,o=rt.Default){return Ne(i,tt(o))}function tt(i){return typeof i>"u"||"number"==typeof i?i:0|(i.optional&&8)|(i.host&&1)|(i.self&&2)|(i.skipSelf&&4)}function mt(i){const o=[];for(let a=0;a<i.length;a++){const c=j(i[a]);if(Array.isArray(c)){if(0===c.length)throw new K(900,!1);let d,h=rt.Default;for(let y=0;y<c.length;y++){const w=c[y],I=k(w);"number"==typeof I?-1===I?d=w.token:h|=I:d=w}o.push(Ne(d,h))}else o.push(Ne(c))}return o}function Pt(i,o){return i[Dn]=o,i.prototype[Dn]=o,i}function k(i){return i[Dn]}function oe(i){return{toString:i}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),Ft=(()=>{return(i=Ft||(Ft={}))[i.Emulated=0]="Emulated",i[i.None=2]="None",i[i.ShadowDom=3]="ShadowDom",Ft;var i})();const en={},ut=[],xn=se({\u0275cmp:se}),It=se({\u0275dir:se}),Cr=se({\u0275pipe:se}),ds=se({\u0275mod:se}),br=se({\u0275fac:se}),hs=se({__NG_ELEMENT_ID__:se});let mg=0;function Gs(i){return oe(()=>{const a=!0===i.standalone,c={},d={type:i.type,providersResolver:null,decls:i.decls,vars:i.vars,factory:null,template:i.template||null,consts:i.consts||null,ngContentSelectors:i.ngContentSelectors,hostBindings:i.hostBindings||null,hostVars:i.hostVars||0,hostAttrs:i.hostAttrs||null,contentQueries:i.contentQueries||null,declaredInputs:c,inputs:null,outputs:null,exportAs:i.exportAs||null,onPush:i.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&i.dependencies||null,getStandaloneInjector:null,selectors:i.selectors||ut,viewQuery:i.viewQuery||null,features:i.features||null,data:i.data||{},encapsulation:i.encapsulation||Ft.Emulated,id:"c"+mg++,styles:i.styles||ut,_:null,setInput:null,schemas:i.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},h=i.dependencies,y=i.features;return d.inputs=Ic(i.inputs,c),d.outputs=Ic(i.outputs),y&&y.forEach(w=>w(d)),d.directiveDefs=h?()=>("function"==typeof h?h():h).map(Nd).filter(Rn):null,d.pipeDefs=h?()=>("function"==typeof h?h():h).map($n).filter(Rn):null,d})}function Nd(i){return Ut(i)||rn(i)}function Rn(i){return null!==i}function zs(i){return oe(()=>({type:i.type,bootstrap:i.bootstrap||ut,declarations:i.declarations||ut,imports:i.imports||ut,exports:i.exports||ut,transitiveCompileScopes:null,schemas:i.schemas||null,id:i.id||null}))}function Ic(i,o){if(null==i)return en;const a={};for(const c in i)if(i.hasOwnProperty(c)){let d=i[c],h=d;Array.isArray(d)&&(h=d[1],d=d[0]),a[d]=c,o&&(o[d]=h)}return a}const kd=Gs;function Bo(i){return{type:i.type,name:i.name,factory:null,pure:!1!==i.pure,standalone:!0===i.standalone,onDestroy:i.type.prototype.ngOnDestroy||null}}function Ut(i){return i[xn]||null}function rn(i){return i[It]||null}function $n(i){return i[Cr]||null}function fs(i){const o=Ut(i)||rn(i)||$n(i);return null!==o&&o.standalone}function hr(i,o){const a=i[ds]||null;if(!a&&!0===o)throw new Error(`Type ${me(i)} does not have '\u0275mod' property.`);return a}function Ar(i){return Array.isArray(i)&&"object"==typeof i[1]}function Mr(i){return Array.isArray(i)&&!0===i[1]}function Di(i){return 0!=(4&i.flags)}function $o(i){return i.componentOffset>-1}function Ba(i){return 1==(1&i.flags)}function nr(i){return null!==i.template}function Wv(i){return 0!=(256&i[2])}function ms(i,o){return i.hasOwnProperty(br)?i[br]:null}class Qv{constructor(o,a,c){this.previousValue=o,this.currentValue=a,this.firstChange=c}isFirstChange(){return this.firstChange}}function Ha(){return Ga}function Ga(i){return i.type.prototype.ngOnChanges&&(i.setInput=Ho),Tc}function Tc(){const i=Bd(this),o=i?.current;if(o){const a=i.previous;if(a===en)i.previous=o;else for(let c in o)a[c]=o[c];i.current=null,this.ngOnChanges(o)}}function Ho(i,o,a,c){const d=this.declaredInputs[a],h=Bd(i)||function Sc(i,o){return i[za]=o}(i,{previous:en,current:null}),y=h.current||(h.current={}),w=h.previous,I=w[d];y[d]=new Qv(I&&I.currentValue,o,w===en),i[c]=o}Ha.ngInherit=!0;const za="__ngSimpleChanges__";function Bd(i){return i[za]||null}function _n(i){for(;Array.isArray(i);)i=i[0];return i}function Xs(i,o){return _n(o[i])}function jn(i,o){return _n(o[i.index])}function $d(i,o){return i.data[o]}function Hn(i,o){const a=o[i];return Ar(a)?a:a[0]}function _s(i){return 64==(64&i[2])}function bi(i,o){return null==o?null:i[o]}function jd(i){i[18]=0}function zo(i,o){i[5]+=o;let a=i,c=i[3];for(;null!==c&&(1===o&&1===a[5]||-1===o&&0===a[5]);)c[5]+=o,a=c,c=c[3]}const pt={lFrame:Mg(null),bindingsEnabled:!0};function Hd(){return pt.bindingsEnabled}function ne(){return pt.lFrame.lView}function Nt(){return pt.lFrame.tView}function Dg(i){return pt.lFrame.contextLView=i,i[8]}function Cg(i){return pt.lFrame.contextLView=null,i}function Tn(){let i=bg();for(;null!==i&&64===i.type;)i=i.parent;return i}function bg(){return pt.lFrame.currentTNode}function hi(i,o){const a=pt.lFrame;a.currentTNode=i,a.isParent=o}function Ka(){return pt.lFrame.isParent}function rr(){const i=pt.lFrame;let o=i.bindingRootIndex;return-1===o&&(o=i.bindingRootIndex=i.tView.bindingStartIndex),o}function vs(){return pt.lFrame.bindingIndex++}function Kd(i,o){const a=pt.lFrame;a.bindingIndex=a.bindingRootIndex=i,zi(o)}function zi(i){pt.lFrame.currentDirectiveIndex=i}function Sg(){return pt.lFrame.currentQueryIndex}function Zd(i){pt.lFrame.currentQueryIndex=i}function e0(i){const o=i[1];return 2===o.type?o.declTNode:1===o.type?i[6]:null}function Ag(i,o,a){if(a&rt.SkipSelf){let d=o,h=i;for(;!(d=d.parent,null!==d||a&rt.Host||(d=e0(h),null===d||(h=h[15],10&d.type))););if(null===d)return!1;o=d,i=h}const c=pt.lFrame=t0();return c.currentTNode=o,c.lView=i,!0}function Yd(i){const o=t0(),a=i[1];pt.lFrame=o,o.currentTNode=a.firstChild,o.lView=i,o.tView=a,o.contextLView=i,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function t0(){const i=pt.lFrame,o=null===i?null:i.child;return null===o?Mg(i):o}function Mg(i){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:i,child:null,inI18n:!1};return null!==i&&(i.child=o),o}function xg(){const i=pt.lFrame;return pt.lFrame=i.parent,i.currentTNode=null,i.lView=null,i}const n0=xg;function Rg(){const i=xg();i.isParent=!0,i.tView=null,i.selectedIndex=-1,i.contextLView=null,i.elementDepthCount=0,i.currentDirectiveIndex=-1,i.currentNamespace=null,i.bindingRootIndex=-1,i.bindingIndex=-1,i.currentQueryIndex=0}function gr(){return pt.lFrame.selectedIndex}function Ti(i){pt.lFrame.selectedIndex=i}function zt(){const i=pt.lFrame;return $d(i.tView,i.selectedIndex)}function qo(i,o){for(let a=o.directiveStart,c=o.directiveEnd;a<c;a++){const h=i.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:C,ngOnDestroy:S}=h;y&&(i.contentHooks||(i.contentHooks=[])).push(-a,y),w&&((i.contentHooks||(i.contentHooks=[])).push(a,w),(i.contentCheckHooks||(i.contentCheckHooks=[])).push(a,w)),I&&(i.viewHooks||(i.viewHooks=[])).push(-a,I),C&&((i.viewHooks||(i.viewHooks=[])).push(a,C),(i.viewCheckHooks||(i.viewCheckHooks=[])).push(a,C)),null!=S&&(i.destroyHooks||(i.destroyHooks=[])).push(a,S)}}function Qa(i,o,a){Xd(i,o,3,a)}function Si(i,o,a,c){(3&i[2])===a&&Xd(i,o,a,c)}function Wi(i,o){let a=i[2];(3&a)===o&&(a&=2047,a+=1,i[2]=a)}function Xd(i,o,a,c){const h=c??-1,y=o.length-1;let w=0;for(let I=void 0!==c?65535&i[18]:0;I<y;I++)if("number"==typeof o[I+1]){if(w=o[I],null!=c&&w>=c)break}else o[I]<0&&(i[18]+=65536),(w<h||-1==h)&&(Ja(i,a,o,I),i[18]=(4294901760&i[18])+I+2),I++}function Ja(i,o,a,c){const d=a[c]<0,h=a[c+1],w=i[d?-a[c]:a[c]];if(d){if(i[2]>>11<i[18]>>16&&(3&i[2])===o){i[2]+=2048;try{h.call(w)}finally{}}}else try{h.call(w)}finally{}}class Ko{constructor(o,a,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=c}}function ws(i,o,a){let c=0;for(;c<a.length;){const d=a[c];if("number"==typeof d){if(0!==d)break;c++;const h=a[c++],y=a[c++],w=a[c++];i.setAttribute(o,y,w,h)}else{const h=d,y=a[++c];eu(h)?i.setProperty(o,h,y):i.setAttribute(o,h,y),c++}}return c}function Yo(i){return 3===i||4===i||6===i}function eu(i){return 64===i.charCodeAt(0)}function Ai(i,o){if(null!==o&&0!==o.length)if(null===i||0===i.length)i=o.slice();else{let a=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?a=d:0===a||Pc(i,a,d,null,-1===a||2===a?o[++c]:null)}}return i}function Pc(i,o,a,c,d){let h=0,y=i.length;if(-1===o)y=-1;else for(;h<i.length;){const w=i[h++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=h-1;break}}}for(;h<i.length;){const w=i[h];if("number"==typeof w)break;if(w===a){if(null===c)return void(null!==d&&(i[h+1]=d));if(c===i[h+1])return void(i[h+2]=d)}h++,null!==c&&h++,null!==d&&h++}-1!==y&&(i.splice(y,0,o),h=y+1),i.splice(h++,0,a),null!==c&&i.splice(h++,0,c),null!==d&&i.splice(h++,0,d)}function Fc(i){return-1!==i}function Qo(i){return 32767&i}function Es(i,o){let a=function Og(i){return i>>16}(i),c=o;for(;a>0;)c=c[15],a--;return c}let tu=!0;function fi(i){const o=tu;return tu=i,o}let th=0;const Rr={};function io(i,o){const a=rh(i,o);if(-1!==a)return a;const c=o[1];c.firstCreatePass&&(i.injectorIndex=o.length,iu(c.data,i),iu(o,null),iu(c.blueprint,null));const d=su(i,o),h=i.injectorIndex;if(Fc(d)){const y=Qo(d),w=Es(d,o),I=w[1].data;for(let C=0;C<8;C++)o[h+C]=w[y+C]|I[y+C]}return o[h+8]=d,h}function iu(i,o){i.push(0,0,0,0,0,0,0,0,o)}function rh(i,o){return-1===i.injectorIndex||i.parent&&i.parent.injectorIndex===i.injectorIndex||null===o[i.injectorIndex+8]?-1:i.injectorIndex}function su(i,o){if(i.parent&&-1!==i.parent.injectorIndex)return i.parent.injectorIndex;let a=0,c=null,d=o;for(;null!==d;){if(c=Lg(d),null===c)return-1;if(a++,d=d[15],-1!==c.injectorIndex)return c.injectorIndex|a<<16}return-1}function ih(i,o,a){!function nh(i,o,a){let c;"string"==typeof a?c=a.charCodeAt(0)||0:a.hasOwnProperty(hs)&&(c=a[hs]),null==c&&(c=a[hs]=th++);const d=255&c;o.data[i+(d>>5)]|=1<<d}(i,o,a)}function oh(i,o,a){if(a&rt.Optional||void 0!==i)return i;Re()}function ou(i,o,a,c){if(a&rt.Optional&&void 0===c&&(c=null),!(a&(rt.Self|rt.Host))){const d=i[9],h=Jn(void 0);try{return d?d.get(o,c,a&rt.Optional):Dr(o,c,a&rt.Optional)}finally{Jn(h)}}return oh(c,0,a)}function kg(i,o,a,c=rt.Default,d){if(null!==i){if(1024&o[2]){const y=function Fg(i,o,a,c,d){let h=i,y=o;for(;null!==h&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Lc(h,y,a,c|rt.Self,Rr);if(w!==Rr)return w;let I=h.parent;if(!I){const C=y[21];if(C){const S=C.get(a,Rr,c);if(S!==Rr)return S}I=Lg(y),y=y[15]}h=I}return d}(i,o,a,c,Rr);if(y!==Rr)return y}const h=Lc(i,o,a,c,Rr);if(h!==Rr)return h}return ou(o,a,c,d)}function Lc(i,o,a,c,d){const h=function Pg(i){if("string"==typeof i)return i.charCodeAt(0)||0;const o=i.hasOwnProperty(hs)?i[hs]:void 0;return"number"==typeof o?o>=0?255&o:ch:o}(a);if("function"==typeof h){if(!Ag(o,i,c))return c&rt.Host?oh(d,0,c):ou(o,a,c,d);try{const y=h(c);if(null!=y||c&rt.Optional)return y;Re()}finally{n0()}}else if("number"==typeof h){let y=null,w=rh(i,o),I=-1,C=c&rt.Host?o[16][6]:null;for((-1===w||c&rt.SkipSelf)&&(I=-1===w?su(i,o):o[w+8],-1!==I&&so(c,!1)?(y=o[1],w=Qo(I),o=Es(I,o)):w=-1);-1!==w;){const S=o[1];if(uh(h,w,S.data)){const x=ah(w,o,a,y,c,C);if(x!==Rr)return x}I=o[w+8],-1!==I&&so(c,o[1].data[w+8]===C)&&uh(h,w,o)?(y=S,w=Qo(I),o=Es(I,o)):w=-1}}return d}function ah(i,o,a,c,d,h){const y=o[1],w=y.data[i+8],S=au(w,y,a,null==c?$o(w)&&tu:c!=y&&0!=(3&w.type),d&rt.Host&&h===w);return null!==S?Ki(o,y,S,w):Rr}function au(i,o,a,c,d){const h=i.providerIndexes,y=o.data,w=1048575&h,I=i.directiveStart,S=h>>20,V=d?w+S:i.directiveEnd;for(let z=c?w:w+S;z<V;z++){const ie=y[z];if(z<I&&a===ie||z>=I&&ie.type===a)return z}if(d){const z=y[I];if(z&&nr(z)&&z.type===a)return I}return null}function Ki(i,o,a,c){let d=i[a];const h=o.data;if(function eh(i){return i instanceof Ko}(d)){const y=d;y.resolving&&function be(i,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${i}`:"";throw new K(-200,`Circular dependency in DI detected for ${i}${a}`)}(function we(i){return"function"==typeof i?i.name||i.toString():"object"==typeof i&&null!=i&&"function"==typeof i.type?i.type.name||i.type.toString():fe(i)}(h[a]));const w=fi(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Jn(y.injectImpl):null;Ag(i,c,rt.Default);try{d=i[a]=y.factory(void 0,h,i,c),o.firstCreatePass&&a>=c.directiveStart&&function Jd(i,o,a){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:h}=o.type.prototype;if(c){const y=Ga(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(i,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-i,d),h&&((a.preOrderHooks||(a.preOrderHooks=[])).push(i,h),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(i,h))}(a,h[a],o)}finally{null!==I&&Jn(I),fi(w),y.resolving=!1,n0()}}return d}function uh(i,o,a){return!!(a[o+(i>>5)]&1<<i)}function so(i,o){return!(i&rt.Self||i&rt.Host&&o)}class oo{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,c){return kg(this._tNode,this._lView,o,tt(c),a)}}function ch(){return new oo(Tn(),ne())}function Vc(i){return oe(()=>{const o=i.prototype.constructor,a=o[br]||ao(o),c=Object.prototype;let d=Object.getPrototypeOf(i.prototype).constructor;for(;d&&d!==c;){const h=d[br]||ao(d);if(h&&h!==a)return h;d=Object.getPrototypeOf(d)}return h=>new h})}function ao(i){return Oe(i)?()=>{const o=ao(j(i));return o&&o()}:ms(i)}function Lg(i){const o=i[1],a=o.type;return 2===a?o.declTNode:1===a?i[6]:null}function Uc(i){return function sh(i,o){if("class"===o)return i.classes;if("style"===o)return i.styles;const a=i.attrs;if(a){const c=a.length;let d=0;for(;d<c;){const h=a[d];if(Yo(h))break;if(0===h)d+=2;else if("number"==typeof h)for(d++;d<c&&"string"==typeof a[d];)d++;else{if(h===o)return a[d+1];d+=2}}}return null}(Tn(),i)}const uo="__parameters__";function Xo(i,o,a){return oe(()=>{const c=function Bc(i){return function(...a){if(i){const c=i(...a);for(const d in c)this[d]=c[d]}}}(o);function d(...h){if(this instanceof d)return c.apply(this,h),this;const y=new d(...h);return w.annotation=y,w;function w(I,C,S){const x=I.hasOwnProperty(uo)?I[uo]:Object.defineProperty(I,uo,{value:[]})[uo];for(;x.length<=S;)x.push(null);return(x[S]=x[S]||[]).push(y),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=i,d.annotationCls=d,d})}class Ot{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=Je({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Ds(i,o){i.forEach(a=>Array.isArray(a)?Ds(a,o):o(a))}function $g(i,o,a){o>=i.length?i.push(a):i.splice(o,0,a)}function jc(i,o){return o>=i.length-1?i.pop():i.splice(o,1)[0]}function mr(i,o,a){let c=ir(i,o);return c>=0?i[1|c]=a:(c=~c,function h0(i,o,a,c){let d=i.length;if(d==o)i.push(a,c);else if(1===d)i.push(c,i[0]),i[0]=a;else{for(d--,i.push(i[d-1],i[d]);d>o;)i[d]=i[d-2],d--;i[o]=a,i[o+1]=c}}(i,c,o,a)),c}function tn(i,o){const a=ir(i,o);if(a>=0)return i[1|a]}function ir(i,o){return function Mi(i,o,a){let c=0,d=i.length>>a;for(;d!==c;){const h=c+(d-c>>1),y=i[h<<a];if(o===y)return h<<a;y>o?d=h:c=h+1}return~(d<<a)}(i,o,1)}const Cs=Pt(Xo("Optional"),8),it=Pt(Xo("SkipSelf"),4);var ot=(()=>((ot=ot||{})[ot.Important=1]="Important",ot[ot.DashCase=2]="DashCase",ot))();const Zc=new Map;let Wr=0;const yu="__ngContext__";function Pn(i,o){Ar(o)?(i[yu]=o[20],function Yc(i){Zc.set(i[20],i)}(o)):i[yu]=o}function ce(i,o){return undefined(i,o)}function ze(i){const o=i[3];return Mr(o)?o[3]:o}function kr(i){return aa(i[13])}function Pr(i){return aa(i[4])}function aa(i){for(;null!==i&&!Mr(i);)i=i[4];return i}function xi(i,o,a,c,d){if(null!=c){let h,y=!1;Mr(c)?h=c:Ar(c)&&(y=!0,c=c[0]);const w=_n(c);0===i&&null!==a?null==d?p0(o,a,w):la(o,a,w,d||null,!0):1===i&&null!==a?la(o,a,w,d||null,!0):2===i?function Jg(i,o,a){const c=Rs(i,o);c&&function rl(i,o,a,c){i.removeChild(o,a,c)}(i,c,o,a)}(o,w,y):3===i&&o.destroyNode(w),null!=h&&function al(i,o,a,c,d){const h=a[7];h!==_n(a)&&xi(o,i,c,h,d);for(let w=10;w<a.length;w++){const I=a[w];ol(I[1],I,i,o,c,h)}}(o,i,h,a,d)}}function ua(i,o,a){return i.createElement(o,a)}function Nh(i,o){const a=i[9],c=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,zo(d,-1)),a.splice(c,1)}function Kg(i,o){if(i.length<=10)return;const a=10+o,c=i[a];if(c){const d=c[17];null!==d&&d!==i&&Nh(d,c),o>0&&(i[a-1][4]=c[4]);const h=jc(i,10+o);!function Mh(i,o){ol(i,o,o[11],2,null,null),o[0]=null,o[6]=null}(c[1],c);const y=h[19];null!==y&&y.detachView(h[1]),c[3]=null,c[4]=null,c[2]&=-65}return c}function Oh(i,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&ol(i,o,a,3,null,null),function Rh(i){let o=i[13];if(!o)return vu(i[1],i);for(;o;){let a=null;if(Ar(o))a=o[13];else{const c=o[10];c&&(a=c)}if(!a){for(;o&&!o[4]&&o!==i;)Ar(o)&&vu(o[1],o),o=o[3];null===o&&(o=i),Ar(o)&&vu(o[1],o),a=o&&o[4]}o=a}}(o)}}function vu(i,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function ca(i,o){let a;if(null!=i&&null!=(a=i.destroyHooks))for(let c=0;c<a.length;c+=2){const d=o[a[c]];if(!(d instanceof Ko)){const h=a[c+1];if(Array.isArray(h))for(let y=0;y<h.length;y+=2){const w=d[h[y]],I=h[y+1];try{I.call(w)}finally{}}else try{h.call(d)}finally{}}}}(i,o),function eC(i,o){const a=i.cleanup,c=o[7];let d=-1;if(null!==a)for(let h=0;h<a.length-1;h+=2)if("string"==typeof a[h]){const y=a[h+3];y>=0?c[d=y]():c[d=-y].unsubscribe(),h+=2}else{const y=c[d=a[h+1]];a[h].call(y)}if(null!==c){for(let h=d+1;h<c.length;h++)(0,c[h])();o[7]=null}}(i,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Mr(o[3])){a!==o[3]&&Nh(a,o);const c=o[19];null!==c&&c.detachView(i)}!function Th(i){Zc.delete(i[20])}(o)}}function kh(i,o,a){return function tC(i,o,a){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return a[0];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:h}=i.data[c.directiveStart+d];if(h===Ft.None||h===Ft.Emulated)return null}return jn(c,a)}}(i,o.parent,a)}function la(i,o,a,c,d){i.insertBefore(o,a,c,d)}function p0(i,o,a){i.appendChild(o,a)}function g0(i,o,a,c,d){null!==c?la(i,o,a,c,d):p0(i,o,a)}function Rs(i,o){return i.parentNode(o)}let tm,Uh,da=function Yg(i,o,a){return 40&i.type?jn(i,a):null};function il(i,o,a,c){const d=kh(i,c,o),h=o[11],w=function Zg(i,o,a){return da(i,o,a)}(c.parent||o[6],c,o);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)g0(h,d,a[I],w,!1);else g0(h,d,a,w,!1)}function Fh(i,o){if(null!==o){const a=o.type;if(3&a)return jn(o,i);if(4&a)return ha(-1,i[o.index]);if(8&a){const c=o.child;if(null!==c)return Fh(i,c);{const d=i[o.index];return Mr(d)?ha(-1,d):_n(d)}}if(32&a)return ce(o,i)()||_n(i[o.index]);{const c=Lh(i,o);return null!==c?Array.isArray(c)?c[0]:Fh(ze(i[16]),c):Fh(i,o.next)}}return null}function Lh(i,o){return null!==o?i[16][6].projection[o.projection]:null}function ha(i,o){const a=10+i+1;if(a<o.length){const c=o[a],d=c[1].firstChild;if(null!==d)return Fh(c,d)}return o[7]}function sl(i,o,a,c,d,h,y){for(;null!=a;){const w=c[a.index],I=a.type;if(y&&0===o&&(w&&Pn(_n(w),c),a.flags|=2),32!=(32&a.flags))if(8&I)sl(i,o,a.child,c,d,h,!1),xi(o,i,d,w,h);else if(32&I){const C=ce(a,c);let S;for(;S=C();)xi(o,i,d,S,h);xi(o,i,d,w,h)}else 16&I?Xg(i,o,c,a,d,h):xi(o,i,d,w,h);a=y?a.projectionNext:a.next}}function ol(i,o,a,c,d,h){sl(a,c,i.firstChild,o,d,h,!1)}function Xg(i,o,a,c,d,h){const y=a[16],I=y[6].projection[c.projection];if(Array.isArray(I))for(let C=0;C<I.length;C++)xi(o,i,d,I[C],h);else sl(i,o,I,y[3],d,h,!0)}function vo(i,o,a){""===a?i.removeAttribute(o,"class"):i.setAttribute(o,"class",a)}function ul(i,o,a){const{mergedAttrs:c,classes:d,styles:h}=a;null!==c&&ws(i,o,c),null!==d&&vo(i,o,d),null!==h&&function em(i,o,a){i.setAttribute(o,"style",a)}(i,o,h)}function sC(i){tm=i}function E0(i){return function nm(){if(void 0===Uh&&(Uh=null,dt.trustedTypes))try{Uh=dt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:i=>i,createScript:i=>i,createScriptURL:i=>i})}catch{}return Uh}()?.createScriptURL(i)||i}class oC{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}function es(i){return i instanceof oC?i.changingThisBreaksApplicationSecurity:i}function ni(i,o){const a=function wu(i){return i instanceof oC&&i.getTypeName()||null}(i);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${He})`)}return a===o}const b0=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function lm(i){const o=gl();return o?o.sanitize(fn.URL,i)||"":ni(i,"URL")?es(i):function dl(i){return(i=String(i)).match(b0)?i:"unsafe:"+i}(fe(i))}function Gh(i){const o=gl();if(o)return E0(o.sanitize(fn.RESOURCE_URL,i)||"");if(ni(i,"ResourceURL"))return E0(es(i));throw new K(904,!1)}function R0(i,o,a){return function _C(i,o){return"src"===o&&("embed"===i||"frame"===i||"iframe"===i||"media"===i||"script"===i)||"href"===o&&("base"===i||"link"===i)?Gh:lm}(o,a)(i)}function gl(){const i=ne();return i&&i[12]}const hm=new Ot("ENVIRONMENT_INITIALIZER"),pa=new Ot("INJECTOR",-1),Iu=new Ot("INJECTOR_DEF_TYPES");class N0{get(o,a=er){if(a===er){const c=new Error(`NullInjectorError: No provider for ${me(o)}!`);throw c.name="NullInjectorError",c}return a}}function ml(...i){return{\u0275providers:Du(0,i),\u0275fromNgModule:!0}}function Du(i,...o){const a=[],c=new Set;let d;return Ds(o,h=>{const y=h;fm(y,a,[],c)&&(d||(d=[]),d.push(y))}),void 0!==d&&O0(d,a),a}function O0(i,o){for(let a=0;a<i.length;a++){const{providers:d}=i[a];pm(d,h=>{o.push(h)})}}function fm(i,o,a,c){if(!(i=j(i)))return!1;let d=null,h=vi(i);const y=!h&&Ut(i);if(h||y){if(y&&!y.standalone)return!1;d=i}else{const I=i.ngModule;if(h=vi(I),!h)return!1;d=I}const w=c.has(d);if(y){if(w)return!1;if(c.add(d),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const C of I)fm(C,o,a,c)}}else{if(!h)return!1;{if(null!=h.imports&&!w){let C;c.add(d);try{Ds(h.imports,S=>{fm(S,o,a,c)&&(C||(C=[]),C.push(S))})}finally{}void 0!==C&&O0(C,o)}if(!w){const C=ms(d)||(()=>new d);o.push({provide:d,useFactory:C,deps:ut},{provide:Iu,useValue:d,multi:!0},{provide:hm,useValue:()=>Ne(d),multi:!0})}const I=h.providers;null==I||w||pm(I,S=>{o.push(S)})}}return d!==i&&void 0!==i.providers}function pm(i,o){for(let a of i)Ce(a)&&(a=a.\u0275providers),Array.isArray(a)?pm(a,o):o(a)}const wC=se({provide:String,useValue:se});function gm(i){return null!==i&&"object"==typeof i&&wC in i}function Ns(i){return"function"==typeof i}const wo=new Ot("Set Injector scope."),Wh={},IC={};let mm;function qh(){return void 0===mm&&(mm=new N0),mm}class ga{}class P0 extends ga{get destroyed(){return this._destroyed}constructor(o,a,c,d){super(),this.parent=a,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,bu(o,y=>this.processProvider(y)),this.records.set(pa,Cu(void 0,this)),d.has("environment")&&this.records.set(ga,Cu(void 0,this));const h=this.records.get(wo);null!=h&&"string"==typeof h.value&&this.scopes.add(h.value),this.injectorDefTypes=new Set(this.get(Iu.multi,ut,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=Jr(this),c=Jn(void 0);try{return o()}finally{Jr(a),Jn(c)}}get(o,a=er,c=rt.Default){this.assertNotDestroyed(),c=tt(c);const d=Jr(this),h=Jn(void 0);try{if(!(c&rt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const I=function wm(i){return"function"==typeof i||"object"==typeof i&&i instanceof Ot}(o)&&Vi(o);w=I&&this.injectableDefInScope(I)?Cu(ym(o),Wh):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(c&rt.Self?qh():this.parent).get(o,a=c&rt.Optional&&a===er?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[di]=y[di]||[]).unshift(me(o)),d)throw y;return function R(i,o,a,c){const d=i[di];throw o[Uo]&&d.unshift(o[Uo]),i.message=function U(i,o,a,c=null){i=i&&"\n"===i.charAt(0)&&"\u0275"==i.charAt(1)?i.slice(2):i;let d=me(o);if(Array.isArray(o))d=o.map(me).join(" -> ");else if("object"==typeof o){let h=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];h.push(y+":"+("string"==typeof w?JSON.stringify(w):me(w)))}d=`{${h.join(", ")}}`}return`${a}${c?"("+c+")":""}[${d}]: ${i.replace($i,"\n  ")}`}("\n"+i.message,d,a,c),i.ngTokenPath=d,i[di]=null,i}(y,o,"R3InjectorError",this.source)}throw y}finally{Jn(h),Jr(d)}}resolveInjectorInitializers(){const o=Jr(this),a=Jn(void 0);try{const c=this.get(hm.multi,ut,rt.Self);for(const d of c)d()}finally{Jr(o),Jn(a)}}toString(){const o=[],a=this.records;for(const c of a.keys())o.push(me(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new K(205,!1)}processProvider(o){let a=Ns(o=j(o))?o:j(o&&o.provide);const c=function CC(i){return gm(i)?Cu(void 0,i.useValue):Cu(_m(i),Wh)}(o);if(Ns(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Cu(void 0,Wh,!0),d.factory=()=>mt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,c)}hydrate(o,a){return a.value===Wh&&(a.value=IC,a.value=a.factory()),"object"==typeof a.value&&a.value&&function F0(i){return null!==i&&"object"==typeof i&&"function"==typeof i.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=j(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function ym(i){const o=Vi(i),a=null!==o?o.factory:ms(i);if(null!==a)return a;if(i instanceof Ot)throw new K(204,!1);if(i instanceof Function)return function DC(i){const o=i.length;if(o>0)throw function co(i,o){const a=[];for(let c=0;c<i;c++)a.push(o);return a}(o,"?"),new K(204,!1);const a=function Vo(i){const o=i&&(i[Ui]||i[dn]);if(o){const a=function cs(i){if(i.hasOwnProperty("name"))return i.name;const o=(""+i).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(i);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(i);return null!==a?()=>a.factory(i):()=>new i}(i);throw new K(204,!1)}function _m(i,o,a){let c;if(Ns(i)){const d=j(i);return ms(d)||ym(d)}if(gm(i))c=()=>j(i.useValue);else if(function k0(i){return!(!i||!i.useFactory)}(i))c=()=>i.useFactory(...mt(i.deps||[]));else if(function EC(i){return!(!i||!i.useExisting)}(i))c=()=>Ne(j(i.useExisting));else{const d=j(i&&(i.useClass||i.provide));if(!function vm(i){return!!i.deps}(i))return ms(d)||ym(d);c=()=>new d(...mt(i.deps))}return c}function Cu(i,o,a=!1){return{factory:i,value:o,multi:a?[]:void 0}}function bu(i,o){for(const a of i)Array.isArray(a)?bu(a,o):a&&Ce(a)?bu(a.\u0275providers,o):o(a)}class bC{}class L0{}class U0{resolveComponentFactory(o){throw function TC(i){const o=Error(`No component factory found for ${me(i)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=i,o}(o)}}let Tu=(()=>{class i{}return i.NULL=new U0,i})();function Kh(){return Os(Tn(),ne())}function Os(i,o){return new Su(jn(i,o))}let Su=(()=>{class i{constructor(a){this.nativeElement=a}}return i.__NG_ELEMENT_ID__=Kh,i})();function yl(i){return i instanceof Su?i.nativeElement:i}class Im{}let SC=(()=>{class i{}return i.__NG_ELEMENT_ID__=()=>function AC(){const i=ne(),a=Hn(Tn().index,i);return(Ar(a)?a:i)[11]}(),i})(),MC=(()=>{class i{}return i.\u0275prov=Je({token:i,providedIn:"root",factory:()=>null}),i})();class B0{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const $0=new B0("15.1.1"),Zh={};function Cm(i){return i.ngOriginalError}class _l{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&Cm(o);for(;a&&Cm(a);)a=Cm(a);return a||null}}function ts(i){return i instanceof Function?i():i}function q0(i,o,a){let c=i.length;for(;;){const d=i.indexOf(o,a);if(-1===d)return d;if(0===d||i.charCodeAt(d-1)<=32){const h=o.length;if(d+h===c||i.charCodeAt(d+h)<=32)return d}a=d+1}}const bm="ng-template";function Tm(i,o,a){let c=0;for(;c<i.length;){let d=i[c++];if(a&&"class"===d){if(d=i[c],-1!==q0(d.toLowerCase(),o,0))return!0}else if(1===d){for(;c<i.length&&"string"==typeof(d=i[c++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function K0(i){return 4===i.type&&i.value!==bm}function Z0(i,o,a){return o===(4!==i.type||a?i.value:bm)}function Au(i,o,a){let c=4;const d=i.attrs||[],h=function Qh(i){for(let o=0;o<i.length;o++)if(Yo(i[o]))return o;return i.length}(d);let y=!1;for(let w=0;w<o.length;w++){const I=o[w];if("number"!=typeof I){if(!y)if(4&c){if(c=2|1&c,""!==I&&!Z0(i,I,a)||""===I&&1===o.length){if(ri(c))return!1;y=!0}}else{const C=8&c?I:o[++w];if(8&c&&null!==i.attrs){if(!Tm(i.attrs,C,a)){if(ri(c))return!1;y=!0}continue}const x=FC(8&c?"class":I,d,K0(i),a);if(-1===x){if(ri(c))return!1;y=!0;continue}if(""!==C){let V;V=x>h?"":d[x+1].toLowerCase();const z=8&c?V:null;if(z&&-1!==q0(z,C,0)||2&c&&C!==V){if(ri(c))return!1;y=!0}}}}else{if(!y&&!ri(c)&&!ri(I))return!1;if(y&&ri(I))continue;y=!1,c=I|1&c}}return ri(c)||y}function ri(i){return 0==(1&i)}function FC(i,o,a,c){if(null===o)return-1;let d=0;if(c||!a){let h=!1;for(;d<o.length;){const y=o[d];if(y===i)return d;if(3===y||6===y)h=!0;else{if(1===y||2===y){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=h?1:2}return-1}return function Y0(i,o){let a=i.indexOf(4);if(a>-1)for(a++;a<i.length;){const c=i[a];if("number"==typeof c)return-1;if(c===o)return a;a++}return-1}(o,i)}function Sm(i,o,a=!1){for(let c=0;c<o.length;c++)if(Au(i,o[c],a))return!0;return!1}function J0(i,o){return i?":not("+o.trim()+")":o}function LC(i){let o=i[0],a=1,c=2,d="",h=!1;for(;a<i.length;){let y=i[a];if("string"==typeof y)if(2&c){const w=i[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&c?d+="."+y:4&c&&(d+=" "+y);else""!==d&&!ri(y)&&(o+=J0(h,d),d=""),c=y,h=h||!ri(c);a++}return""!==d&&(o+=J0(h,d)),o}const vt={};function wl(i){X0(Nt(),ne(),gr()+i,!1)}function X0(i,o,a,c){if(!c)if(3==(3&o[2])){const h=i.preOrderCheckHooks;null!==h&&Qa(o,h,a)}else{const h=i.preOrderHooks;null!==h&&Si(o,h,0,a)}Ti(a)}function iw(i,o=null,a=null,c){const d=sw(i,o,a,c);return d.resolveInjectorInitializers(),d}function sw(i,o=null,a=null,c,d=new Set){const h=[a||ut,ml(i)];return c=c||("object"==typeof i?void 0:me(i)),new P0(h,o||qh(),c||null,d)}let Eo=(()=>{class i{static create(a,c){if(Array.isArray(a))return iw({name:""},c,a,"");{const d=a.name??"";return iw({name:d},a.parent,a.providers,d)}}}return i.THROW_IF_NOT_FOUND=er,i.NULL=new N0,i.\u0275prov=Je({token:i,providedIn:"any",factory:()=>Ne(pa)}),i.__NG_ELEMENT_ID__=-1,i})();function Mu(i,o=rt.Default){const a=ne();return null===a?Ne(i,o):kg(Tn(),a,j(i),o)}function dw(){throw new Error("invalid")}function km(i,o){const a=i.contentQueries;if(null!==a)for(let c=0;c<a.length;c+=2){const h=a[c+1];if(-1!==h){const y=i.data[h];Zd(a[c]),y.contentQueries(2,o[h],h)}}}function St(i,o,a,c,d,h,y,w,I,C,S){const x=o.blueprint.slice();return x[0]=d,x[2]=76|c,(null!==S||i&&1024&i[2])&&(x[2]|=1024),jd(x),x[3]=x[15]=i,x[8]=a,x[10]=y||i&&i[10],x[11]=w||i&&i[11],x[12]=I||i&&i[12]||null,x[9]=C||i&&i[9]||null,x[6]=h,x[20]=function bh(){return Wr++}(),x[21]=S,x[16]=2==o.type?i[16]:x,x}function xu(i,o,a,c,d){let h=i.data[o];if(null===h)h=function Pm(i,o,a,c,d){const h=bg(),y=Ka(),I=i.data[o]=function eb(i,o,a,c,d,h){return{type:a,index:c,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:h,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?h:h&&h.parent,a,o,c,d);return null===i.firstChild&&(i.firstChild=I),null!==h&&(y?null==h.child&&null!==I.parent&&(h.child=I):null===h.next&&(h.next=I)),I}(i,o,a,c,d),function qd(){return pt.lFrame.inI18n}()&&(h.flags|=32);else if(64&h.type){h.type=a,h.value=c,h.attrs=d;const y=function eo(){const i=pt.lFrame,o=i.currentTNode;return i.isParent?o:o.parent}();h.injectorIndex=null===y?-1:y.injectorIndex}return hi(h,!0),h}function re(i,o,a,c){if(0===a)return-1;const d=o.length;for(let h=0;h<a;h++)o.push(c),i.blueprint.push(c),i.data.push(null);return d}function Ct(i,o,a){Yd(o);try{const c=i.viewQuery;null!==c&&Nu(1,c,a);const d=i.template;null!==d&&Ni(i,o,d,1,a),i.firstCreatePass&&(i.firstCreatePass=!1),i.staticContentQueries&&km(i,o),i.staticViewQueries&&Nu(2,i.viewQuery,a);const h=i.components;null!==h&&function Px(i,o){for(let a=0;a<o.length;a++)Iw(i,o[a])}(o,h)}catch(c){throw i.firstCreatePass&&(i.incompleteFirstPass=!0,i.firstCreatePass=!1),c}finally{o[2]&=-5,Rg()}}function ii(i,o,a,c){const d=o[2];if(128!=(128&d)){Yd(o);try{jd(o),function to(i){return pt.lFrame.bindingIndex=i}(i.bindingStartIndex),null!==a&&Ni(i,o,a,2,c);const y=3==(3&d);if(y){const C=i.preOrderCheckHooks;null!==C&&Qa(o,C,null)}else{const C=i.preOrderHooks;null!==C&&Si(o,C,0,null),Wi(o,0)}if(function ub(i){for(let o=kr(i);null!==o;o=Pr(o)){if(!o[2])continue;const a=o[9];for(let c=0;c<a.length;c++){const d=a[c];512&d[2]||zo(d[3],1),d[2]|=512}}}(o),function Ew(i){for(let o=kr(i);null!==o;o=Pr(o))for(let a=10;a<o.length;a++){const c=o[a],d=c[1];_s(c)&&ii(d,c,d.template,c[8])}}(o),null!==i.contentQueries&&km(i,o),y){const C=i.contentCheckHooks;null!==C&&Qa(o,C)}else{const C=i.contentHooks;null!==C&&Si(o,C,1),Wi(o,1)}!function QC(i,o){const a=i.hostBindingOpCodes;if(null!==a)try{for(let c=0;c<a.length;c++){const d=a[c];if(d<0)Ti(~d);else{const h=d,y=a[++c],w=a[++c];Kd(y,h),w(2,o[h])}}}finally{Ti(-1)}}(i,o);const w=i.components;null!==w&&function JC(i,o){for(let a=0;a<o.length;a++)ma(i,o[a])}(o,w);const I=i.viewQuery;if(null!==I&&Nu(2,I,c),y){const C=i.viewCheckHooks;null!==C&&Qa(o,C)}else{const C=i.viewHooks;null!==C&&Si(o,C,2),Wi(o,2)}!0===i.firstUpdatePass&&(i.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,zo(o[3],-1))}finally{Rg()}}}function Ni(i,o,a,c,d){const h=gr(),y=2&c;try{Ti(-1),y&&o.length>22&&X0(i,o,22,!1),a(c,d)}finally{Ti(h)}}function Do(i,o,a){if(Di(o)){const d=o.directiveEnd;for(let h=o.directiveStart;h<d;h++){const y=i.data[h];y.contentQueries&&y.contentQueries(1,a[h],h)}}}function ef(i,o,a){Hd()&&(function tb(i,o,a,c){const d=a.directiveStart,h=a.directiveEnd;$o(a)&&function ob(i,o,a){const c=jn(o,i),d=Fm(a),h=i[10],y=af(i,St(i,d,null,a.onPush?32:16,c,o,h,h.createRenderer(c,a),null,null,null));i[o.index]=y}(o,a,i.data[d+a.componentOffset]),i.firstCreatePass||io(a,o),Pn(c,o);const y=a.initialInputs;for(let w=d;w<h;w++){const I=i.data[w],C=Ki(o,i,w,a);Pn(C,o),null!==y&&vw(0,w-d,C,I,0,y),nr(I)&&(Hn(a.index,o)[8]=Ki(o,i,w,a))}}(i,o,a,jn(a,o)),64==(64&a.flags)&&_w(i,o,a))}function bl(i,o,a=jn){const c=o.localNames;if(null!==c){let d=o.index+1;for(let h=0;h<c.length;h+=2){const y=c[h+1],w=-1===y?a(o,i):i[y];i[d++]=w}}}function Fm(i){const o=i.tView;return null===o||o.incompleteFirstPass?i.tView=tf(1,null,i.template,i.decls,i.vars,i.directiveDefs,i.pipeDefs,i.viewQuery,i.schemas,i.consts):o}function tf(i,o,a,c,d,h,y,w,I,C){const S=22+c,x=S+d,V=function hw(i,o){const a=[];for(let c=0;c<o;c++)a.push(c<i?null:vt);return a}(S,x),z="function"==typeof C?C():C;return V[1]={type:i,blueprint:V,template:a,queries:null,viewQuery:w,declTNode:o,data:V.slice().fill(null,S),bindingStartIndex:S,expandoStartIndex:x,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof h?h():h,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:z,incompleteFirstPass:!1}}function fw(i,o,a,c){const d=uf(o);null===a?d.push(c):(d.push(a),i.firstCreatePass&&cf(i).push(c,d.length-1))}function pw(i,o,a,c){for(let d in i)if(i.hasOwnProperty(d)){a=null===a?{}:a;const h=i[d];null===c?gw(a,o,d,h):c.hasOwnProperty(d)&&gw(a,o,c[d],h)}return a}function gw(i,o,a,c){i.hasOwnProperty(a)?i[a].push(o,c):i[a]=[o,c]}function Lm(i,o){const a=Hn(o,i);16&a[2]||(a[2]|=32)}function nf(i,o,a,c){let d=!1;if(Hd()){const h=null===c?null:{"":-1},y=function jm(i,o){const a=i.directiveRegistry;let c=null,d=null;if(a)for(let h=0;h<a.length;h++){const y=a[h];if(Sm(o,y.selectors,!1))if(c||(c=[]),nr(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),c.unshift(...w,y),rf(i,o,w.length)}else c.unshift(y),rf(i,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,c,d),c.push(y)}return null===c?null:[c,d]}(i,a);let w,I;null===y?w=I=null:[w,I]=y,null!==w&&(d=!0,Um(i,o,a,w,h,I)),h&&function rb(i,o,a){if(o){const c=i.localNames=[];for(let d=0;d<o.length;d+=2){const h=a[o[d+1]];if(null==h)throw new K(-301,!1);c.push(o[d],h)}}}(a,c,h)}return a.mergedAttrs=Ai(a.mergedAttrs,a.attrs),d}function Um(i,o,a,c,d,h){for(let C=0;C<c.length;C++)ih(io(a,o),i,c[C].type);!function Hm(i,o,a){i.flags|=1,i.directiveStart=o,i.directiveEnd=o+a,i.providerIndexes=o}(a,i.data.length,c.length);for(let C=0;C<c.length;C++){const S=c[C];S.providersResolver&&S.providersResolver(S)}let y=!1,w=!1,I=re(i,o,c.length,null);for(let C=0;C<c.length;C++){const S=c[C];a.mergedAttrs=Ai(a.mergedAttrs,S.hostAttrs),sb(i,a,o,I,S),ib(I,S,d),null!==S.contentQueries&&(a.flags|=4),(null!==S.hostBindings||null!==S.hostAttrs||0!==S.hostVars)&&(a.flags|=64);const x=S.type.prototype;!y&&(x.ngOnChanges||x.ngOnInit||x.ngDoCheck)&&((i.preOrderHooks||(i.preOrderHooks=[])).push(a.index),y=!0),!w&&(x.ngOnChanges||x.ngDoCheck)&&((i.preOrderCheckHooks||(i.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function ks(i,o,a){const d=o.directiveEnd,h=i.data,y=o.attrs,w=[];let I=null,C=null;for(let S=o.directiveStart;S<d;S++){const x=h[S],V=a?a.get(x):null,ie=V?V.outputs:null;I=pw(x.inputs,S,I,V?V.inputs:null),C=pw(x.outputs,S,C,ie);const Se=null===I||null===y||K0(o)?null:ab(I,S,y);w.push(Se)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=I,o.outputs=C}(i,a,h)}function _w(i,o,a){const c=a.directiveStart,d=a.directiveEnd,h=a.index,y=function Xv(){return pt.lFrame.currentDirectiveIndex}();try{Ti(h);for(let w=c;w<d;w++){const I=i.data[w],C=o[w];zi(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&nb(I,C)}}finally{Ti(-1),zi(y)}}function nb(i,o){null!==i.hostBindings&&i.hostBindings(1,o)}function rf(i,o,a){o.componentOffset=a,(i.components||(i.components=[])).push(o.index)}function ib(i,o,a){if(a){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)a[o.exportAs[c]]=i;nr(o)&&(a[""]=i)}}function sb(i,o,a,c,d){i.data[c]=d;const h=d.factory||(d.factory=ms(d.type)),y=new Ko(h,nr(d),Mu);i.blueprint[c]=y,a[c]=y,function Bm(i,o,a,c,d){const h=d.hostBindings;if(h){let y=i.hostBindingOpCodes;null===y&&(y=i.hostBindingOpCodes=[]);const w=~o.index;(function $m(i){let o=i.length;for(;o>0;){const a=i[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,c,h)}}(i,o,c,re(i,a,d.hostVars,vt),d)}function Lr(i,o,a,c,d,h){const y=jn(i,o);!function Co(i,o,a,c,d,h,y){if(null==h)i.removeAttribute(o,d,a);else{const w=null==y?fe(h):y(h,c||"",d);i.setAttribute(o,d,w,a)}}(o[11],y,h,i.value,a,c,d)}function vw(i,o,a,c,d,h){const y=h[o];if(null!==y){const w=c.setInput;for(let I=0;I<y.length;){const C=y[I++],S=y[I++],x=y[I++];null!==w?c.setInput(a,x,C,S):a[S]=x}}}function ab(i,o,a){let c=null,d=0;for(;d<a.length;){const h=a[d];if(0!==h)if(5!==h){if("number"==typeof h)break;if(i.hasOwnProperty(h)){null===c&&(c=[]);const y=i[h];for(let w=0;w<y.length;w+=2)if(y[w]===o){c.push(h,y[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function ww(i,o,a,c){return[i,!0,!1,o,null,0,c,a,null,null]}function ma(i,o){const a=Hn(o,i);if(_s(a)){const c=a[1];48&a[2]?ii(c,a,c.template,a[8]):a[5]>0&&sf(a)}}function sf(i){for(let c=kr(i);null!==c;c=Pr(c))for(let d=10;d<c.length;d++){const h=c[d];if(_s(h))if(512&h[2]){const y=h[1];ii(y,h,y.template,h[8])}else h[5]>0&&sf(h)}const a=i[1].components;if(null!==a)for(let c=0;c<a.length;c++){const d=Hn(a[c],i);_s(d)&&d[5]>0&&sf(d)}}function Iw(i,o){const a=Hn(o,i),c=a[1];(function cb(i,o){for(let a=o.length;a<i.blueprint.length;a++)o.push(i.blueprint[a])})(c,a),Ct(c,a,a[8])}function af(i,o){return i[13]?i[14][4]=o:i[13]=o,i[14]=o,o}function Ps(i){for(;i;){i[2]|=32;const o=ze(i);if(Wv(i)&&!o)return i;i=o}return null}function Ru(i,o,a,c=!0){const d=o[10];d.begin&&d.begin();try{ii(i,o,i.template,a)}catch(y){throw c&&lf(o,y),y}finally{d.end&&d.end()}}function Nu(i,o,a){Zd(0),o(i,a)}function uf(i){return i[7]||(i[7]=[])}function cf(i){return i.cleanup||(i.cleanup=[])}function lf(i,o){const a=i[9],c=a?a.get(_l,null):null;c&&c.handleError(o)}function Tl(i,o,a,c,d){for(let h=0;h<a.length;){const y=a[h++],w=a[h++],I=o[y],C=i.data[y];null!==C.setInput?C.setInput(I,d,c,w):I[w]=d}}function df(i,o,a){let c=a?i.styles:null,d=a?i.classes:null,h=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?h=w:1==h?d=De(d,w):2==h&&(c=De(c,w+": "+o[++y]+";"))}a?i.styles=c:i.stylesWithoutHost=c,a?i.classes=d:i.classesWithoutHost=d}function hf(i,o,a,c,d=!1){for(;null!==a;){const h=o[a.index];if(null!==h&&c.push(_n(h)),Mr(h))for(let w=10;w<h.length;w++){const I=h[w],C=I[1].firstChild;null!==C&&hf(I[1],I,C,c)}const y=a.type;if(8&y)hf(i,o,a.child,c);else if(32&y){const w=ce(a,o);let I;for(;I=w();)c.push(I)}else if(16&y){const w=Lh(o,a);if(Array.isArray(w))c.push(...w);else{const I=ze(o[16]);hf(I[1],I,w,c,!0)}}a=d?a.projectionNext:a.next}return c}class Sl{get rootNodes(){const o=this._lView,a=o[1];return hf(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Mr(o)){const a=o[8],c=a?a.indexOf(this):-1;c>-1&&(Kg(o,c),jc(a,c))}this._attachedToViewContainer=!1}Oh(this._lView[1],this._lView)}onDestroy(o){fw(this._lView[1],this._lView,null,o)}markForCheck(){Ps(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){Ru(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new K(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function _o(i,o){ol(i,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new K(902,!1);this._appRef=o}}class Gm extends Sl{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;Ru(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class bw extends Tu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Ut(o);return new Al(a,this.ngModule)}}function ff(i){const o=[];for(let a in i)i.hasOwnProperty(a)&&o.push({propName:i[a],templateName:a});return o}class Sw{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,c){c=tt(c);const d=this.injector.get(o,Zh,c);return d!==Zh||a===Zh?d:this.parentInjector.get(o,a,c)}}class Al extends L0{get inputs(){return ff(this.componentDef.inputs)}get outputs(){return ff(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function VC(i){return i.map(LC).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,c,d){let h=(d=d||this.ngModule)instanceof ga?d:d?.injector;h&&null!==this.componentDef.getStandaloneInjector&&(h=this.componentDef.getStandaloneInjector(h)||h);const y=h?new Sw(o,h):o,w=y.get(Im,null);if(null===w)throw new K(407,!1);const I=y.get(MC,null),C=w.createRenderer(null,this.componentDef),S=this.componentDef.selectors[0][0]||"div",x=c?function XC(i,o,a){return i.selectRootElement(o,a===Ft.ShadowDom)}(C,c,this.componentDef.encapsulation):ua(C,S,function Tw(i){const o=i.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(S)),V=this.componentDef.onPush?288:272,z=tf(0,null,null,1,0,null,null,null,null,null),ie=St(null,z,null,V,null,null,w,C,I,y,null);let Se,ke;Yd(ie);try{const $e=this.componentDef;let nt,ge=null;$e.findHostDirectiveDefs?(nt=[],ge=new Map,$e.findHostDirectiveDefs($e,nt,ge),nt.push($e)):nt=[$e];const gt=function db(i,o){const a=i[1];return i[22]=o,xu(a,22,2,"#host",null)}(ie,x),nn=function zm(i,o,a,c,d,h,y,w){const I=d[1];!function Wm(i,o,a,c){for(const d of i)o.mergedAttrs=Ai(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(df(o,o.mergedAttrs,!0),null!==a&&ul(c,a,o))}(c,i,o,y);const C=h.createRenderer(o,a),S=St(d,Fm(a),null,a.onPush?32:16,d[i.index],i,h,C,w||null,null,null);return I.firstCreatePass&&rf(I,i,c.length-1),af(d,S),d[i.index]=S}(gt,x,$e,nt,ie,w,C);ke=$d(z,22),x&&function qm(i,o,a,c){if(c)ws(i,a,["ng-version",$0.full]);else{const{attrs:d,classes:h}=function UC(i){const o=[],a=[];let c=1,d=2;for(;c<i.length;){let h=i[c];if("string"==typeof h)2===d?""!==h&&o.push(h,i[++c]):8===d&&a.push(h);else{if(!ri(d))break;d=h}c++}return{attrs:o,classes:a}}(o.selectors[0]);d&&ws(i,a,d),h&&h.length>0&&vo(i,a,h.join(" "))}}(C,$e,x,c),void 0!==a&&function Mw(i,o,a){const c=i.projection=[];for(let d=0;d<o.length;d++){const h=a[d];c.push(null!=h?Array.from(h):null)}}(ke,this.ngContentSelectors,a),Se=function hb(i,o,a,c,d,h){const y=Tn(),w=d[1],I=jn(y,d);Um(w,d,y,a,null,c);for(let S=0;S<a.length;S++)Pn(Ki(d,w,y.directiveStart+S,y),d);_w(w,d,y),I&&Pn(I,d);const C=Ki(d,w,y.directiveStart+y.componentOffset,y);if(i[8]=d[8]=C,null!==h)for(const S of h)S(C,o);return Do(w,y,i),C}(nn,$e,nt,ge,ie,[fb]),Ct(z,ie,null)}finally{Rg()}return new lb(this.componentType,Se,Os(ke,ie),ie,ke)}}class lb extends bC{constructor(o,a,c,d,h){super(),this.location=c,this._rootLView=d,this._tNode=h,this.instance=a,this.hostView=this.changeDetectorRef=new Gm(d),this.componentType=o}setInput(o,a){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){const h=this._rootLView;Tl(h[1],h,d,o,a),Lm(h,this._tNode.index)}}get injector(){return new oo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function fb(){const i=Tn();qo(ne()[1],i)}function gf(i){let o=function pf(i){return Object.getPrototypeOf(i.prototype).constructor}(i.type),a=!0;const c=[i];for(;o;){let d;if(nr(i))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new K(903,!1);d=o.\u0275dir}if(d){if(a){c.push(d);const y=i;y.inputs=Km(i.inputs),y.declaredInputs=Km(i.declaredInputs),y.outputs=Km(i.outputs);const w=d.hostBindings;w&&yb(i,w);const I=d.viewQuery,C=d.contentQueries;if(I&&gb(i,I),C&&mb(i,C),xe(i.inputs,d.inputs),xe(i.declaredInputs,d.declaredInputs),xe(i.outputs,d.outputs),nr(d)&&d.data.animation){const S=i.data;S.animation=(S.animation||[]).concat(d.data.animation)}}const h=d.features;if(h)for(let y=0;y<h.length;y++){const w=h[y];w&&w.ngInherit&&w(i),w===gf&&(a=!1)}}o=Object.getPrototypeOf(o)}!function pb(i){let o=0,a=null;for(let c=i.length-1;c>=0;c--){const d=i[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Ai(d.hostAttrs,a=Ai(a,d.hostAttrs))}}(c)}function Km(i){return i===en?{}:i===ut?[]:i}function gb(i,o){const a=i.viewQuery;i.viewQuery=a?(c,d)=>{o(c,d),a(c,d)}:o}function mb(i,o){const a=i.contentQueries;i.contentQueries=a?(c,d,h)=>{o(c,d,h),a(c,d,h)}:o}function yb(i,o){const a=i.hostBindings;i.hostBindings=a?(c,d)=>{o(c,d),a(c,d)}:o}let ku=null;function Pu(){if(!ku){const i=dt.Symbol;if(i&&i.iterator)ku=i.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const c=o[a];"entries"!==c&&"size"!==c&&Map.prototype[c]===Map.prototype.entries&&(ku=c)}}}return ku}function yf(i){return!!Xm(i)&&(Array.isArray(i)||!(i instanceof Map)&&Pu()in i)}function Xm(i){return null!==i&&("function"==typeof i||"object"==typeof i)}function ns(i,o,a){return i[o]=a}function qn(i,o,a){return!Object.is(i[o],a)&&(i[o]=a,!0)}function ey(i,o,a,c){const d=ne();return qn(d,vs(),o)&&(Nt(),Lr(zt(),d,i,o,a,c)),ey}function kw(i,o,a,c,d,h,y,w){const I=ne(),C=Nt(),S=i+22,x=C.firstCreatePass?function Tb(i,o,a,c,d,h,y,w,I){const C=o.consts,S=xu(o,i,4,y||null,bi(C,w));nf(o,a,S,bi(C,I)),qo(o,S);const x=S.tViews=tf(2,S,c,d,h,o.directiveRegistry,o.pipeRegistry,null,o.schemas,C);return null!==o.queries&&(o.queries.template(o,S),x.queries=o.queries.embeddedTView(S)),S}(S,C,I,o,a,c,d,h,y):C.data[S];hi(x,!1);const V=I[11].createComment("");il(C,I,V,x),Pn(V,I),af(I,I[S]=ww(V,I,V,x)),Ba(x)&&ef(C,I,x),null!=y&&bl(I,x,w)}function ty(i,o,a){const c=ne();return qn(c,vs(),o)&&function Fr(i,o,a,c,d,h,y,w){const I=jn(o,a);let S,C=o.inputs;!w&&null!=C&&(S=C[c])?(Tl(i,a,S,c,d),$o(o)&&Lm(a,o.index)):3&o.type&&(c=function mw(i){return"class"===i?"className":"for"===i?"htmlFor":"formaction"===i?"formAction":"innerHtml"===i?"innerHTML":"readonly"===i?"readOnly":"tabindex"===i?"tabIndex":i}(c),d=null!=y?y(d,o.value||"",c):d,h.setProperty(I,c,d))}(Nt(),zt(),c,i,o,c[11],a,!1),ty}function ny(i,o,a,c,d){const y=d?"class":"style";Tl(i,a,o.inputs[y],y,c)}function Ef(i,o,a,c){const d=ne(),h=Nt(),y=22+i,w=d[11],I=d[y]=ua(w,o,function u0(){return pt.lFrame.currentNamespace}()),C=h.firstCreatePass?function Mb(i,o,a,c,d,h,y){const w=o.consts,C=xu(o,i,2,d,bi(w,h));return nf(o,a,C,bi(w,y)),null!==C.attrs&&df(C,C.attrs,!1),null!==C.mergedAttrs&&df(C,C.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,C),C}(y,h,d,0,o,a,c):h.data[y];return hi(C,!0),ul(w,I,C),32!=(32&C.flags)&&il(h,d,I,C),0===function Oc(){return pt.lFrame.elementDepthCount}()&&Pn(I,d),function Eg(){pt.lFrame.elementDepthCount++}(),Ba(C)&&(ef(h,d,C),Do(h,C,d)),null!==c&&bl(d,C),Ef}function If(){let i=Tn();Ka()?function zd(){pt.lFrame.isParent=!1}():(i=i.parent,hi(i,!1));const o=i;!function kc(){pt.lFrame.elementDepthCount--}();const a=Nt();return a.firstCreatePass&&(qo(a,i),Di(i)&&a.queries.elementEnd(i)),null!=o.classesWithoutHost&&function Xa(i){return 0!=(8&i.flags)}(o)&&ny(a,o,ne(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function qi(i){return 0!=(16&i.flags)}(o)&&ny(a,o,ne(),o.stylesWithoutHost,!1),If}function ry(i,o,a,c){return Ef(i,o,a,c),If(),ry}function Fw(){return ne()}function sy(i){return!!i&&"function"==typeof i.then}function Lw(i){return!!i&&"function"==typeof i.subscribe}const Vw=Lw;function Uw(i,o,a,c){const d=ne(),h=Nt(),y=Tn();return function bf(i,o,a,c,d,h,y){const w=Ba(c),C=i.firstCreatePass&&cf(i),S=o[8],x=uf(o);let V=!0;if(3&c.type||y){const Se=jn(c,o),ke=y?y(Se):Se,$e=x.length,nt=y?gt=>y(_n(gt[c.index])):c.index;let ge=null;if(!y&&w&&(ge=function xb(i,o,a,c){const d=i.cleanup;if(null!=d)for(let h=0;h<d.length-1;h+=2){const y=d[h];if(y===a&&d[h+1]===c){const w=o[7],I=d[h+2];return w.length>I?w[I]:null}"string"==typeof y&&(h+=2)}return null}(i,o,d,c.index)),null!==ge)(ge.__ngLastListenerFn__||ge).__ngNextListenerFn__=h,ge.__ngLastListenerFn__=h,V=!1;else{h=$w(c,o,S,h,!1);const gt=a.listen(ke,d,h);x.push(h,gt),C&&C.push(d,nt,$e,$e+1)}}else h=$w(c,o,S,h,!1);const z=c.outputs;let ie;if(V&&null!==z&&(ie=z[d])){const Se=ie.length;if(Se)for(let ke=0;ke<Se;ke+=2){const nn=o[ie[ke]][ie[ke+1]].subscribe(h),En=x.length;x.push(h,nn),C&&C.push(d,c.index,En,-(En+1))}}}(h,d,d[11],y,i,o,c),Uw}function Bw(i,o,a,c){try{return!1!==a(c)}catch(d){return lf(i,d),!1}}function $w(i,o,a,c,d){return function h(y){if(y===Function)return c;Ps(i.componentOffset>-1?Hn(i.index,o):o);let I=Bw(o,0,c,y),C=h.__ngNextListenerFn__;for(;C;)I=Bw(o,0,C,y)&&I,C=C.__ngNextListenerFn__;return d&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function oy(i=1){return function r0(i){return(pt.lFrame.contextLView=function YD(i,o){for(;i>0;)o=o[15],i--;return o}(i,pt.lFrame.contextLView))[8]}(i)}function $u(i,o){return i<<17|o<<2}function So(i){return i>>17&32767}function Ls(i){return 2|i}function Vs(i){return(131068&i)>>2}function Nl(i,o){return-131069&i|o<<2}function Ol(i){return 1|i}function Sf(i,o,a,c,d){const h=i[a+1],y=null===o;let w=c?So(h):Vs(h),I=!1;for(;0!==w&&(!1===I||y);){const S=i[w+1];Lb(i[w],o)&&(I=!0,i[w+1]=c?Ol(S):Ls(S)),w=c?So(S):Vs(S)}I&&(i[a+1]=c?Ls(h):Ol(h))}function Lb(i,o){return null===i||null==o||(Array.isArray(i)?i[1]:i)===o||!(!Array.isArray(i)||"string"!=typeof o)&&ir(i,o)>=0}function hy(i,o){return function oi(i,o,a,c){const d=ne(),h=Nt(),y=function Gi(i){const o=pt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+i,a}(2);h.firstUpdatePass&&function tE(i,o,a,c){const d=i.data;if(null===d[a+1]){const h=d[gr()],y=function py(i,o){return o>=i.expandoStartIndex}(i,a);(function vy(i,o){return 0!=(i.flags&(o?8:16))})(h,c)&&null===o&&!y&&(o=!1),o=function $b(i,o,a,c){const d=function Wo(i){const o=pt.lFrame.currentDirectiveIndex;return-1===o?null:i[o]}(i);let h=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(a=va(a=gy(null,i,o,a,c),o.attrs,c),h=null);else{const y=o.directiveStylingLast;if(-1===y||i[y]!==d)if(a=gy(d,i,o,a,c),null===h){let I=function jb(i,o,a){const c=a?o.classBindings:o.styleBindings;if(0!==Vs(c))return i[So(c)]}(i,o,c);void 0!==I&&Array.isArray(I)&&(I=gy(null,i,o,I[1],c),I=va(I,o.attrs,c),function Hb(i,o,a,c){i[So(a?o.classBindings:o.styleBindings)]=c}(i,o,c,I))}else h=function nE(i,o,a){let c;const d=o.directiveEnd;for(let h=1+o.directiveStylingLast;h<d;h++)c=va(c,i[h].hostAttrs,a);return va(c,o.attrs,a)}(i,o,c)}return void 0!==h&&(c?o.residualClasses=h:o.residualStyles=h),a}(d,h,o,c),function Fb(i,o,a,c,d,h){let y=h?o.classBindings:o.styleBindings,w=So(y),I=Vs(y);i[c]=a;let S,C=!1;if(Array.isArray(a)?(S=a[1],(null===S||ir(a,S)>0)&&(C=!0)):S=a,d)if(0!==I){const V=So(i[w+1]);i[c+1]=$u(V,w),0!==V&&(i[V+1]=Nl(i[V+1],c)),i[w+1]=function Pb(i,o){return 131071&i|o<<17}(i[w+1],c)}else i[c+1]=$u(w,0),0!==w&&(i[w+1]=Nl(i[w+1],c)),w=c;else i[c+1]=$u(I,0),0===w?w=c:i[I+1]=Nl(i[I+1],c),I=c;C&&(i[c+1]=Ls(i[c+1])),Sf(i,S,c,!0),Sf(i,S,c,!1),function cy(i,o,a,c,d){const h=d?i.residualClasses:i.residualStyles;null!=h&&"string"==typeof o&&ir(h,o)>=0&&(a[c+1]=Ol(a[c+1]))}(o,S,i,c,h),y=$u(w,I),h?o.classBindings=y:o.styleBindings=y}(d,h,o,a,y,c)}}(h,i,y,c),o!==vt&&qn(d,y,o)&&function rE(i,o,a,c,d,h,y,w){if(!(3&o.type))return;const I=i.data,C=I[w+1],S=function qw(i){return 1==(1&i)}(C)?Of(I,o,a,d,Vs(C),y):void 0;kf(S)||(kf(h)||function kb(i){return 2==(2&i)}(C)&&(h=Of(I,null,a,d,w,y)),function Xi(i,o,a,c,d){if(o)d?i.addClass(a,c):i.removeClass(a,c);else{let h=-1===c.indexOf("-")?void 0:ot.DashCase;null==d?i.removeStyle(a,c,h):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),h|=ot.Important),i.setStyle(a,c,d,h))}}(c,y,Xs(gr(),a),d,h))}(h,h.data[gr()],d,d[11],i,d[y+1]=function _y(i,o){return null==i||("string"==typeof o?i+=o:"object"==typeof i&&(i=me(es(i)))),i}(o,a),c,y)}(i,o,null,!0),hy}function gy(i,o,a,c,d){let h=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(h=o[w],c=va(c,h.hostAttrs,d),h!==i);)w++;return null!==i&&(a.directiveStylingLast=w),c}function va(i,o,a){const c=a?1:2;let d=-1;if(null!==o)for(let h=0;h<o.length;h++){const y=o[h];"number"==typeof y?d=y:d===c&&(Array.isArray(i)||(i=void 0===i?[]:["",i]),mr(i,y,!!a||o[++h]))}return void 0===i?null:i}function Of(i,o,a,c,d,h){const y=null===o;let w;for(;d>0;){const I=i[d],C=Array.isArray(I),S=C?I[1]:I,x=null===S;let V=a[d+1];V===vt&&(V=x?ut:void 0);let z=x?tn(V,c):S===c?V:void 0;if(C&&!kf(z)&&(z=tn(I,c)),kf(z)&&(w=z,y))return w;const ie=i[d+1];d=y?So(ie):Vs(ie)}if(null!==o){let I=h?o.residualClasses:o.residualStyles;null!=I&&(w=tn(I,c))}return w}function kf(i){return void 0!==i}function Pf(i,o=""){const a=ne(),c=Nt(),d=i+22,h=c.firstCreatePass?xu(c,d,1,o,null):c.data[d],y=a[d]=function Ji(i,o){return i.createText(o)}(a[11],o);il(c,a,y,h),hi(h,!1)}function ju(i,o,a){const c=ne(),d=function Fu(i,o,a,c){return qn(i,vs(),a)?o+fe(a)+c:vt}(c,i,o,a);return d!==vt&&function Oi(i,o,a){const c=Xs(o,i);!function _u(i,o,a){i.setValue(o,a)}(i[11],c,a)}(c,gr(),d),ju}const wa=void 0;var Jb=["en",[["a","p"],["AM","PM"],wa],[["AM","PM"],wa,wa],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],wa,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],wa,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",wa,"{1} 'at' {0}",wa],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function Qb(i){const a=Math.floor(Math.abs(i)),c=i.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===c?1:5}];let Ea={};function by(i){const o=function eT(i){return i.toLowerCase().replace(/_/g,"-")}(i);let a=Bf(o);if(a)return a;const c=o.split("-")[0];if(a=Bf(c),a)return a;if("en"===c)return Jb;throw new K(701,!1)}function IE(i){return by(i)[Xe.PluralCase]}function Bf(i){return i in Ea||(Ea[i]=dt.ng&&dt.ng.common&&dt.ng.common.locales&&dt.ng.common.locales[i]),Ea[i]}var Xe=(()=>((Xe=Xe||{})[Xe.LocaleId=0]="LocaleId",Xe[Xe.DayPeriodsFormat=1]="DayPeriodsFormat",Xe[Xe.DayPeriodsStandalone=2]="DayPeriodsStandalone",Xe[Xe.DaysFormat=3]="DaysFormat",Xe[Xe.DaysStandalone=4]="DaysStandalone",Xe[Xe.MonthsFormat=5]="MonthsFormat",Xe[Xe.MonthsStandalone=6]="MonthsStandalone",Xe[Xe.Eras=7]="Eras",Xe[Xe.FirstDayOfWeek=8]="FirstDayOfWeek",Xe[Xe.WeekendRange=9]="WeekendRange",Xe[Xe.DateFormat=10]="DateFormat",Xe[Xe.TimeFormat=11]="TimeFormat",Xe[Xe.DateTimeFormat=12]="DateTimeFormat",Xe[Xe.NumberSymbols=13]="NumberSymbols",Xe[Xe.NumberFormats=14]="NumberFormats",Xe[Xe.CurrencyCode=15]="CurrencyCode",Xe[Xe.CurrencySymbol=16]="CurrencySymbol",Xe[Xe.CurrencyName=17]="CurrencyName",Xe[Xe.Currencies=18]="Currencies",Xe[Xe.Directionality=19]="Directionality",Xe[Xe.PluralCase=20]="PluralCase",Xe[Xe.ExtraData=21]="ExtraData",Xe))();const Mo="en-US";let jf=Mo;function $y(i,o,a,c,d){if(i=j(i),Array.isArray(i))for(let h=0;h<i.length;h++)$y(i[h],o,a,c,d);else{const h=Nt(),y=ne();let w=Ns(i)?i:j(i.provide),I=_m(i);const C=Tn(),S=1048575&C.providerIndexes,x=C.directiveStart,V=C.providerIndexes>>20;if(Ns(i)||!i.multi){const z=new Ko(I,d,Mu),ie=Hy(w,o,d?S:S+V,x);-1===ie?(ih(io(C,y),h,w),jy(h,i,o.length),o.push(w),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push(z),y.push(z)):(a[ie]=z,y[ie]=z)}else{const z=Hy(w,o,S+V,x),ie=Hy(w,o,S,S+V),ke=ie>=0&&a[ie];if(d&&!ke||!d&&!(z>=0&&a[z])){ih(io(C,y),h,w);const $e=function tR(i,o,a,c,d){const h=new Ko(i,a,Mu);return h.multi=[],h.index=o,h.componentProviders=0,kE(h,d,c&&!a),h}(d?eR:wT,a.length,d,c,I);!d&&ke&&(a[ie].providerFactory=$e),jy(h,i,o.length,0),o.push(w),C.directiveStart++,C.directiveEnd++,d&&(C.providerIndexes+=1048576),a.push($e),y.push($e)}else jy(h,i,z>-1?z:ie,kE(a[d?ie:z],I,!d&&c));!d&&c&&ke&&a[ie].componentProviders++}}}function jy(i,o,a,c){const d=Ns(o),h=function zh(i){return!!i.useClass}(o);if(d||h){const I=(h?j(o.useClass):o).prototype.ngOnDestroy;if(I){const C=i.destroyHooks||(i.destroyHooks=[]);if(!d&&o.multi){const S=C.indexOf(a);-1===S?C.push(a,[c,I]):C[S+1].push(c,I)}else C.push(a,I)}}}function kE(i,o,a){return a&&i.componentProviders++,i.multi.push(o)-1}function Hy(i,o,a,c){for(let d=a;d<c;d++)if(o[d]===i)return d;return-1}function wT(i,o,a,c){return PE(this.multi,[])}function eR(i,o,a,c){const d=this.multi;let h;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ki(a,a[1],this.providerFactory.index,c);h=w.slice(0,y),PE(d,h);for(let I=y;I<w.length;I++)h.push(w[I])}else h=[],PE(d,h);return h}function PE(i,o){for(let a=0;a<i.length;a++)o.push((0,i[a])());return o}function FE(i,o=[]){return a=>{a.providersResolver=(c,d)=>function By(i,o,a){const c=Nt();if(c.firstCreatePass){const d=nr(i);$y(a,c.data,c.blueprint,d,!0),$y(o,c.data,c.blueprint,d,!1)}}(c,d?d(i):i,o)}}class Gl{}class ET{}function nR(i,o){return new Gy(i,o??null)}class Gy extends Gl{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new bw(this);const c=hr(o);this._bootstrapComponents=ts(c.bootstrap),this._r3Injector=sw(o,a,[{provide:Gl,useValue:this},{provide:Tu,useValue:this.componentFactoryResolver}],me(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class zy extends ET{constructor(o){super(),this.moduleType=o}create(o){return new Gy(this.moduleType,o)}}class or extends Gl{constructor(o,a,c){super(),this.componentFactoryResolver=new bw(this),this.instance=null;const d=new P0([...o,{provide:Gl,useValue:this},{provide:Tu,useValue:this.componentFactoryResolver}],a||qh(),c,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Wy(i,o,a=null){return new or(i,o,a).injector}let Jf=(()=>{class i{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const c=Du(0,a.type),d=c.length>0?Wy([c],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return i.\u0275prov=Je({token:i,providedIn:"environment",factory:()=>new i(Ne(ga))}),i})();function Xf(i){i.getStandaloneInjector=o=>o.get(Jf).getOrCreateStandaloneInjector(i)}function jE(i,o,a,c){return function Yy(i,o,a,c,d,h){const y=o+a;return qn(i,y,d)?ns(i,y+1,h?c.call(h,d):c(d)):ql(i,y+1)}(ne(),rr(),i,o,a,c)}function ql(i,o){const a=i[o];return a===vt?void 0:a}function rp(i,o,a,c,d,h,y){const w=o+a;return function bo(i,o,a,c){const d=qn(i,o,a);return qn(i,o+1,c)||d}(i,w,d,h)?ns(i,w+2,y?c.call(y,d,h):c(d,h)):ql(i,w+2)}function qu(i,o){const a=Nt();let c;const d=i+22;a.firstCreatePass?(c=function OT(i,o){if(o)for(let a=o.length-1;a>=0;a--){const c=o[a];if(i===c.name)return c}}(o,a.pipeRegistry),a.data[d]=c,c.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,c.onDestroy)):c=a.data[d];const h=c.factory||(c.factory=ms(c.type)),y=Jn(Mu);try{const w=fi(!1),I=h();return fi(w),function Sb(i,o,a,c){a>=i.data.length&&(i.data[a]=null,i.blueprint[a]=null),o[a]=c}(a,ne(),d,I),I}finally{Jn(y)}}function WE(i,o,a,c){const d=i+22,h=ne(),y=function ys(i,o){return i[o]}(h,d);return function Ta(i,o){return i[1].data[o].pure}(h,d)?rp(h,rr(),o,y.transform,a,c,y):y.transform(a,c)}function t_(i){return o=>{setTimeout(i,void 0,o)}}const ss=class kT extends f.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,c){let d=o,h=a||(()=>null),y=c;if(o&&"object"==typeof o){const I=o;d=I.next?.bind(I),h=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(h=t_(h),d&&(d=t_(d)),y&&(y=t_(y)));const w=super.subscribe({next:d,error:h,complete:y});return o instanceof O.w0&&o.add(w),w}};function sp(){return this._results[Pu()]()}class Kl{get changes(){return this._changes||(this._changes=new ss)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Pu(),c=Kl.prototype;c[a]||(c[a]=sp)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const c=this;c.dirty=!1;const d=function Nr(i){return i.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function Bg(i,o,a){if(i.length!==o.length)return!1;for(let c=0;c<i.length;c++){let d=i[c],h=o[c];if(a&&(d=a(d),h=a(h)),h!==d)return!1}return!0}(c._results,d,a))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Sa=(()=>{class i{}return i.__NG_ELEMENT_ID__=PT,i})();const n_=Sa,ZE=class extends n_{constructor(o,a,c){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=c}createEmbeddedView(o,a){const c=this._declarationTContainer.tViews,d=St(this._declarationLView,c,o,16,null,c.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(c)),Ct(c,d,o),new Sl(d)}};function PT(){return Zl(Tn(),ne())}function Zl(i,o){return 4&i.type?new ZE(o,i,Os(i,o)):null}let Bs=(()=>{class i{}return i.__NG_ELEMENT_ID__=YE,i})();function YE(){return XE(Tn(),ne())}const FT=Bs,QE=class extends FT{constructor(o,a,c){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=c}get element(){return Os(this._hostTNode,this._hostLView)}get injector(){return new oo(this._hostTNode,this._hostLView)}get parentInjector(){const o=su(this._hostTNode,this._hostLView);if(Fc(o)){const a=Es(o,this._hostLView),c=Qo(o);return new oo(a[1].data[c+8],a)}return new oo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=JE(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,c){let d,h;"number"==typeof c?d=c:null!=c&&(d=c.index,h=c.injector);const y=o.createEmbeddedView(a||{},h);return this.insert(y,d),y}createComponent(o,a,c,d,h){const y=o&&!function uu(i){return"function"==typeof i}(o);let w;if(y)w=a;else{const x=a||{};w=x.index,c=x.injector,d=x.projectableNodes,h=x.environmentInjector||x.ngModuleRef}const I=y?o:new Al(Ut(o)),C=c||this.parentInjector;if(!h&&null==I.ngModule){const V=(y?C:this.parentInjector).get(ga,null);V&&(h=V)}const S=I.create(C,d,void 0,h);return this.insert(S.hostView,w),S}insert(o,a){const c=o._lView,d=c[1];if(function wg(i){return Mr(i[3])}(c)){const S=this.indexOf(o);if(-1!==S)this.detach(S);else{const x=c[3],V=new QE(x,x[6],x[3]);V.detach(V.indexOf(o))}}const h=this._adjustIndex(a),y=this._lContainer;!function qg(i,o,a,c){const d=10+c,h=a.length;c>0&&(a[d-1][4]=o),c<h-10?(o[4]=a[d],$g(a,10+c,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function nl(i,o){const a=i[9];o[16]!==o[3][3][16]&&(i[2]=!0),null===a?i[9]=[o]:a.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(i),o[2]|=64}(d,c,y,h);const w=ha(h,y),I=c[11],C=Rs(I,y[7]);return null!==C&&function xh(i,o,a,c,d,h){c[0]=d,c[6]=o,ol(i,c,a,1,d,h)}(d,y[6],I,c,C,w),o.attachToViewContainerRef(),$g(r_(y),h,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=JE(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),c=Kg(this._lContainer,a);c&&(jc(r_(this._lContainer),a),Oh(c[1],c))}detach(o){const a=this._adjustIndex(o,-1),c=Kg(this._lContainer,a);return c&&null!=jc(r_(this._lContainer),a)?new Sl(c):null}_adjustIndex(o,a=0){return o??this.length+a}};function JE(i){return i[8]}function r_(i){return i[8]||(i[8]=[])}function XE(i,o){let a;const c=o[i.index];if(Mr(c))a=c;else{let d;if(8&i.type)d=_n(c);else{const h=o[11];d=h.createComment("");const y=jn(i,o);la(h,Rs(h,y),d,function m0(i,o){return i.nextSibling(o)}(h,y),!1)}o[i.index]=a=ww(c,o,d,i),af(o,a)}return new QE(a,i,o)}class i_{constructor(o){this.queryList=o,this.matches=null}clone(){return new i_(this.queryList)}setDirty(){this.queryList.setDirty()}}class s_{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const c=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let h=0;h<c;h++){const y=a.getByIndex(h);d.push(this.queries[y.indexInDeclarationView].clone())}return new s_(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==UT(o,a).matches&&this.queries[a].setDirty()}}class eI{constructor(o,a,c=null){this.predicate=o,this.flags=a,this.read=c}}class o_{constructor(o=[]){this.queries=o}elementStart(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let c=0;c<this.length;c++){const d=null!==a?a.length:0,h=this.getByIndex(c).embeddedTView(o,d);h&&(h.indexInDeclarationView=c,null!==a?a.push(h):a=[h])}return null!==a?new o_(a):null}template(o,a){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class Ku{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new Ku(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==a;)c=c.parent;return a===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const h=c[d];this.matchTNodeWithReadOption(o,a,tI(a,h)),this.matchTNodeWithReadOption(o,a,au(a,o,h,!1,!1))}else c===Sa?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,au(a,o,c,!1,!1))}matchTNodeWithReadOption(o,a,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===Su||d===Bs||d===Sa&&4&a.type)this.addMatch(a.index,-2);else{const h=au(a,o,d,!1,!1);null!==h&&this.addMatch(a.index,h)}else this.addMatch(a.index,c)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function tI(i,o){const a=i.localNames;if(null!==a)for(let c=0;c<a.length;c+=2)if(a[c]===o)return a[c+1];return null}function a_(i,o,a,c){return-1===a?function nI(i,o){return 11&i.type?Os(i,o):4&i.type?Zl(i,o):null}(o,i):-2===a?function LT(i,o,a){return a===Su?Os(o,i):a===Sa?Zl(o,i):a===Bs?XE(o,i):void 0}(i,o,c):Ki(i,i[1],a,o)}function rI(i,o,a,c){const d=o[19].queries[c];if(null===d.matches){const h=i.data,y=a.matches,w=[];for(let I=0;I<y.length;I+=2){const C=y[I];w.push(C<0?null:a_(o,h[C],y[I+1],a.metadata.read))}d.matches=w}return d.matches}function u_(i,o,a,c){const d=i.queries.getByIndex(a),h=d.matches;if(null!==h){const y=rI(i,o,d,a);for(let w=0;w<h.length;w+=2){const I=h[w];if(I>0)c.push(y[w/2]);else{const C=h[w+1],S=o[-I];for(let x=10;x<S.length;x++){const V=S[x];V[17]===V[3]&&u_(V[1],V,C,c)}if(null!==S[9]){const x=S[9];for(let V=0;V<x.length;V++){const z=x[V];u_(z[1],z,C,c)}}}}}return c}function c_(i){const o=ne(),a=Nt(),c=Sg();Zd(c+1);const d=UT(a,c);if(i.dirty&&function Nc(i){return 4==(4&i[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)i.reset([]);else{const h=d.crossesNgTemplate?u_(a,o,c,[]):rI(a,o,d,c);i.reset(h,yl),i.notifyOnChanges()}return!0}return!1}function l_(i,o,a,c){const d=Nt();if(d.firstCreatePass){const h=Tn();(function oI(i,o,a){null===i.queries&&(i.queries=new o_),i.queries.track(new Ku(o,a))})(d,new eI(o,a,c),h.index),function rR(i,o){const a=i.contentQueries||(i.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(i.queries.length-1,o)}(d,i),2==(2&a)&&(d.staticContentQueries=!0)}!function VT(i,o,a){const c=new Kl(4==(4&a));fw(i,o,c,c.destroy),null===o[19]&&(o[19]=new s_),o[19].queries.push(new i_(c))}(d,ne(),a)}function d_(){return function sI(i,o){return i[19].queries[o].queryList}(ne(),Sg())}function UT(i,o){return i.queries.getByIndex(o)}function y_(...i){}const rS=new Ot("Application Initializer");let __=(()=>{class i{constructor(a){this.appInits=a,this.resolve=y_,this.reject=y_,this.initialized=!1,this.done=!1,this.donePromise=new Promise((c,d)=>{this.resolve=c,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],c=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const h=this.appInits[d]();if(sy(h))a.push(h);else if(Vw(h)){const y=new Promise((w,I)=>{h.subscribe({complete:w,error:I})});a.push(y)}}Promise.all(a).then(()=>{c()}).catch(d=>{this.reject(d)}),0===a.length&&c(),this.initialized=!0}}return i.\u0275fac=function(a){return new(a||i)(Ne(rS,8))},i.\u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const iS=new Ot("AppId",{providedIn:"root",factory:function sS(){return`${pI()}${pI()}${pI()}`}});function pI(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const oS=new Ot("Platform Initializer"),_R=new Ot("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),aS=new Ot("appBootstrapListener");let uS=(()=>{class i{log(a){console.log(a)}warn(a){console.warn(a)}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();const v_=new Ot("LocaleId",{providedIn:"root",factory:()=>Ue(v_,rt.Optional|rt.SkipSelf)||function vR(){return typeof $localize<"u"&&$localize.locale||Mo}()}),wR=new Ot("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class ER{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let IR=(()=>{class i{compileModuleSync(a){return new zy(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const c=this.compileModuleSync(a),h=ts(hr(a).declarations).reduce((y,w)=>{const I=Ut(w);return I&&y.push(new Al(I)),y},[]);return new ER(c,h)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();const Jl=(()=>Promise.resolve(0))();function w_(i){typeof Zone>"u"?Jl.then(()=>{i&&i.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",i)}class Zr{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ss(!1),this.onMicrotaskEmpty=new ss(!1),this.onStable=new ss(!1),this.onError=new ss(!1),typeof Zone>"u")throw new K(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&a,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function $s(){let i=dt.requestAnimationFrame,o=dt.cancelAnimationFrame;if(typeof Zone<"u"&&i&&o){const a=i[Zone.__symbol__("OriginalDelegate")];a&&(i=a);const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c)}return{nativeRequestAnimationFrame:i,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function Xl(i){const o=()=>{!function up(i){i.isCheckStableRunning||-1!==i.lastRequestAnimationFrameId||(i.lastRequestAnimationFrameId=i.nativeRequestAnimationFrame.call(dt,()=>{i.fakeTopEventTask||(i.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{i.lastRequestAnimationFrameId=-1,E_(i),i.isCheckStableRunning=!0,Yu(i),i.isCheckStableRunning=!1},void 0,()=>{},()=>{})),i.fakeTopEventTask.invoke()}),E_(i))}(i)};i._inner=i._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,c,d,h,y,w)=>{try{return cp(i),a.invokeTask(d,h,y,w)}finally{(i.shouldCoalesceEventChangeDetection&&"eventTask"===h.type||i.shouldCoalesceRunChangeDetection)&&o(),gI(i)}},onInvoke:(a,c,d,h,y,w,I)=>{try{return cp(i),a.invoke(d,h,y,w,I)}finally{i.shouldCoalesceRunChangeDetection&&o(),gI(i)}},onHasTask:(a,c,d,h)=>{a.hasTask(d,h),c===d&&("microTask"==h.change?(i._hasPendingMicrotasks=h.microTask,E_(i),Yu(i)):"macroTask"==h.change&&(i.hasPendingMacrotasks=h.macroTask))},onHandleError:(a,c,d,h)=>(a.handleError(d,h),i.runOutsideAngular(()=>i.onError.emit(h)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!Zr.isInAngularZone())throw new K(909,!1)}static assertNotInAngularZone(){if(Zr.isInAngularZone())throw new K(909,!1)}run(o,a,c){return this._inner.run(o,a,c)}runTask(o,a,c,d){const h=this._inner,y=h.scheduleEventTask("NgZoneEvent: "+d,o,_t,y_,y_);try{return h.runTask(y,a,c)}finally{h.cancelTask(y)}}runGuarded(o,a,c){return this._inner.runGuarded(o,a,c)}runOutsideAngular(o){return this._outer.run(o)}}const _t={};function Yu(i){if(0==i._nesting&&!i.hasPendingMicrotasks&&!i.isStable)try{i._nesting++,i.onMicrotaskEmpty.emit(null)}finally{if(i._nesting--,!i.hasPendingMicrotasks)try{i.runOutsideAngular(()=>i.onStable.emit(null))}finally{i.isStable=!0}}}function E_(i){i.hasPendingMicrotasks=!!(i._hasPendingMicrotasks||(i.shouldCoalesceEventChangeDetection||i.shouldCoalesceRunChangeDetection)&&-1!==i.lastRequestAnimationFrameId)}function cp(i){i._nesting++,i.isStable&&(i.isStable=!1,i.onUnstable.emit(null))}function gI(i){i._nesting--,Yu(i)}class dS{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ss,this.onMicrotaskEmpty=new ss,this.onStable=new ss,this.onError=new ss}run(o,a,c){return o.apply(a,c)}runGuarded(o,a,c){return o.apply(a,c)}runOutsideAngular(o){return o()}runTask(o,a,c,d){return o.apply(a,c)}}const mI=new Ot(""),ar=new Ot("");let I_,lp=(()=>{class i{constructor(a,c,d){this._ngZone=a,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,I_||(function xo(i){I_=i}(d),d.addToWindow(c)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{Zr.assertNotInAngularZone(),w_(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())w_(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(a)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,c,d){let h=-1;c&&c>0&&(h=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==h),a(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:a,timeoutId:h,updateCb:d})}whenStable(a,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,c,d){return[]}}return i.\u0275fac=function(a){return new(a||i)(Ne(Zr),Ne(Zn),Ne(ar))},i.\u0275prov=Je({token:i,factory:i.\u0275fac}),i})(),Zn=(()=>{class i{constructor(){this._applications=new Map}registerApplication(a,c){this._applications.set(a,c)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,c=!0){return I_?.findTestabilityInTree(this,a,c)??null}}return i.\u0275fac=function(a){return new(a||i)},i.\u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})(),js=null;const dp=new Ot("AllowMultipleToken"),hp=new Ot("PlatformDestroyListeners");class C_{constructor(o,a){this.name=o,this.token=a}}function _I(i,o,a=[]){const c=`Platform: ${o}`,d=new Ot(c);return(h=[])=>{let y=gp();if(!y||y.injector.get(dp,!1)){const w=[...a,...h,{provide:d,useValue:!0}];i?i(w):function fp(i){if(js&&!js.get(dp,!1))throw new K(400,!1);js=i;const o=i.get(wI);(function pp(i){const o=i.get(oS,null);o&&o.forEach(a=>a())})(i)}(function b_(i=[],o){return Eo.create({name:o,providers:[{provide:wo,useValue:"platform"},{provide:hp,useValue:new Set([()=>js=null])},...i]})}(w,c))}return function Qu(i){const o=gp();if(!o)throw new K(401,!1);return o}()}}function gp(){return js?.get(wI)??null}let wI=(()=>{class i{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,c){const d=function ed(i,o){let a;return a="noop"===i?new dS:("zone.js"===i?void 0:i)||new Zr(o),a}(c?.ngZone,function T_(i){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!i||!i.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!i||!i.ngZoneRunCoalescing)||!1}}(c)),h=[{provide:Zr,useValue:d}];return d.run(()=>{const y=Eo.create({providers:h,parent:this.injector,name:a.moduleType.name}),w=a.create(y),I=w.injector.get(_l,null);if(!I)throw new K(402,!1);return d.runOutsideAngular(()=>{const C=d.onError.subscribe({next:S=>{I.handleError(S)}});w.onDestroy(()=>{_p(this._modules,w),C.unsubscribe()})}),function mp(i,o,a){try{const c=a();return sy(c)?c.catch(d=>{throw o.runOutsideAngular(()=>i.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>i.handleError(c)),c}}(I,d,()=>{const C=w.injector.get(__);return C.runInitializers(),C.donePromise.then(()=>(function DE(i){Tt(i,"Expected localeId to be defined"),"string"==typeof i&&(jf=i.toLowerCase().replace(/_/g,"-"))}(w.injector.get(v_,Mo)||Mo),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,c=[]){const d=yp({},c);return function hS(i,o,a){const c=new zy(a);return Promise.resolve(c)}(0,0,a).then(h=>this.bootstrapModuleFactory(h,d))}_moduleDoBootstrap(a){const c=a.injector.get(Ju);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new K(-403,!1);a.instance.ngDoBootstrap(c)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new K(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const a=this._injector.get(hp,null);a&&(a.forEach(c=>c()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return i.\u0275fac=function(a){return new(a||i)(Ne(Eo))},i.\u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"platform"}),i})();function yp(i,o){return Array.isArray(o)?o.reduce(yp,i):{...i,...o}}let Ju=(()=>{class i{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,c,d){this._zone=a,this._injector=c,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const h=new X.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new X.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{Zr.assertNotInAngularZone(),w_(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const C=this._zone.onUnstable.subscribe(()=>{Zr.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),C.unsubscribe()}});this.isStable=(0,ae.T)(h,y.pipe((0,de.B)()))}bootstrap(a,c){const d=a instanceof L0;if(!this._injector.get(__).done)throw!d&&fs(a),new K(405,false);let y;y=d?a:this._injector.get(Tu).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function yI(i){return i.isBoundToModule}(y)?void 0:this._injector.get(Gl),C=y.create(Eo.NULL,[],c||y.selector,w),S=C.location.nativeElement,x=C.injector.get(mI,null);return x?.registerApplication(S),C.onDestroy(()=>{this.detachView(C.hostView),_p(this.components,C),x?.unregisterApplication(S)}),this._loadComponent(C),C}tick(){if(this._runningTick)throw new K(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const c=a;this._views.push(c),c.attachToAppRef(this)}detachView(a){const c=a;_p(this._views,c),c.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const c=this._injector.get(aS,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>_p(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new K(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return i.\u0275fac=function(a){return new(a||i)(Ne(Zr),Ne(ga),Ne(_l))},i.\u0275prov=Je({token:i,factory:i.\u0275fac,providedIn:"root"}),i})();function _p(i,o){const a=i.indexOf(o);a>-1&&i.splice(a,1)}function II(){return!1}let fS=(()=>{class i{}return i.__NG_ELEMENT_ID__=pS,i})();function pS(i){return function wp(i,o,a){if($o(i)&&!a){const c=Hn(i.index,o);return new Sl(c,c)}return 47&i.type?new Sl(o[16],o):null}(Tn(),ne(),16==(16&i))}class td{constructor(){}supports(o){return yf(o)}create(o){return new _S(o)}}const P_=(i,o)=>o;class _S{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||P_}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,c=this._removalsHead,d=0,h=null;for(;a||c;){const y=!c||a&&a.currentIndex<MI(c,d,h)?a:c,w=MI(y,d,h),I=y.currentIndex;if(y===c)d--,c=c._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{h||(h=[]);const C=w-d,S=I-d;if(C!=S){for(let V=0;V<C;V++){const z=V<h.length?h[V]:h[V]=0,ie=z+V;S<=ie&&ie<C&&(h[V]=z+1)}h[y.previousIndex]=S-C}}w!==I&&o(y,w,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!yf(o))throw new K(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,h,y,a=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)h=o[w],y=this._trackByFn(w,h),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,h,y,w)),Object.is(a.item,h)||this._addIdentityChange(a,h)):(a=this._mismatch(a,h,y,w),c=!0),a=a._next}else d=0,function Rw(i,o){if(Array.isArray(i))for(let a=0;a<i.length;a++)o(i[a]);else{const a=i[Pu()]();let c;for(;!(c=a.next()).done;)o(c.value)}}(o,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(c&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),c=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,c,d){let h;return null===o?h=this._itTail:(h=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,h,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,h,d)):o=this._addAfter(new vS(a,c),h,d),o}_verifyReinsertion(o,a,c,d){let h=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==h?o=this._reinsertAfter(h,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,h=o._nextRemoved;return null===d?this._removalsHead=h:d._nextRemoved=h,null===h?this._removalsTail=d:h._prevRemoved=d,this._insertAfter(o,a,c),this._addToMoves(o,c),o}_moveAfter(o,a,c){return this._unlink(o),this._insertAfter(o,a,c),this._addToMoves(o,c),o}_addAfter(o,a,c){return this._insertAfter(o,a,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,c){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new AI),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,c=o._next;return null===a?this._itHead=c:a._next=c,null===c?this._itTail=a:c._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new AI),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class vS{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class SI{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===a||a<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const a=o._prevDup,c=o._nextDup;return null===a?this._head=c:a._nextDup=c,null===c?this._tail=a:c._prevDup=a,null===this._head}}class AI{constructor(){this.map=new Map}put(o){const a=o.trackById;let c=this.map.get(a);c||(c=new SI,this.map.set(a,c)),c.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function MI(i,o,a){const c=i.previousIndex;if(null===c)return c;let d=0;return a&&c<a.length&&(d=a[c]),c+o+d}class F_{constructor(){}supports(o){return o instanceof Map||Xm(o)}create(){return new L_}}class L_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||Xm(o)))throw new K(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,c),this._appendAfter=a,a=a._next;else{const h=this._getOrCreateRecordForKey(d,c);a=this._insertBeforeOrAppend(a,h)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let c=a;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const c=o._prev;return a._next=o,a._prev=c,o._prev=a,c&&(c._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const h=d._prev,y=d._next;return h&&(h._next=y),y&&(y._prev=h),d._next=null,d._prev=null,d}const c=new wS(o);return this._records.set(o,c),c.currentValue=a,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(c=>a(o[c],c))}}class wS{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Cp(){return new bp([new td])}let bp=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(null!=c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||Cp()),deps:[[i,new it,new Cs]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(null!=c)return c;throw new K(901,!1)}}return i.\u0275prov=Je({token:i,providedIn:"root",factory:Cp}),i})();function nd(){return new rd([new F_])}let rd=(()=>{class i{constructor(a){this.factories=a}static create(a,c){if(c){const d=c.factories.slice();a=a.concat(d)}return new i(a)}static extend(a){return{provide:i,useFactory:c=>i.create(a,c||nd()),deps:[[i,new it,new Cs]]}}find(a){const c=this.factories.find(d=>d.supports(a));if(c)return c;throw new K(901,!1)}}return i.\u0275prov=Je({token:i,providedIn:"root",factory:nd}),i})();const RI=_I(null,"core",[]);let NI=(()=>{class i{constructor(a){}}return i.\u0275fac=function(a){return new(a||i)(Ne(Ju))},i.\u0275mod=zs({type:i}),i.\u0275inj=Qr({}),i})();function OI(i){return"boolean"==typeof i?i:null!=i&&"false"!==i}},3942:(et,ve,N)=>{N.d(ve,{Z:()=>Be});var f=N(2090),O=N(4859),X=N(9681),ae=N(1877);class de{constructor(K,ye){this._delegate=K,this.firebase=ye,(0,X._addComponent)(K,new O.wA("app-compat",()=>this,"PUBLIC")),this.container=K.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(K){this._delegate.automaticDataCollectionEnabled=K}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(K=>{this._delegate.checkDestroyed(),K()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,X.deleteApp)(this._delegate)))}_getService(K,ye=X._DEFAULT_ENTRY_NAME){var fe;this._delegate.checkDestroyed();const we=this._delegate.container.getProvider(K);return!we.isInitialized()&&"EXPLICIT"===(null===(fe=we.getComponent())||void 0===fe?void 0:fe.instantiationMode)&&we.initialize(),we.getImmediate({identifier:ye})}_removeServiceInstance(K,ye=X._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(K).clearInstance(ye)}_addComponent(K){(0,X._addComponent)(this._delegate,K)}_addOrOverwriteComponent(K){(0,X._addOrOverwriteComponent)(this._delegate,K)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const xe=new f.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function De(){const He=function me(He){const K={},ye={__esModule:!0,initializeApp:function be(W,Y={}){const ue=X.initializeApp(W,Y);if((0,f.r3)(K,ue.name))return K[ue.name];const $=new He(ue,ye);return K[ue.name]=$,$},app:we,registerVersion:X.registerVersion,setLogLevel:X.setLogLevel,onLog:X.onLog,apps:null,SDK_VERSION:X.SDK_VERSION,INTERNAL:{registerComponent:function he(W){const Y=W.name,ue=Y.replace("-compat","");if(X._registerComponent(W)&&"PUBLIC"===W.type){const $=(B=we())=>{if("function"!=typeof B[ue])throw xe.create("invalid-app-argument",{appName:Y});return B[ue]()};void 0!==W.serviceProps&&(0,f.ZB)($,W.serviceProps),ye[ue]=$,He.prototype[ue]=function(...B){return this._getService.bind(this,Y).apply(this,W.multipleInstances?B:[])}}return"PUBLIC"===W.type?ye[ue]:null},removeApp:function fe(W){delete K[W]},useAsService:function Re(W,Y){return"serverAuth"===Y?null:Y},modularAPIs:X}};function we(W){if(!(0,f.r3)(K,W=W||X._DEFAULT_ENTRY_NAME))throw xe.create("no-app",{appName:W});return K[W]}return ye.default=ye,Object.defineProperty(ye,"apps",{get:function pe(){return Object.keys(K).map(W=>K[W])}}),we.App=He,ye}(de);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:De,extendNamespace:function K(ye){(0,f.ZB)(He,ye)},createSubscribe:f.ne,ErrorFactory:f.LL,deepExtend:f.ZB}),He}(),L=new ae.Yd("@firebase/app-compat");if((0,f.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=F;!function Ce(He){(0,X.registerVersion)("@firebase/app-compat","0.2.1",He)}()},9681:(et,ve,N)=>{N.r(ve),N.d(ve,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Vo,_DEFAULT_ENTRY_NAME:()=>Xt,_addComponent:()=>qt,_addOrOverwriteComponent:()=>dr,_apps:()=>Tt,_clearComponents:()=>Qr,_components:()=>st,_getProvider:()=>Je,_registerComponent:()=>Vt,_removeServiceInstance:()=>as,deleteApp:()=>ls,getApp:()=>vi,getApps:()=>Ui,initializeApp:()=>cs,onLog:()=>rt,registerVersion:()=>Ir,setLogLevel:()=>wi});var f=N(5861),O=N(4859),X=N(1877),ae=N(2090),de=N(8766);class se{constructor(le){this.container=le}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function xe(Ne){return"VERSION"===Ne.getComponent()?.type}(Ue)){const tt=Ue.getImmediate();return`${tt.library}/${tt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const me="@firebase/app",F=new X.Yd("@firebase/app"),Xt="[DEFAULT]",ct={[me]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},Tt=new Map,st=new Map;function qt(Ne,le){try{Ne.container.addComponent(le)}catch(Ue){F.debug(`Component ${le.name} failed to register with FirebaseApp ${Ne.name}`,Ue)}}function dr(Ne,le){Ne.container.addOrOverwriteComponent(le)}function Vt(Ne){const le=Ne.name;if(st.has(le))return F.debug(`There were multiple attempts to register component ${le}.`),!1;st.set(le,Ne);for(const Ue of Tt.values())qt(Ue,Ne);return!0}function Je(Ne,le){const Ue=Ne.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),Ne.container.getProvider(le)}function as(Ne,le,Ue=Xt){Je(Ne,le).clearInstance(Ue)}function Qr(){st.clear()}const mn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class us{constructor(le,Ue,tt){this._isDeleted=!1,this._options=Object.assign({},le),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=tt,this.container.addComponent(new O.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(le){this.checkDestroyed(),this._automaticDataCollectionEnabled=le}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(le){this._isDeleted=le}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const Vo="9.16.0";function cs(Ne,le={}){let Ue=Ne;"object"!=typeof le&&(le={name:le});const tt=Object.assign({name:Xt,automaticDataCollectionEnabled:!1},le),mt=tt.name;if("string"!=typeof mt||!mt)throw mn.create("bad-app-name",{appName:String(mt)});if(Ue||(Ue=(0,ae.aH)()),!Ue)throw mn.create("no-options");const Pt=Tt.get(mt);if(Pt){if((0,ae.vZ)(Ue,Pt.options)&&(0,ae.vZ)(tt,Pt.config))return Pt;throw mn.create("duplicate-app",{appName:mt})}const k=new O.H0(mt);for(const U of st.values())k.addComponent(U);const R=new us(Ue,tt,k);return Tt.set(mt,R),R}function vi(Ne=Xt){const le=Tt.get(Ne);if(!le&&Ne===Xt)return cs();if(!le)throw mn.create("no-app",{appName:Ne});return le}function Ui(){return Array.from(Tt.values())}function ls(Ne){return dn.apply(this,arguments)}function dn(){return(dn=(0,f.Z)(function*(Ne){const le=Ne.name;Tt.has(le)&&(Tt.delete(le),yield Promise.all(Ne.container.getProviders().map(Ue=>Ue.delete())),Ne.isDeleted=!0)})).apply(this,arguments)}function Ir(Ne,le,Ue){var tt;let mt=null!==(tt=ct[Ne])&&void 0!==tt?tt:Ne;Ue&&(mt+=`-${Ue}`);const Pt=mt.match(/\s|\//),k=le.match(/\s|\//);if(Pt||k){const R=[`Unable to register library "${mt}" with version "${le}":`];return Pt&&R.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Pt&&k&&R.push("and"),k&&R.push(`version name "${le}" contains illegal characters (whitespace or "/")`),void F.warn(R.join(" "))}Vt(new O.wA(`${mt}-version`,()=>({library:mt,version:le}),"VERSION"))}function rt(Ne,le){if(null!==Ne&&"function"!=typeof Ne)throw mn.create("invalid-log-argument");(0,X.Am)(Ne,le)}function wi(Ne){(0,X.Ub)(Ne)}const Dr="firebase-heartbeat-store";let Bi=null;function dt(){return Bi||(Bi=(0,de.X3)("firebase-heartbeat-database",1,{upgrade:(Ne,le)=>{0===le&&Ne.createObjectStore(Dr)}}).catch(Ne=>{throw mn.create("idb-open",{originalErrorMessage:Ne.message})})),Bi}function lt(){return(lt=(0,f.Z)(function*(Ne){try{return(yield dt()).transaction(Dr).objectStore(Dr).get(Dn(Ne))}catch(le){if(le instanceof ae.ZR)F.warn(le.message);else{const Ue=mn.create("idb-get",{originalErrorMessage:le?.message});F.warn(Ue.message)}}})).apply(this,arguments)}function Xn(Ne,le){return er.apply(this,arguments)}function er(){return(er=(0,f.Z)(function*(Ne,le){try{const tt=(yield dt()).transaction(Dr,"readwrite");return yield tt.objectStore(Dr).put(le,Dn(Ne)),tt.done}catch(Ue){if(Ue instanceof ae.ZR)F.warn(Ue.message);else{const tt=mn.create("idb-set",{originalErrorMessage:Ue?.message});F.warn(tt.message)}}})).apply(this,arguments)}function Dn(Ne){return`${Ne.name}!${Ne.options.appId}`}class $i{constructor(le){this.container=le,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new Rt(Ue),this._heartbeatsCachePromise=this._storage.read().then(tt=>(this._heartbeatsCache=tt,tt))}triggerHeartbeat(){var le=this;return(0,f.Z)(function*(){const tt=le.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=Kt();if(null===le._heartbeatsCache&&(le._heartbeatsCache=yield le._heartbeatsCachePromise),le._heartbeatsCache.lastSentHeartbeatDate!==mt&&!le._heartbeatsCache.heartbeats.some(Pt=>Pt.date===mt))return le._heartbeatsCache.heartbeats.push({date:mt,agent:tt}),le._heartbeatsCache.heartbeats=le._heartbeatsCache.heartbeats.filter(Pt=>{const k=new Date(Pt.date).valueOf();return Date.now()-k<=2592e6}),le._storage.overwrite(le._heartbeatsCache)})()}getHeartbeatsHeader(){var le=this;return(0,f.Z)(function*(){if(null===le._heartbeatsCache&&(yield le._heartbeatsCachePromise),null===le._heartbeatsCache||0===le._heartbeatsCache.heartbeats.length)return"";const Ue=Kt(),{heartbeatsToSend:tt,unsentEntries:mt}=function Uo(Ne,le=1024){const Ue=[];let tt=Ne.slice();for(const mt of Ne){const Pt=Ue.find(k=>k.agent===mt.agent);if(Pt){if(Pt.dates.push(mt.date),Jr(Ue)>le){Pt.dates.pop();break}}else if(Ue.push({agent:mt.agent,dates:[mt.date]}),Jr(Ue)>le){Ue.pop();break}tt=tt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:tt}}(le._heartbeatsCache.heartbeats),Pt=(0,ae.L)(JSON.stringify({version:2,heartbeats:tt}));return le._heartbeatsCache.lastSentHeartbeatDate=Ue,mt.length>0?(le._heartbeatsCache.heartbeats=mt,yield le._storage.overwrite(le._heartbeatsCache)):(le._heartbeatsCache.heartbeats=[],le._storage.overwrite(le._heartbeatsCache)),Pt})()}}function Kt(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(le){this.app=le,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,f.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var le=this;return(0,f.Z)(function*(){return(yield le._canUseIndexedDBPromise)&&(yield function Ze(Ne){return lt.apply(this,arguments)}(le.app))||{heartbeats:[]}})()}overwrite(le){var Ue=this;return(0,f.Z)(function*(){var tt;if(yield Ue._canUseIndexedDBPromise){const Pt=yield Ue.read();return Xn(Ue.app,{lastSentHeartbeatDate:null!==(tt=le.lastSentHeartbeatDate)&&void 0!==tt?tt:Pt.lastSentHeartbeatDate,heartbeats:le.heartbeats})}})()}add(le){var Ue=this;return(0,f.Z)(function*(){var tt;if(yield Ue._canUseIndexedDBPromise){const Pt=yield Ue.read();return Xn(Ue.app,{lastSentHeartbeatDate:null!==(tt=le.lastSentHeartbeatDate)&&void 0!==tt?tt:Pt.lastSentHeartbeatDate,heartbeats:[...Pt.heartbeats,...le.heartbeats]})}})()}}function Jr(Ne){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Ne})).length}!function ji(Ne){Vt(new O.wA("platform-logger",le=>new se(le),"PRIVATE")),Vt(new O.wA("heartbeat",le=>new $i(le),"PRIVATE")),Ir(me,"0.9.1",Ne),Ir(me,"0.9.1","esm2017"),Ir("fire-js","")}("")},4859:(et,ve,N)=>{N.d(ve,{H0:()=>me,wA:()=>X});var f=N(5861),O=N(2090);class X{constructor(F,L,j){this.name=F,this.instanceFactory=L,this.type=j,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ae="[DEFAULT]";class de{constructor(F,L){this.name=F,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const L=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(L)){const j=new O.BH;if(this.instancesDeferred.set(L,j),this.isInitialized(L)||this.shouldAutoInitialize())try{const Oe=this.getOrInitializeService({instanceIdentifier:L});Oe&&j.resolve(Oe)}catch{}}return this.instancesDeferred.get(L).promise}getImmediate(F){var L;const j=this.normalizeInstanceIdentifier(F?.identifier),Oe=null!==(L=F?.optional)&&void 0!==L&&L;if(!this.isInitialized(j)&&!this.shouldAutoInitialize()){if(Oe)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:j})}catch(Ce){if(Oe)return null;throw Ce}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function xe(De){return"EAGER"===De.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[L,j]of this.instancesDeferred.entries()){const Oe=this.normalizeInstanceIdentifier(L);try{const Ce=this.getOrInitializeService({instanceIdentifier:Oe});j.resolve(Ce)}catch{}}}}clearInstance(F=ae){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,f.Z)(function*(){const L=Array.from(F.instances.values());yield Promise.all([...L.filter(j=>"INTERNAL"in j).map(j=>j.INTERNAL.delete()),...L.filter(j=>"_delete"in j).map(j=>j._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ae){return this.instances.has(F)}getOptions(F=ae){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:L={}}=F,j=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(j))throw Error(`${this.name}(${j}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Oe=this.getOrInitializeService({instanceIdentifier:j,options:L});for(const[Ce,Be]of this.instancesDeferred.entries())j===this.normalizeInstanceIdentifier(Ce)&&Be.resolve(Oe);return Oe}onInit(F,L){var j;const Oe=this.normalizeInstanceIdentifier(L),Ce=null!==(j=this.onInitCallbacks.get(Oe))&&void 0!==j?j:new Set;Ce.add(F),this.onInitCallbacks.set(Oe,Ce);const Be=this.instances.get(Oe);return Be&&F(Be,Oe),()=>{Ce.delete(F)}}invokeOnInitCallbacks(F,L){const j=this.onInitCallbacks.get(L);if(j)for(const Oe of j)try{Oe(F,L)}catch{}}getOrInitializeService({instanceIdentifier:F,options:L={}}){let j=this.instances.get(F);if(!j&&this.component&&(j=this.component.instanceFactory(this.container,{instanceIdentifier:(De=F,De===ae?void 0:De),options:L}),this.instances.set(F,j),this.instancesOptions.set(F,L),this.invokeOnInitCallbacks(j,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,j)}catch{}var De;return j||null}normalizeInstanceIdentifier(F=ae){return this.component?this.component.multipleInstances?F:ae:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class me{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const L=this.getProvider(F.name);if(L.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);L.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const L=new de(F,this);return this.providers.set(F,L),L}getProviders(){return Array.from(this.providers.values())}}},1877:(et,ve,N)=>{N.d(ve,{Am:()=>De,Ub:()=>me,Yd:()=>xe,in:()=>O});const f=[];var O=(()=>{return(F=O||(O={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",O;var F})();const X={debug:O.DEBUG,verbose:O.VERBOSE,info:O.INFO,warn:O.WARN,error:O.ERROR,silent:O.SILENT},ae=O.INFO,de={[O.DEBUG]:"log",[O.VERBOSE]:"log",[O.INFO]:"info",[O.WARN]:"warn",[O.ERROR]:"error"},se=(F,L,...j)=>{if(L<F.logLevel)return;const Oe=(new Date).toISOString(),Ce=de[L];if(!Ce)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[Ce](`[${Oe}]  ${F.name}:`,...j)};class xe{constructor(L){this.name=L,this._logLevel=ae,this._logHandler=se,this._userLogHandler=null,f.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in O))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?X[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,O.DEBUG,...L),this._logHandler(this,O.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,O.VERBOSE,...L),this._logHandler(this,O.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,O.INFO,...L),this._logHandler(this,O.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,O.WARN,...L),this._logHandler(this,O.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,O.ERROR,...L),this._logHandler(this,O.ERROR,...L)}}function me(F){f.forEach(L=>{L.setLogLevel(F)})}function De(F,L){for(const j of f){let Oe=null;L&&L.level&&(Oe=X[L.level]),j.userLogHandler=null===F?null:(Ce,Be,...He)=>{const K=He.map(ye=>{if(null==ye)return null;if("string"==typeof ye)return ye;if("number"==typeof ye||"boolean"==typeof ye)return ye.toString();if(ye instanceof Error)return ye.message;try{return JSON.stringify(ye)}catch{return null}}).filter(ye=>ye).join(" ");Be>=(Oe??Ce.logLevel)&&F({level:O[Be].toLowerCase(),message:K,args:He,type:Ce.name})}}}},9260:(et,ve,N)=>{N.d(ve,{Z:()=>f.Z});var f=N(3942);f.Z.registerVersion("firebase","9.16.0","app-compat")},8766:(et,ve,N)=>{N.d(ve,{Lj:()=>be,X3:()=>we});var f=N(5861);let X,ae;const xe=new WeakMap,me=new WeakMap,De=new WeakMap,F=new WeakMap,L=new WeakMap;let Ce={get(Y,ue,$){if(Y instanceof IDBTransaction){if("done"===ue)return me.get(Y);if("objectStoreNames"===ue)return Y.objectStoreNames||De.get(Y);if("store"===ue)return $.objectStoreNames[1]?void 0:$.objectStore($.objectStoreNames[0])}return ye(Y[ue])},set:(Y,ue,$)=>(Y[ue]=$,!0),has:(Y,ue)=>Y instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in Y};function K(Y){return"function"==typeof Y?function He(Y){return Y!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function se(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Y)?function(...ue){return Y.apply(fe(this),ue),ye(xe.get(this))}:function(...ue){return ye(Y.apply(fe(this),ue))}:function(ue,...$){const B=Y.call(fe(this),ue,...$);return De.set(B,ue.sort?ue.sort():[ue]),ye(B)}}(Y):(Y instanceof IDBTransaction&&function Oe(Y){if(me.has(Y))return;const ue=new Promise(($,B)=>{const ee=()=>{Y.removeEventListener("complete",Z),Y.removeEventListener("error",Te),Y.removeEventListener("abort",Te)},Z=()=>{$(),ee()},Te=()=>{B(Y.error||new DOMException("AbortError","AbortError")),ee()};Y.addEventListener("complete",Z),Y.addEventListener("error",Te),Y.addEventListener("abort",Te)});me.set(Y,ue)}(Y),((Y,ue)=>ue.some($=>Y instanceof $))(Y,function de(){return X||(X=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Y,Ce):Y)}function ye(Y){if(Y instanceof IDBRequest)return function j(Y){const ue=new Promise(($,B)=>{const ee=()=>{Y.removeEventListener("success",Z),Y.removeEventListener("error",Te)},Z=()=>{$(ye(Y.result)),ee()},Te=()=>{B(Y.error),ee()};Y.addEventListener("success",Z),Y.addEventListener("error",Te)});return ue.then($=>{$ instanceof IDBCursor&&xe.set($,Y)}).catch(()=>{}),L.set(ue,Y),ue}(Y);if(F.has(Y))return F.get(Y);const ue=K(Y);return ue!==Y&&(F.set(Y,ue),L.set(ue,Y)),ue}const fe=Y=>L.get(Y);function we(Y,ue,{blocked:$,upgrade:B,blocking:ee,terminated:Z}={}){const Te=indexedDB.open(Y,ue),Ae=ye(Te);return B&&Te.addEventListener("upgradeneeded",Ke=>{B(ye(Te.result),Ke.oldVersion,Ke.newVersion,ye(Te.transaction))}),$&&Te.addEventListener("blocked",()=>$()),Ae.then(Ke=>{Z&&Ke.addEventListener("close",()=>Z()),ee&&Ke.addEventListener("versionchange",()=>ee())}).catch(()=>{}),Ae}function be(Y,{blocked:ue}={}){const $=indexedDB.deleteDatabase(Y);return ue&&$.addEventListener("blocked",()=>ue()),ye($).then(()=>{})}const pe=["get","getKey","getAll","getAllKeys","count"],he=["put","add","delete","clear"],Re=new Map;function W(Y,ue){if(!(Y instanceof IDBDatabase)||ue in Y||"string"!=typeof ue)return;if(Re.get(ue))return Re.get(ue);const $=ue.replace(/FromIndex$/,""),B=ue!==$,ee=he.includes($);if(!($ in(B?IDBIndex:IDBObjectStore).prototype)||!ee&&!pe.includes($))return;const Z=function(){var Te=(0,f.Z)(function*(Ae,...Ke){const jt=this.transaction(Ae,ee?"readwrite":"readonly");let Xt=jt.store;return B&&(Xt=Xt.index(Ke.shift())),(yield Promise.all([Xt[$](...Ke),ee&&jt.done]))[0]});return function(Ke){return Te.apply(this,arguments)}}();return Re.set(ue,Z),Z}!function Be(Y){Ce=Y(Ce)}(Y=>({...Y,get:(ue,$,B)=>W(ue,$)||Y.get(ue,$,B),has:(ue,$)=>!!W(ue,$)||Y.has(ue,$)}))},5861:(et,ve,N)=>{function f(X,ae,de,se,xe,me,De){try{var F=X[me](De),L=F.value}catch(j){return void de(j)}F.done?ae(L):Promise.resolve(L).then(se,xe)}function O(X){return function(){var ae=this,de=arguments;return new Promise(function(se,xe){var me=X.apply(ae,de);function De(L){f(me,se,xe,De,F,"next",L)}function F(L){f(me,se,xe,De,F,"throw",L)}De(void 0)})}}N.d(ve,{Z:()=>O})}},et=>{et(et.s=9873)}]);