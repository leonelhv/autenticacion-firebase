"use strict";(self.webpackChunkautenticacion_firebase=self.webpackChunkautenticacion_firebase||[]).push([[179],{2011:(Qe,_e,R)=>{R.d(_e,{Dh:()=>Re,GT:()=>he,cc:()=>ke,on:()=>Ce,pX:()=>ae,xv:()=>ye});var h=R(4650),k=R(9260);Qe=R.hmd(Qe);const J=["ngOnDestroy"],ae=(Z,ve,ge,Ee={})=>new Proxy(Z,{get:(Se,me)=>ge.runOutsideAngular(()=>{var pe;if(Z[me])return!(null===(pe=Ee?.spy)||void 0===pe)&&pe.get&&Ee.spy.get(me,Z[me]),Z[me];if(J.indexOf(me)>-1)return()=>{};const Me=ve.toPromise().then(W=>{const Q=W&&W[me];return"function"==typeof Q?Q.bind(W):Q&&Q.then?Q.then(ue=>ge.run(()=>ue)):ge.run(()=>Q)});return new Proxy(()=>{},{get:(W,Q)=>Me[Q],apply:(W,Q,ue)=>Me.then(j=>{var B;const te=j&&j(...ue);return!(null===(B=Ee?.spy)||void 0===B)&&B.apply&&Ee.spy.apply(me,ue,te),te})})})}),he=(Z,ve)=>{ve.forEach(ge=>{Object.getOwnPropertyNames(ge.prototype||ge).forEach(Ee=>{Object.defineProperty(Z.prototype,Ee,Object.getOwnPropertyDescriptor(ge.prototype||ge,Ee))})})};class ne{constructor(ve){return ve}}const Re=new h.OlP("angularfire2.app.options"),ye=new h.OlP("angularfire2.app.name");function Ce(Z,ve,ge){const Se="object"==typeof ge&&ge||{};Se.name=Se.name||"string"==typeof ge&&ge||"[DEFAULT]";const pe=k.Z.apps.filter(Me=>Me&&Me.name===Se.name)[0]||ve.runOutsideAngular(()=>k.Z.initializeApp(Z,Se));try{JSON.stringify(Z)!==JSON.stringify(pe.options)&&F("error",`${pe.name} Firebase App already initialized with different options${Qe.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ne(pe)}const F=(Z,...ve)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Z](...ve)};function ke(Z,ve,ge,Ee,Se){const[,me,pe]=globalThis.\u0275AngularfireInstanceCache.find(Me=>Me[0]===Z)||[];if(me)return function be(Z,ve){try{return Z.toString()===ve.toString()}catch{return Z===ve}}(Se,pe)||(He("error",`${ve} was already initialized on the ${ge} Firebase App with different settings.${Be?" You may need to reload as Firebase is not HMR aware.":""}`),He("warn",{is:Se,was:pe})),me;{const Me=Ee();return globalThis.\u0275AngularfireInstanceCache.push([Z,Me,Se]),Me}}const Be=!!Qe.hot,He=(Z,...ve)=>{(0,h.X6Q)()&&typeof console<"u"&&console[Z](...ve)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},1808:(Qe,_e,R)=>{R.d(_e,{$:()=>eh,A:()=>L,B:()=>be,G:()=>qd,H:()=>rn,J:()=>yn,L:()=>N,M:()=>Kd,N:()=>Hv,P:()=>FC,Q:()=>wg,R:()=>Kl,T:()=>Gv,U:()=>eu,V:()=>Xo,W:()=>OC,X:()=>Qd,Y:()=>dr,Z:()=>Vl,_:()=>Ul,a:()=>sa,a0:()=>Dg,a1:()=>th,a2:()=>gt,a3:()=>Zv,a4:()=>Ig,a5:()=>nh,a6:()=>Cg,a7:()=>re,a8:()=>bg,a9:()=>Sg,aA:()=>O,aB:()=>Cu,aC:()=>Mh,aD:()=>zn,aE:()=>Pn,aI:()=>Xi,aL:()=>oo,aa:()=>mi,ab:()=>ih,ac:()=>Ag,af:()=>lo,ag:()=>Ki,ah:()=>oh,ak:()=>qv,al:()=>lh,an:()=>ew,ao:()=>cu,ap:()=>ue,aq:()=>Dt,ar:()=>en,as:()=>Ee,at:()=>Tu,au:()=>qr,av:()=>Er,aw:()=>Se,ax:()=>W,ay:()=>ha,az:()=>B,b:()=>fh,c:()=>Ql,d:()=>aw,e:()=>ow,f:()=>Iu,g:()=>Oh,h:()=>wo,i:()=>_h,j:()=>wn,k:()=>sc,l:()=>sw,m:()=>Fn,n:()=>lc,o:()=>ye,r:()=>Sh,s:()=>Ch,u:()=>NC});var h=R(5861),k=R(2090),J=R(9681),ae=R(1877),he=R(655),ne=R(4859);const ye={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},L={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};const be=function H(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance."}},Be=function ke(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},He=new k.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),ve=new ae.Yd("@firebase/auth");function ge(v,...p){ve.logLevel<=ae.in.ERROR&&ve.error(`Auth (${J.SDK_VERSION}): ${v}`,...p)}function Ee(v,...p){throw Me(v,...p)}function Se(v,...p){return Me(v,...p)}function me(v,p,m){const E=Object.assign(Object.assign({},Be()),{[p]:m});return new k.LL("auth","Firebase",E).create(p,{appName:v.name})}function pe(v,p,m){if(!(p instanceof m))throw m.name!==p.constructor.name&&Ee(v,"argument-error"),me(v,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function Me(v,...p){if("string"!=typeof v){const m=p[0],E=[...p.slice(1)];return E[0]&&(E[0].appName=v.name),v._errorFactory.create(m,...E)}return He.create(v,...p)}function W(v,p,...m){if(!v)throw Me(p,...m)}function Q(v){const p="INTERNAL ASSERTION FAILED: "+v;throw ge(p),new Error(p)}function ue(v,p){v||Q(p)}const j=new Map;function B(v){ue(v instanceof Function,"Expected a class definition");let p=j.get(v);return p?(ue(p instanceof v,"Instance stored in cache mismatched with class"),p):(p=new v,j.set(v,p),p)}function Te(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.href)||""}function xe(){return"http:"===Ke()||"https:"===Ke()}function Ke(){var v;return typeof self<"u"&&(null===(v=self.location)||void 0===v?void 0:v.protocol)||null}class ct{constructor(p,m){this.shortDelay=p,this.longDelay=m,ue(m>p,"Short delay should be less than long delay!"),this.isMobile=(0,k.uI)()||(0,k.b$)()}get(){return function $t(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(xe()||(0,k.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function St(v,p){ue(v.emulator,"Emulator should always be set here");const{url:m}=v.emulator;return p?`${m}${p.startsWith("/")?p.slice(1):p}`:m}class st{static initialize(p,m,E){this.fetchImpl=p,m&&(this.headersImpl=m),E&&(this.responseImpl=E)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Q("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Q("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Q("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Wt={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error"},ur=new ct(3e4,6e4);function Lt(v,p){return v.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:v.tenantId}):p}function et(v,p,m,E){return gs.apply(this,arguments)}function gs(){return(gs=(0,h.Z)(function*(v,p,m,E,S={}){return ni(v,S,(0,h.Z)(function*(){let x={},G={};E&&("GET"===p?G=E:x={body:JSON.stringify(E)});const le=(0,k.xO)(Object.assign({key:v.config.apiKey},G)).slice(1),Le=yield v._getAdditionalHeaders();return Le["Content-Type"]="application/json",v.languageCode&&(Le["X-Firebase-Locale"]=v.languageCode),st.fetch()(Zo(v,v.config.apiHost,m,le),Object.assign({method:p,headers:Le,referrerPolicy:"no-referrer"},x))}))})).apply(this,arguments)}function ni(v,p,m){return Gi.apply(this,arguments)}function Gi(){return(Gi=(0,h.Z)(function*(v,p,m){v._canInitEmulator=!1;const E=Object.assign(Object.assign({},Wt),p);try{const S=new ys(v),x=yield Promise.race([m(),S.promise]);S.clearNetworkTimeout();const G=yield x.json();if("needConfirmation"in G)throw Ci(v,"account-exists-with-different-credential",G);if(x.ok&&!("errorMessage"in G))return G;{const le=x.ok?G.errorMessage:G.error.message,[Le,ze]=le.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===Le)throw Ci(v,"credential-already-in-use",G);if("EMAIL_EXISTS"===Le)throw Ci(v,"email-already-in-use",G);if("USER_DISABLED"===Le)throw Ci(v,"user-disabled",G);const yt=E[Le]||Le.toLowerCase().replace(/[_\s]+/g,"-");if(ze)throw me(v,yt,ze);Ee(v,yt)}}catch(S){if(S instanceof k.ZR)throw S;Ee(v,"network-request-failed")}})).apply(this,arguments)}function mn(v,p,m,E){return ms.apply(this,arguments)}function ms(){return(ms=(0,h.Z)(function*(v,p,m,E,S={}){const x=yield et(v,p,m,E,S);return"mfaPendingCredential"in x&&Ee(v,"multi-factor-auth-required",{_serverResponse:x}),x})).apply(this,arguments)}function Zo(v,p,m,E){const S=`${p}${m}?${E}`;return v.config.emulator?St(v.config,S):`${v.config.apiScheme}://${S}`}class ys{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((m,E)=>{this.timer=setTimeout(()=>E(Se(this.auth,"network-request-failed")),ur.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Ci(v,p,m){const E={appName:v.name};m.email&&(E.email=m.email),m.phoneNumber&&(E.phoneNumber=m.phoneNumber);const S=Se(v,p,E);return S.customData._tokenResponse=m,S}function _s(){return(_s=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function cn(v,p){return vr.apply(this,arguments)}function vr(){return(vr=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function rt(v,p){return bi.apply(this,arguments)}function bi(){return(bi=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Si(v){if(v)try{const p=new Date(Number(v));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function Wi(){return(Wi=(0,h.Z)(function*(v,p=!1){const m=(0,k.m9)(v),E=yield m.getIdToken(p),S=Ye(E);W(S&&S.exp&&S.auth_time&&S.iat,m.auth,"internal-error");const x="object"==typeof S.firebase?S.firebase:void 0,G=x?.sign_in_provider;return{claims:S,token:E,authTime:Si(ft(S.auth_time)),issuedAtTime:Si(ft(S.iat)),expirationTime:Si(ft(S.exp)),signInProvider:G||null,signInSecondFactor:x?.sign_in_second_factor||null}})).apply(this,arguments)}function ft(v){return 1e3*Number(v)}function Ye(v){const[p,m,E]=v.split(".");if(void 0===p||void 0===m||void 0===E)return ge("JWT malformed, contained fewer than 3 sections"),null;try{const S=(0,k.tV)(m);return S?JSON.parse(S):(ge("Failed to decode base64 JWT payload"),null)}catch(S){return ge("Caught error parsing JWT payload as JSON",S?.toString()),null}}function Jn(v,p){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(v,p,m=!1){if(m)return p;try{return yield p}catch(E){throw E instanceof k.ZR&&In(E)&&v.auth.currentUser===v&&(yield v.auth.signOut()),E}})).apply(this,arguments)}function In({code:v}){return"auth/user-disabled"===v||"auth/user-token-expired"===v}class gi{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var m;if(p){const E=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),E}{this.errorBackoff=3e4;const S=(null!==(m=this.user.stsTokenManager.expirationTime)&&void 0!==m?m:0)-Date.now()-3e5;return Math.max(0,S)}}schedule(p=!1){var m=this;if(!this.isRunning)return;const E=this.getInterval(p);this.timerId=setTimeout((0,h.Z)(function*(){yield m.iteration()}),E)}iteration(){var p=this;return(0,h.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(m){return void("auth/network-request-failed"===m?.code&&p.schedule(!0))}p.schedule()})()}}class tr{constructor(p,m){this.createdAt=p,this.lastLoginAt=m,this._initializeTime()}_initializeTime(){this.lastSignInTime=Si(this.lastLoginAt),this.creationTime=Si(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function qi(v){return qt.apply(this,arguments)}function qt(){return(qt=(0,h.Z)(function*(v){var p;const m=v.auth,E=yield v.getIdToken(),S=yield Jn(v,rt(m,{idToken:E}));W(S?.users.length,m,"internal-error");const x=S.users[0];v._notifyReloadListener(x);const G=null!==(p=x.providerUserInfo)&&void 0!==p&&p.length?Zi(x.providerUserInfo):[],le=ri(v.providerData,G),yt=!!v.isAnonymous&&!(v.email&&x.passwordHash||le?.length),zt={uid:x.localId,displayName:x.displayName||null,photoURL:x.photoUrl||null,email:x.email||null,emailVerified:x.emailVerified||!1,phoneNumber:x.phoneNumber||null,tenantId:x.tenantId||null,providerData:le,metadata:new tr(x.createdAt,x.lastLoginAt),isAnonymous:yt};Object.assign(v,zt)})).apply(this,arguments)}function Rt(){return(Rt=(0,h.Z)(function*(v){const p=(0,k.m9)(v);yield qi(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function ri(v,p){return[...v.filter(E=>!p.some(S=>S.providerId===E.providerId)),...p]}function Zi(v){return v.map(p=>{var{providerId:m}=p,E=(0,he._T)(p,["providerId"]);return{providerId:m,uid:E.rawId||"",displayName:E.displayName||null,email:E.email||null,phoneNumber:E.phoneNumber||null,photoURL:E.photoUrl||null}})}function ce(){return(ce=(0,h.Z)(function*(v,p){const m=yield ni(v,{},(0,h.Z)(function*(){const E=(0,k.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:S,apiKey:x}=v.config,G=Zo(v,S,"/v1/token",`key=${x}`),le=yield v._getAdditionalHeaders();return le["Content-Type"]="application/x-www-form-urlencoded",st.fetch()(G,{method:"POST",headers:le,body:E})}));return{accessToken:m.access_token,expiresIn:m.expires_in,refreshToken:m.refresh_token}})).apply(this,arguments)}class Ue{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){W(p.idToken,"internal-error"),W(typeof p.idToken<"u","internal-error"),W(typeof p.refreshToken<"u","internal-error");const m="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function dt(v){const p=Ye(v);return W(p,"internal-error"),W(typeof p.exp<"u","internal-error"),W(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,m)}getToken(p,m=!1){var E=this;return(0,h.Z)(function*(){return W(!E.accessToken||E.refreshToken,p,"user-token-expired"),m||!E.accessToken||E.isExpired?E.refreshToken?(yield E.refresh(p,E.refreshToken),E.accessToken):null:E.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,m){var E=this;return(0,h.Z)(function*(){const{accessToken:S,refreshToken:x,expiresIn:G}=yield function Oe(v,p){return ce.apply(this,arguments)}(p,m);E.updateTokensAndExpiration(S,x,Number(G))})()}updateTokensAndExpiration(p,m,E){this.refreshToken=m||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*E}static fromJSON(p,m){const{refreshToken:E,accessToken:S,expirationTime:x}=m,G=new Ue;return E&&(W("string"==typeof E,"internal-error",{appName:p}),G.refreshToken=E),S&&(W("string"==typeof S,"internal-error",{appName:p}),G.accessToken=S),x&&(W("number"==typeof x,"internal-error",{appName:p}),G.expirationTime=x),G}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new Ue,this.toJSON())}_performRefresh(){return Q("not implemented")}}function nt(v,p){W("string"==typeof v||typeof v>"u","internal-error",{appName:p})}class mt{constructor(p){var{uid:m,auth:E,stsTokenManager:S}=p,x=(0,he._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new gi(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=m,this.auth=E,this.stsTokenManager=S,this.accessToken=S.accessToken,this.displayName=x.displayName||null,this.email=x.email||null,this.emailVerified=x.emailVerified||!1,this.phoneNumber=x.phoneNumber||null,this.photoURL=x.photoURL||null,this.isAnonymous=x.isAnonymous||!1,this.tenantId=x.tenantId||null,this.providerData=x.providerData?[...x.providerData]:[],this.metadata=new tr(x.createdAt||void 0,x.lastLoginAt||void 0)}getIdToken(p){var m=this;return(0,h.Z)(function*(){const E=yield Jn(m,m.stsTokenManager.getToken(m.auth,p));return W(E,m.auth,"internal-error"),m.accessToken!==E&&(m.accessToken=E,yield m.auth._persistUserIfCurrent(m),m.auth._notifyListenersIfCurrent(m)),E})()}getIdTokenResult(p){return function wr(v){return Wi.apply(this,arguments)}(this,p)}reload(){return function Ko(v){return Rt.apply(this,arguments)}(this)}_assign(p){this!==p&&(W(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(m=>Object.assign({},m)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){return new mt(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}))}_onReload(p){W(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,m=!1){var E=this;return(0,h.Z)(function*(){let S=!1;p.idToken&&p.idToken!==E.stsTokenManager.accessToken&&(E.stsTokenManager.updateFromServerResponse(p),S=!0),m&&(yield qi(E)),yield E.auth._persistUserIfCurrent(E),S&&E.auth._notifyListenersIfCurrent(E)})()}delete(){var p=this;return(0,h.Z)(function*(){const m=yield p.getIdToken();return yield Jn(p,function zi(v,p){return _s.apply(this,arguments)}(p.auth,{idToken:m})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,m){var E,S,x,G,le,Le,ze,yt;const zt=null!==(E=m.displayName)&&void 0!==E?E:void 0,Or=null!==(S=m.email)&&void 0!==S?S:void 0,kr=null!==(x=m.phoneNumber)&&void 0!==x?x:void 0,ma=null!==(G=m.photoURL)&&void 0!==G?G:void 0,Ni=null!==(le=m.tenantId)&&void 0!==le?le:void 0,ss=null!==(Le=m._redirectEventId)&&void 0!==Le?Le:void 0,xu=null!==(ze=m.createdAt)&&void 0!==ze?ze:void 0,cc=null!==(yt=m.lastLoginAt)&&void 0!==yt?yt:void 0,{uid:ya,emailVerified:Hh,isAnonymous:Gh,providerData:Co,stsTokenManager:zh}=m;W(ya&&zh,p,"internal-error");const Zg=Ue.fromJSON(this.name,zh);W("string"==typeof ya,p,"internal-error"),nt(zt,p.name),nt(Or,p.name),W("boolean"==typeof Hh,p,"internal-error"),W("boolean"==typeof Gh,p,"internal-error"),nt(kr,p.name),nt(ma,p.name),nt(Ni,p.name),nt(ss,p.name),nt(xu,p.name),nt(cc,p.name);const dc=new mt({uid:ya,auth:p,email:Or,emailVerified:Hh,displayName:zt,isAnonymous:Gh,photoURL:ma,phoneNumber:kr,tenantId:Ni,stsTokenManager:Zg,createdAt:xu,lastLoginAt:cc});return Co&&Array.isArray(Co)&&(dc.providerData=Co.map(Wh=>Object.assign({},Wh))),ss&&(dc._redirectEventId=ss),dc}static _fromIdTokenResponse(p,m,E=!1){return(0,h.Z)(function*(){const S=new Ue;S.updateFromServerResponse(m);const x=new mt({uid:m.localId,auth:p,stsTokenManager:S,isAnonymous:E});return yield qi(x),x})()}}const N=(()=>{class v{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,h.Z)(function*(){return!0})()}_set(m,E){var S=this;return(0,h.Z)(function*(){S.storage[m]=E})()}_get(m){var E=this;return(0,h.Z)(function*(){const S=E.storage[m];return void 0===S?null:S})()}_remove(m){var E=this;return(0,h.Z)(function*(){delete E.storage[m]})()}_addListener(m,E){}_removeListener(m,E){}}return v.type="NONE",v})();function O(v,p,m){return`firebase:${v}:${p}:${m}`}class U{constructor(p,m,E){this.persistence=p,this.auth=m,this.userKey=E;const{config:S,name:x}=this.auth;this.fullUserKey=O(this.userKey,S.apiKey,x),this.fullPersistenceKey=O("persistence",S.apiKey,x),this.boundEventHandler=m._onStorageEvent.bind(m),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,h.Z)(function*(){const m=yield p.persistence._get(p.fullUserKey);return m?mt._fromJSON(p.auth,m):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var m=this;return(0,h.Z)(function*(){if(m.persistence===p)return;const E=yield m.getCurrentUser();return yield m.removeCurrentUser(),m.persistence=p,E?m.setCurrentUser(E):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,m,E="authUser"){return(0,h.Z)(function*(){if(!m.length)return new U(B(N),p,E);const S=(yield Promise.all(m.map(function(){var ze=(0,h.Z)(function*(yt){if(yield yt._isAvailable())return yt});return function(yt){return ze.apply(this,arguments)}}()))).filter(ze=>ze);let x=S[0]||B(N);const G=O(E,p.config.apiKey,p.name);let le=null;for(const ze of m)try{const yt=yield ze._get(G);if(yt){const zt=mt._fromJSON(p,yt);ze!==x&&(le=zt),x=ze;break}}catch{}const Le=S.filter(ze=>ze._shouldAllowMigration);return x._shouldAllowMigration&&Le.length?(x=Le[0],le&&(yield x._set(G,le.toJSON())),yield Promise.all(m.map(function(){var ze=(0,h.Z)(function*(yt){if(yt!==x)try{yield yt._remove(G)}catch{}});return function(yt){return ze.apply(this,arguments)}}())),new U(x,p,E)):new U(x,p,E)})()}}function se(v){const p=v.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Ft(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(q(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(ut(p))return"Blackberry";if(kn(p))return"Webos";if(Ge(p))return"Safari";if((p.includes("chrome/")||Et(p))&&!p.includes("edge/"))return"Chrome";if(en(p))return"Android";{const E=v.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===E?.length)return E[1]}return"Other"}function q(v=(0,k.z$)()){return/firefox\//i.test(v)}function Ge(v=(0,k.z$)()){const p=v.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function Et(v=(0,k.z$)()){return/crios\//i.test(v)}function Ft(v=(0,k.z$)()){return/iemobile/i.test(v)}function en(v=(0,k.z$)()){return/android/i.test(v)}function ut(v=(0,k.z$)()){return/blackberry/i.test(v)}function kn(v=(0,k.z$)()){return/webos/i.test(v)}function Dt(v=(0,k.z$)()){return/iphone|ipad|ipod/i.test(v)||/macintosh/i.test(v)&&/mobile/i.test(v)}function Er(v=(0,k.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(v)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(v)}function ws(v=(0,k.z$)()){return Dt(v)||en(v)||kn(v)||ut(v)||/windows phone/i.test(v)||Ft(v)}function Xs(v,p=[]){let m;switch(v){case"Browser":m=se((0,k.z$)());break;case"Worker":m=`${se((0,k.z$)())}-${v}`;break;default:m=v}const E=p.length?p.join(","):"FirebaseCore-web";return`${m}/JsCore/${J.SDK_VERSION}/${E}`}class vg{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,m){const E=x=>new Promise((G,le)=>{try{G(p(x))}catch(Le){le(Le)}});E.onAbort=m,this.queue.push(E);const S=this.queue.length-1;return()=>{this.queue[S]=()=>Promise.resolve()}}runMiddleware(p){var m=this;return(0,h.Z)(function*(){if(m.auth.currentUser===p)return;const E=[];try{for(const S of m.queue)yield S(p),S.onAbort&&E.push(S.onAbort)}catch(S){E.reverse();for(const x of E)try{x()}catch{}throw m.auth._errorFactory.create("login-blocked",{originalMessage:S?.message})}})()}}class Wd{constructor(p,m,E){this.app=p,this.heartbeatServiceProvider=m,this.config=E,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Js(this),this.idTokenSubscription=new Js(this),this.beforeStateQueue=new vg(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=He,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=E.sdkClientVersion}_initializeWithPersistence(p,m){var E=this;return m&&(this._popupRedirectResolver=B(m)),this._initializationPromise=this.queue((0,h.Z)(function*(){var S,x;if(!E._deleted&&(E.persistenceManager=yield U.create(E,p),!E._deleted)){if(null!==(S=E._popupRedirectResolver)&&void 0!==S&&S._shouldInitProactively)try{yield E._popupRedirectResolver._initialize(E)}catch{}yield E.initializeCurrentUser(m),E.lastNotifiedUid=(null===(x=E.currentUser)||void 0===x?void 0:x.uid)||null,!E._deleted&&(E._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,h.Z)(function*(){if(p._deleted)return;const m=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||m){if(p.currentUser&&m&&p.currentUser.uid===m.uid)return p._currentUser._assign(m),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(m,!0)}})()}initializeCurrentUser(p){var m=this;return(0,h.Z)(function*(){var E;const S=yield m.assertedPersistence.getCurrentUser();let x=S,G=!1;if(p&&m.config.authDomain){yield m.getOrInitRedirectPersistenceManager();const le=null===(E=m.redirectUser)||void 0===E?void 0:E._redirectEventId,Le=x?._redirectEventId,ze=yield m.tryRedirectSignIn(p);(!le||le===Le)&&ze?.user&&(x=ze.user,G=!0)}if(!x)return m.directlySetCurrentUser(null);if(!x._redirectEventId){if(G)try{yield m.beforeStateQueue.runMiddleware(x)}catch(le){x=S,m._popupRedirectResolver._overrideRedirectResult(m,()=>Promise.reject(le))}return x?m.reloadAndSetCurrentUserOrClear(x):m.directlySetCurrentUser(null)}return W(m._popupRedirectResolver,m,"argument-error"),yield m.getOrInitRedirectPersistenceManager(),m.redirectUser&&m.redirectUser._redirectEventId===x._redirectEventId?m.directlySetCurrentUser(x):m.reloadAndSetCurrentUserOrClear(x)})()}tryRedirectSignIn(p){var m=this;return(0,h.Z)(function*(){let E=null;try{E=yield m._popupRedirectResolver._completeRedirectFn(m,p,!0)}catch{yield m._setRedirectUser(null)}return E})()}reloadAndSetCurrentUserOrClear(p){var m=this;return(0,h.Z)(function*(){try{yield qi(p)}catch(E){if("auth/network-request-failed"!==E?.code)return m.directlySetCurrentUser(null)}return m.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function Jt(){if(typeof navigator>"u")return null;const v=navigator;return v.languages&&v.languages[0]||v.language||null}()}_delete(){var p=this;return(0,h.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var m=this;return(0,h.Z)(function*(){const E=p?(0,k.m9)(p):null;return E&&W(E.auth.config.apiKey===m.config.apiKey,m,"invalid-user-token"),m._updateCurrentUser(E&&E._clone(m))})()}_updateCurrentUser(p,m=!1){var E=this;return(0,h.Z)(function*(){if(!E._deleted)return p&&W(E.tenantId===p.tenantId,E,"tenant-id-mismatch"),m||(yield E.beforeStateQueue.runMiddleware(p)),E.queue((0,h.Z)(function*(){yield E.directlySetCurrentUser(p),E.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,h.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var m=this;return this.queue((0,h.Z)(function*(){yield m.assertedPersistence.setPersistence(B(p))}))}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new k.LL("auth","Firebase",p())}onAuthStateChanged(p,m,E){return this.registerStateListener(this.authStateSubscription,p,m,E)}beforeAuthStateChanged(p,m){return this.beforeStateQueue.pushCallback(p,m)}onIdTokenChanged(p,m,E){return this.registerStateListener(this.idTokenSubscription,p,m,E)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,m){var E=this;return(0,h.Z)(function*(){const S=yield E.getOrInitRedirectPersistenceManager(m);return null===p?S.removeCurrentUser():S.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var m=this;return(0,h.Z)(function*(){if(!m.redirectPersistenceManager){const E=p&&B(p)||m._popupRedirectResolver;W(E,m,"argument-error"),m.redirectPersistenceManager=yield U.create(m,[B(E._redirectPersistence)],"redirectUser"),m.redirectUser=yield m.redirectPersistenceManager.getCurrentUser()}return m.redirectPersistenceManager})()}_redirectUserForId(p){var m=this;return(0,h.Z)(function*(){var E,S;return m._isInitialized&&(yield m.queue((0,h.Z)(function*(){}))),(null===(E=m._currentUser)||void 0===E?void 0:E._redirectEventId)===p?m._currentUser:(null===(S=m.redirectUser)||void 0===S?void 0:S._redirectEventId)===p?m.redirectUser:null})()}_persistUserIfCurrent(p){var m=this;return(0,h.Z)(function*(){if(p===m.currentUser)return m.queue((0,h.Z)(function*(){return m.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,m;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const E=null!==(m=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==m?m:null;this.lastNotifiedUid!==E&&(this.lastNotifiedUid=E,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,m,E,S){if(this._deleted)return()=>{};const x="function"==typeof m?m:m.next.bind(m),G=this._isInitialized?Promise.resolve():this._initializationPromise;return W(G,this,"internal-error"),G.then(()=>x(this.currentUser)),"function"==typeof m?p.addObserver(m,E,S):p.addObserver(m)}directlySetCurrentUser(p){var m=this;return(0,h.Z)(function*(){m.currentUser&&m.currentUser!==p&&m._currentUser._stopProactiveRefresh(),p&&m.isProactiveRefreshEnabled&&p._startProactiveRefresh(),m.currentUser=p,p?yield m.assertedPersistence.setCurrentUser(p):yield m.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return W(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=Xs(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,h.Z)(function*(){var m;const E={"X-Client-Version":p.clientVersion};p.app.options.appId&&(E["X-Firebase-gmpid"]=p.app.options.appId);const S=yield null===(m=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===m?void 0:m.getHeartbeatsHeader();return S&&(E["X-Firebase-Client"]=S),E})()}}function Pn(v){return(0,k.m9)(v)}class Js{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,k.ne)(m=>this.observer=m)}get next(){return W(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function qd(v,p,m){const E=Pn(v);W(E._canInitEmulator,E,"emulator-config-failed"),W(/^https?:\/\//.test(p),E,"invalid-emulator-scheme");const S=!!m?.disableWarnings,x=Ml(p),{host:G,port:le}=function Zd(v){const p=Ml(v),m=/(\/\/)?([^?#/]+)/.exec(v.substr(p.length));if(!m)return{host:"",port:null};const E=m[2].split("@").pop()||"",S=/^(\[[^\]]+\])(:|$)/.exec(E);if(S){const x=S[1];return{host:x,port:Yo(E.substr(x.length+1))}}{const[x,G]=E.split(":");return{host:x,port:Yo(G)}}}(p);E.config.emulator={url:`${x}//${G}${null===le?"":`:${le}`}/`},E.settings.appVerificationDisabledForTesting=!0,E.emulatorConfig=Object.freeze({host:G,port:le,protocol:x.replace(":",""),options:Object.freeze({disableWarnings:S})}),S||function Vt(){function v(){const p=document.createElement("p"),m=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",m.position="fixed",m.width="100%",m.backgroundColor="#ffffff",m.border=".1em solid #000000",m.color="#b50000",m.bottom="0px",m.left="0px",m.margin="0px",m.zIndex="10000",m.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",v):v())}()}function Ml(v){const p=v.indexOf(":");return p<0?"":v.substr(0,p+1)}function Yo(v){if(!v)return null;const p=Number(v);return isNaN(p)?null:p}class rn{constructor(p,m){this.providerId=p,this.signInMethod=m}toJSON(){return Q("not implemented")}_getIdTokenResponse(p){return Q("not implemented")}_linkToIdToken(p,m){return Q("not implemented")}_getReauthenticationResolver(p){return Q("not implemented")}}function jn(v,p){return Es.apply(this,arguments)}function Es(){return(Es=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:resetPassword",Lt(v,p))})).apply(this,arguments)}function lr(v,p){return Ir.apply(this,arguments)}function Ir(){return(Ir=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ve(v,p){return lt.apply(this,arguments)}function lt(){return(lt=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",Lt(v,p))})).apply(this,arguments)}function cr(){return(cr=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPassword",Lt(v,p))})).apply(this,arguments)}function ii(v,p){return Cn.apply(this,arguments)}function Cn(){return(Cn=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:sendOobCode",Lt(v,p))})).apply(this,arguments)}function Ds(v,p){return Kt.apply(this,arguments)}function Kt(){return(Kt=(0,h.Z)(function*(v,p){return ii(v,p)})).apply(this,arguments)}function Ka(v,p){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,h.Z)(function*(v,p){return ii(v,p)})).apply(this,arguments)}function It(v,p){return eo.apply(this,arguments)}function eo(){return(eo=(0,h.Z)(function*(v,p){return ii(v,p)})).apply(this,arguments)}function Is(v,p){return to.apply(this,arguments)}function to(){return(to=(0,h.Z)(function*(v,p){return ii(v,p)})).apply(this,arguments)}function bn(){return(bn=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Lt(v,p))})).apply(this,arguments)}function Ai(){return(Ai=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithEmailLink",Lt(v,p))})).apply(this,arguments)}class Cr extends rn{constructor(p,m,E,S=null){super("password",E),this._email=p,this._password=m,this._tenantId=S}static _fromEmailAndPassword(p,m){return new Cr(p,m,"password")}static _fromEmailAndCode(p,m,E=null){return new Cr(p,m,"emailLink",E)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p;if(m?.email&&m?.password){if("password"===m.signInMethod)return this._fromEmailAndPassword(m.email,m.password);if("emailLink"===m.signInMethod)return this._fromEmailAndCode(m.email,m.password,m.tenantId)}return null}_getIdTokenResponse(p){var m=this;return(0,h.Z)(function*(){switch(m.signInMethod){case"password":return function sn(v,p){return cr.apply(this,arguments)}(p,{returnSecureToken:!0,email:m._email,password:m._password});case"emailLink":return function no(v,p){return bn.apply(this,arguments)}(p,{email:m._email,oobCode:m._password});default:Ee(p,"internal-error")}})()}_linkToIdToken(p,m){var E=this;return(0,h.Z)(function*(){switch(E.signInMethod){case"password":return lr(p,{idToken:m,returnSecureToken:!0,email:E._email,password:E._password});case"emailLink":return function Ya(v,p){return Ai.apply(this,arguments)}(p,{idToken:m,email:E._email,oobCode:E._password});default:Ee(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function zr(v,p){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithIdp",Lt(v,p))})).apply(this,arguments)}class yn extends rn{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const m=new yn(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(m.idToken=p.idToken),p.accessToken&&(m.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(m.nonce=p.nonce),p.pendingToken&&(m.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(m.accessToken=p.oauthToken,m.secret=p.oauthTokenSecret):Ee("argument-error"),m}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S}=m,x=(0,he._T)(m,["providerId","signInMethod"]);if(!E||!S)return null;const G=new yn(E,S);return G.idToken=x.idToken||void 0,G.accessToken=x.accessToken||void 0,G.secret=x.secret,G.nonce=x.nonce,G.pendingToken=x.pendingToken||null,G}_getIdTokenResponse(p){return zr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,zr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,zr(p,m)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const m={};this.idToken&&(m.id_token=this.idToken),this.accessToken&&(m.access_token=this.accessToken),this.secret&&(m.oauth_token_secret=this.secret),m.providerId=this.providerId,this.nonce&&!this.pendingToken&&(m.nonce=this.nonce),p.postBody=(0,k.xO)(m)}return p}}function Ol(v,p){return Qa.apply(this,arguments)}function Qa(){return(Qa=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:sendVerificationCode",Lt(v,p))})).apply(this,arguments)}function ro(){return(ro=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Lt(v,p))})).apply(this,arguments)}function Nn(){return(Nn=(0,h.Z)(function*(v,p){const m=yield mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Lt(v,p));if(m.temporaryProof)throw Ci(v,"account-exists-with-different-credential",m);return m})).apply(this,arguments)}const $v={USER_NOT_FOUND:"user-not-found"};function Sr(){return(Sr=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithPhoneNumber",Lt(v,Object.assign(Object.assign({},p),{operation:"REAUTH"})),$v)})).apply(this,arguments)}class xi extends rn{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,m){return new xi({verificationId:p,verificationCode:m})}static _fromTokenResponse(p,m){return new xi({phoneNumber:p,temporaryProof:m})}_getIdTokenResponse(p){return function Xa(v,p){return ro.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,m){return function io(v,p){return Nn.apply(this,arguments)}(p,Object.assign({idToken:m},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function br(v,p){return Sr.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:m,verificationId:E,verificationCode:S}=this.params;return p&&m?{temporaryProof:p,phoneNumber:m}:{sessionInfo:E,code:S}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:x}=p;return E||m||S||x?new xi({verificationId:m,verificationCode:E,phoneNumber:S,temporaryProof:x}):null}}class nr{constructor(p){var m,E,S,x,G,le;const Le=(0,k.zd)((0,k.pd)(p)),ze=null!==(m=Le.apiKey)&&void 0!==m?m:null,yt=null!==(E=Le.oobCode)&&void 0!==E?E:null,zt=function Qo(v){switch(v){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(S=Le.mode)&&void 0!==S?S:null);W(ze&&yt&&zt,"argument-error"),this.apiKey=ze,this.operation=zt,this.code=yt,this.continueUrl=null!==(x=Le.continueUrl)&&void 0!==x?x:null,this.languageCode=null!==(G=Le.languageCode)&&void 0!==G?G:null,this.tenantId=null!==(le=Le.tenantId)&&void 0!==le?le:null}static parseLink(p){const m=function Ja(v){const p=(0,k.zd)((0,k.pd)(v)).link,m=p?(0,k.zd)((0,k.pd)(p)).deep_link_id:null,E=(0,k.zd)((0,k.pd)(v)).deep_link_id;return(E?(0,k.zd)((0,k.pd)(E)).link:null)||E||m||p||v}(p);try{return new nr(m)}catch{return null}}}let Kd=(()=>{class v{constructor(){this.providerId=v.PROVIDER_ID}static credential(m,E){return Cr._fromEmailAndPassword(m,E)}static credentialWithLink(m,E){const S=nr.parseLink(E);return W(S,"argument-error"),Cr._fromEmailAndCode(m,S.code,S.tenantId)}}return v.PROVIDER_ID="password",v.EMAIL_PASSWORD_SIGN_IN_METHOD="password",v.EMAIL_LINK_SIGN_IN_METHOD="emailLink",v})();class Mi{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class so extends Mi{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class eu extends so{static credentialFromJSON(p){const m="string"==typeof p?JSON.parse(p):p;return W("providerId"in m&&"signInMethod"in m,"argument-error"),yn._fromParams(m)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return W(p.idToken||p.accessToken,"argument-error"),yn._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return eu.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return eu.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:m,oauthAccessToken:E,oauthTokenSecret:S,pendingToken:x,nonce:G,providerId:le}=p;if(!E&&!S&&!m&&!x||!le)return null;try{return new eu(le)._credential({idToken:m,accessToken:E,nonce:G,pendingToken:x})}catch{return null}}}let Hv=(()=>{class v extends so{constructor(){super("facebook.com")}static credential(m){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.FACEBOOK_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.FACEBOOK_SIGN_IN_METHOD="facebook.com",v.PROVIDER_ID="facebook.com",v})(),wg=(()=>{class v extends so{constructor(){super("google.com"),this.addScope("profile")}static credential(m,E){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GOOGLE_SIGN_IN_METHOD,idToken:m,accessToken:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthIdToken:E,oauthAccessToken:S}=m;if(!E&&!S)return null;try{return v.credential(E,S)}catch{return null}}}return v.GOOGLE_SIGN_IN_METHOD="google.com",v.PROVIDER_ID="google.com",v})(),Gv=(()=>{class v extends so{constructor(){super("github.com")}static credential(m){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.GITHUB_SIGN_IN_METHOD,accessToken:m})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m||!("oauthAccessToken"in m)||!m.oauthAccessToken)return null;try{return v.credential(m.oauthAccessToken)}catch{return null}}}return v.GITHUB_SIGN_IN_METHOD="github.com",v.PROVIDER_ID="github.com",v})();class oo extends rn{constructor(p,m){super(p,p),this.pendingToken=m}_getIdTokenResponse(p){return zr(p,this.buildRequest())}_linkToIdToken(p,m){const E=this.buildRequest();return E.idToken=m,zr(p,E)}_getReauthenticationResolver(p){const m=this.buildRequest();return m.autoCreate=!1,zr(p,m)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const m="string"==typeof p?JSON.parse(p):p,{providerId:E,signInMethod:S,pendingToken:x}=m;return E&&S&&x&&E===S?new oo(E,x):null}static _create(p,m){return new oo(p,m)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Xo extends Mi{constructor(p){W(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Xo.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Xo.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const m=oo.fromJSON(p);return W(m,"argument-error"),m}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:m,providerId:E}=p;if(!m||!E)return null;try{return oo._create(E,m)}catch{return null}}}let OC=(()=>{class v extends so{constructor(){super("twitter.com")}static credential(m,E){return yn._fromParams({providerId:v.PROVIDER_ID,signInMethod:v.TWITTER_SIGN_IN_METHOD,oauthToken:m,oauthTokenSecret:E})}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{oauthAccessToken:E,oauthTokenSecret:S}=m;if(!E||!S)return null;try{return v.credential(E,S)}catch{return null}}}return v.TWITTER_SIGN_IN_METHOD="twitter.com",v.PROVIDER_ID="twitter.com",v})();function Wv(v,p){return tu.apply(this,arguments)}function tu(){return(tu=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signUp",Lt(v,p))})).apply(this,arguments)}class Wr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,m,E,S=!1){return(0,h.Z)(function*(){const x=yield mt._fromIdTokenResponse(p,E,S),G=kl(E);return new Wr({user:x,providerId:G,_tokenResponse:E,operationType:m})})()}static _forOperation(p,m,E){return(0,h.Z)(function*(){yield p._updateTokensIfNecessary(E,!0);const S=kl(E);return new Wr({user:p,providerId:S,_tokenResponse:E,operationType:m})})()}}function kl(v){return v.providerId?v.providerId:"phoneNumber"in v?"phone":null}function Qd(v){return Xd.apply(this,arguments)}function Xd(){return(Xd=(0,h.Z)(function*(v){var p;const m=Pn(v);if(yield m._initializationPromise,null!==(p=m.currentUser)&&void 0!==p&&p.isAnonymous)return new Wr({user:m.currentUser,providerId:null,operationType:"signIn"});const E=yield Wv(m,{returnSecureToken:!0}),S=yield Wr._fromIdTokenResponse(m,"signIn",E,!0);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Pl extends k.ZR{constructor(p,m,E,S){var x;super(m.code,m.message),this.operationType=E,this.user=S,Object.setPrototypeOf(this,Pl.prototype),this.customData={appName:p.name,tenantId:null!==(x=p.tenantId)&&void 0!==x?x:void 0,_serverResponse:m.customData._serverResponse,operationType:E}}static _fromErrorAndOperation(p,m,E,S){return new Pl(p,m,E,S)}}function Eg(v,p,m,E){return("reauthenticate"===p?m._getReauthenticationResolver(v):m._getIdTokenResponse(v)).catch(x=>{throw"auth/multi-factor-auth-required"===x.code?Pl._fromErrorAndOperation(v,x,p,E):x})}function Cs(v){return new Set(v.map(({providerId:p})=>p).filter(p=>!!p))}function qv(v,p){return nu.apply(this,arguments)}function nu(){return(nu=(0,h.Z)(function*(v,p){const m=(0,k.m9)(v);yield Jo(!0,m,p);const{providerUserInfo:E}=yield cn(m.auth,{idToken:yield m.getIdToken(),deleteProvider:[p]}),S=Cs(E||[]);return m.providerData=m.providerData.filter(x=>S.has(x.providerId)),S.has("phone")||(m.phoneNumber=null),yield m.auth._persistUserIfCurrent(m),m})).apply(this,arguments)}function ru(v,p){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,h.Z)(function*(v,p,m=!1){const E=yield Jn(v,p._linkToIdToken(v.auth,yield v.getIdToken()),m);return Wr._forOperation(v,"link",E)})).apply(this,arguments)}function Jo(v,p,m){return iu.apply(this,arguments)}function iu(){return(iu=(0,h.Z)(function*(v,p,m){yield qi(p);const S=!1===v?"provider-already-linked":"no-such-provider";W(Cs(p.providerData).has(m)===v,p.auth,S)})).apply(this,arguments)}function Jd(v,p){return Fl.apply(this,arguments)}function Fl(){return(Fl=(0,h.Z)(function*(v,p,m=!1){const{auth:E}=v,S="reauthenticate";try{const x=yield Jn(v,Eg(E,S,p,v),m);W(x.idToken,E,"internal-error");const G=Ye(x.idToken);W(G,E,"internal-error");const{sub:le}=G;return W(v.uid===le,E,"user-mismatch"),Wr._forOperation(v,S,x)}catch(x){throw"auth/user-not-found"===x?.code&&Ee(E,"user-mismatch"),x}})).apply(this,arguments)}function Ll(v,p){return ea.apply(this,arguments)}function ea(){return(ea=(0,h.Z)(function*(v,p,m=!1){const E="signIn",S=yield Eg(v,E,p),x=yield Wr._fromIdTokenResponse(v,E,S);return m||(yield v._updateCurrentUser(x.user)),x})).apply(this,arguments)}function dr(v,p){return su.apply(this,arguments)}function su(){return(su=(0,h.Z)(function*(v,p){return Ll(Pn(v),p)})).apply(this,arguments)}function Vl(v,p){return _n.apply(this,arguments)}function _n(){return(_n=(0,h.Z)(function*(v,p){const m=(0,k.m9)(v);return yield Jo(!1,m,p.providerId),ru(m,p)})).apply(this,arguments)}function Ul(v,p){return ao.apply(this,arguments)}function ao(){return(ao=(0,h.Z)(function*(v,p){return Jd((0,k.m9)(v),p)})).apply(this,arguments)}function Hn(v,p){return Bl.apply(this,arguments)}function Bl(){return(Bl=(0,h.Z)(function*(v,p){return mn(v,"POST","/v1/accounts:signInWithCustomToken",Lt(v,p))})).apply(this,arguments)}function eh(v,p){return bs.apply(this,arguments)}function bs(){return(bs=(0,h.Z)(function*(v,p){const m=Pn(v),E=yield Hn(m,{token:p,returnSecureToken:!0}),S=yield Wr._fromIdTokenResponse(m,"signIn",E);return yield m._updateCurrentUser(S.user),S})).apply(this,arguments)}class Gn{constructor(p,m){this.factorId=p,this.uid=m.mfaEnrollmentId,this.enrollmentTime=new Date(m.enrolledAt).toUTCString(),this.displayName=m.displayName}static _fromServerResponse(p,m){return"phoneInfo"in m?$l._fromServerResponse(p,m):Ee(p,"internal-error")}}class $l extends Gn{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,m){return new $l(m)}}function Ss(v,p,m){var E;W((null===(E=m.url)||void 0===E?void 0:E.length)>0,v,"invalid-continue-uri"),W(typeof m.dynamicLinkDomain>"u"||m.dynamicLinkDomain.length>0,v,"invalid-dynamic-link-domain"),p.continueUrl=m.url,p.dynamicLinkDomain=m.dynamicLinkDomain,p.canHandleCodeInApp=m.handleCodeInApp,m.iOS&&(W(m.iOS.bundleId.length>0,v,"missing-ios-bundle-id"),p.iOSBundleId=m.iOS.bundleId),m.android&&(W(m.android.packageName.length>0,v,"missing-android-pkg-name"),p.androidInstallApp=m.android.installApp,p.androidMinimumVersionCode=m.android.minimumVersion,p.androidPackageName=m.android.packageName)}function Dg(v,p,m){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v),S={requestType:"PASSWORD_RESET",email:p};m&&Ss(E,S,m),yield Ka(E,S)})).apply(this,arguments)}function th(v,p,m){return ta.apply(this,arguments)}function ta(){return(ta=(0,h.Z)(function*(v,p,m){yield jn((0,k.m9)(v),{oobCode:p,newPassword:m})})).apply(this,arguments)}function gt(v,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,h.Z)(function*(v,p){yield Ve((0,k.m9)(v),{oobCode:p})})).apply(this,arguments)}function Zv(v,p){return jl.apply(this,arguments)}function jl(){return(jl=(0,h.Z)(function*(v,p){const m=(0,k.m9)(v),E=yield jn(m,{oobCode:p}),S=E.requestType;switch(W(S,m,"internal-error"),S){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":W(E.newEmail,m,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":W(E.mfaInfo,m,"internal-error");default:W(E.email,m,"internal-error")}let x=null;return E.mfaInfo&&(x=Gn._fromServerResponse(Pn(m),E.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.newEmail:E.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===E.requestType?E.email:E.newEmail)||null,multiFactorInfo:x},operation:S}})).apply(this,arguments)}function Ig(v,p){return Hl.apply(this,arguments)}function Hl(){return(Hl=(0,h.Z)(function*(v,p){const{data:m}=yield Zv((0,k.m9)(v),p);return m.email})).apply(this,arguments)}function nh(v,p,m){return rh.apply(this,arguments)}function rh(){return(rh=(0,h.Z)(function*(v,p,m){const E=Pn(v),S=yield Wv(E,{returnSecureToken:!0,email:p,password:m}),x=yield Wr._fromIdTokenResponse(E,"signIn",S);return yield E._updateCurrentUser(x.user),x})).apply(this,arguments)}function Cg(v,p,m){return dr((0,k.m9)(v),Kd.credential(p,m))}function re(v,p,m){return Ot.apply(this,arguments)}function Ot(){return(Ot=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v),S={requestType:"EMAIL_SIGNIN",email:p};W(m.handleCodeInApp,E,"argument-error"),m&&Ss(E,S,m),yield It(E,S)})).apply(this,arguments)}function bg(v,p){return"EMAIL_SIGNIN"===nr.parseLink(p)?.operation}function Sg(v,p,m){return Sn.apply(this,arguments)}function Sn(){return(Sn=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v),S=Kd.credentialWithLink(p,m||Te());return W(S._tenantId===(E.tenantId||null),E,"tenant-id-mismatch"),dr(E,S)})).apply(this,arguments)}function Tg(v,p){return uo.apply(this,arguments)}function uo(){return(uo=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:createAuthUri",Lt(v,p))})).apply(this,arguments)}function mi(v,p){return au.apply(this,arguments)}function au(){return(au=(0,h.Z)(function*(v,p){const E={identifier:p,continueUri:xe()?Te():"http://localhost"},{signinMethods:S}=yield Tg((0,k.m9)(v),E);return S||[]})).apply(this,arguments)}function ih(v,p){return sh.apply(this,arguments)}function sh(){return(sh=(0,h.Z)(function*(v,p){const m=(0,k.m9)(v),S={requestType:"VERIFY_EMAIL",idToken:yield v.getIdToken()};p&&Ss(m.auth,S,p);const{email:x}=yield Ds(m.auth,S);x!==v.email&&(yield v.reload())})).apply(this,arguments)}function Ag(v,p,m){return uu.apply(this,arguments)}function uu(){return(uu=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v),x={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield v.getIdToken(),newEmail:p};m&&Ss(E.auth,x,m);const{email:G}=yield Is(E.auth,x);G!==v.email&&(yield v.reload())})).apply(this,arguments)}function rr(v,p){return Tr.apply(this,arguments)}function Tr(){return(Tr=(0,h.Z)(function*(v,p){return et(v,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function lo(v,p){return Ts.apply(this,arguments)}function Ts(){return(Ts=(0,h.Z)(function*(v,{displayName:p,photoURL:m}){if(void 0===p&&void 0===m)return;const E=(0,k.m9)(v),x={idToken:yield E.getIdToken(),displayName:p,photoUrl:m,returnSecureToken:!0},G=yield Jn(E,rr(E.auth,x));E.displayName=G.displayName||null,E.photoURL=G.photoUrl||null;const le=E.providerData.find(({providerId:Le})=>"password"===Le);le&&(le.displayName=E.displayName,le.photoURL=E.photoURL),yield E._updateTokensIfNecessary(G)})).apply(this,arguments)}function Ki(v,p){return lu((0,k.m9)(v),p,null)}function oh(v,p){return lu((0,k.m9)(v),null,p)}function lu(v,p,m){return ah.apply(this,arguments)}function ah(){return(ah=(0,h.Z)(function*(v,p,m){const{auth:E}=v,x={idToken:yield v.getIdToken(),returnSecureToken:!0};p&&(x.email=p),m&&(x.password=m);const G=yield Jn(v,lr(E,x));yield v._updateTokensIfNecessary(G,!0)})).apply(this,arguments)}class Yi{constructor(p,m,E={}){this.isNewUser=p,this.providerId=m,this.profile=E}}class na extends Yi{constructor(p,m,E,S){super(p,m,E),this.username=S}}class xg extends Yi{constructor(p,m){super(p,"facebook.com",m)}}class uh extends na{constructor(p,m){super(p,"github.com",m,"string"==typeof m?.login?m?.login:null)}}class Yv extends Yi{constructor(p,m){super(p,"google.com",m)}}class Mg extends na{constructor(p,m,E){super(p,"twitter.com",m,E)}}function lh(v){const{user:p,_tokenResponse:m}=v;return p.isAnonymous&&!m?{providerId:null,isNewUser:!1,profile:null}:function Kv(v){var p,m;if(!v)return null;const{providerId:E}=v,S=v.rawUserInfo?JSON.parse(v.rawUserInfo):{},x=v.isNewUser||"identitytoolkit#SignupNewUserResponse"===v.kind;if(!E&&v?.idToken){const G=null===(m=null===(p=Ye(v.idToken))||void 0===p?void 0:p.firebase)||void 0===m?void 0:m.sign_in_provider;if(G)return new Yi(x,"anonymous"!==G&&"custom"!==G?G:null)}if(!E)return null;switch(E){case"facebook.com":return new xg(x,S);case"github.com":return new uh(x,S);case"google.com":return new Yv(x,S);case"twitter.com":return new Mg(x,S,v.screenName||null);case"custom":case"anonymous":return new Yi(x,null);default:return new Yi(x,E,S)}}(m)}class Gt{constructor(p,m,E){this.type=p,this.credential=m,this.auth=E}static _fromIdtoken(p,m){return new Gt("enroll",p,m)}static _fromMfaPendingCredential(p){return new Gt("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var m,E;if(p?.multiFactorSession){if(null!==(m=p.multiFactorSession)&&void 0!==m&&m.pendingCredential)return Gt._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(E=p.multiFactorSession)&&void 0!==E&&E.idToken)return Gt._fromIdtoken(p.multiFactorSession.idToken)}return null}}class ch{constructor(p,m,E){this.session=p,this.hints=m,this.signInResolver=E}static _fromError(p,m){const E=Pn(p),S=m.customData._serverResponse,x=(S.mfaInfo||[]).map(le=>Gn._fromServerResponse(E,le));W(S.mfaPendingCredential,E,"internal-error");const G=Gt._fromMfaPendingCredential(S.mfaPendingCredential);return new ch(G,x,function(){var le=(0,h.Z)(function*(Le){const ze=yield Le._process(E,G);delete S.mfaInfo,delete S.mfaPendingCredential;const yt=Object.assign(Object.assign({},S),{idToken:ze.idToken,refreshToken:ze.refreshToken});switch(m.operationType){case"signIn":const zt=yield Wr._fromIdTokenResponse(E,m.operationType,yt);return yield E._updateCurrentUser(zt.user),zt;case"reauthenticate":return W(m.user,E,"internal-error"),Wr._forOperation(m.user,m.operationType,yt);default:Ee(E,"internal-error")}});return function(Le){return le.apply(this,arguments)}}())}resolveSignIn(p){var m=this;return(0,h.Z)(function*(){return m.signInResolver(p)})()}}function ew(v,p){var m;const E=(0,k.m9)(v),S=p;return W(p.customData.operationType,E,"argument-error"),W(null===(m=S.customData._serverResponse)||void 0===m?void 0:m.mfaPendingCredential,E,"argument-error"),ch._fromError(E,S)}function tw(v,p){return et(v,"POST","/v2/accounts/mfaEnrollment:start",Lt(v,p))}class dh{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(m=>{m.mfaInfo&&(this.enrolledFactors=m.mfaInfo.map(E=>Gn._fromServerResponse(p.auth,E)))})}static _fromUser(p){return new dh(p)}getSession(){var p=this;return(0,h.Z)(function*(){return Gt._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,m){var E=this;return(0,h.Z)(function*(){const S=p,x=yield E.getSession(),G=yield Jn(E.user,S._process(E.user.auth,x,m));return yield E.user._updateTokensIfNecessary(G),E.user.reload()})()}unenroll(p){var m=this;return(0,h.Z)(function*(){const E="string"==typeof p?p:p.uid,S=yield m.user.getIdToken(),x=yield Jn(m.user,function rw(v,p){return et(v,"POST","/v2/accounts/mfaEnrollment:withdraw",Lt(v,p))}(m.user.auth,{idToken:S,mfaEnrollmentId:E}));m.enrolledFactors=m.enrolledFactors.filter(({uid:G})=>G!==E),yield m.user._updateTokensIfNecessary(x);try{yield m.user.reload()}catch(G){if("auth/user-token-expired"!==G?.code)throw G}})()}}const ra=new WeakMap;function cu(v){const p=(0,k.m9)(v);return ra.has(p)||ra.set(p,dh._fromUser(p)),ra.get(p)}const ki="__sak";class Qi{constructor(p,m){this.storageRetriever=p,this.type=m}_isAvailable(){try{return this.storage?(this.storage.setItem(ki,"1"),this.storage.removeItem(ki),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,m){return this.storage.setItem(p,JSON.stringify(m)),Promise.resolve()}_get(p){const m=this.storage.getItem(p);return Promise.resolve(m?JSON.parse(m):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const fh=(()=>{class v extends Qi{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(m,E)=>this.onStorageEvent(m,E),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function hh(){const v=(0,k.z$)();return Ge(v)||Dt(v)}()&&function _g(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=ws(),this._shouldAllowMigration=!0}forAllChangedKeys(m){for(const E of Object.keys(this.listeners)){const S=this.storage.getItem(E),x=this.localCache[E];S!==x&&m(E,x,S)}}onStorageEvent(m,E=!1){if(!m.key)return void this.forAllChangedKeys((le,Le,ze)=>{this.notifyListeners(le,ze)});const S=m.key;if(E?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const le=this.storage.getItem(S);if(m.newValue!==le)null!==m.newValue?this.storage.setItem(S,m.newValue):this.storage.removeItem(S);else if(this.localCache[S]===m.newValue&&!E)return}const x=()=>{const le=this.storage.getItem(S);!E&&this.localCache[S]===le||this.notifyListeners(S,le)},G=this.storage.getItem(S);!function Dr(){return(0,k.w1)()&&10===document.documentMode}()||G===m.newValue||m.newValue===m.oldValue?x():setTimeout(x,10)}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const x of Array.from(S))x(E&&JSON.parse(E))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((m,E,S)=>{this.onStorageEvent(new StorageEvent("storage",{key:m,oldValue:E,newValue:S}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(m,E){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[m]||(this.listeners[m]=new Set,this.localCache[m]=this.storage.getItem(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(m,E){var S=()=>super._set,x=this;return(0,h.Z)(function*(){yield S().call(x,m,E),x.localCache[m]=JSON.stringify(E)})()}_get(m){var E=()=>super._get,S=this;return(0,h.Z)(function*(){const x=yield E().call(S,m);return S.localCache[m]=JSON.stringify(x),x})()}_remove(m){var E=()=>super._remove,S=this;return(0,h.Z)(function*(){yield E().call(S,m),delete S.localCache[m]})()}}return v.type="LOCAL",v})(),sa=(()=>{class v extends Qi{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(m,E){}_removeListener(m,E){}}return v.type="SESSION",v})();let hu=(()=>{class v{constructor(m){this.eventTarget=m,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(m){const E=this.receivers.find(x=>x.isListeningto(m));if(E)return E;const S=new v(m);return this.receivers.push(S),S}isListeningto(m){return this.eventTarget===m}handleEvent(m){var E=this;return(0,h.Z)(function*(){const S=m,{eventId:x,eventType:G,data:le}=S.data,Le=E.handlersMap[G];if(!Le?.size)return;S.ports[0].postMessage({status:"ack",eventId:x,eventType:G});const ze=Array.from(Le).map(function(){var zt=(0,h.Z)(function*(Or){return Or(S.origin,le)});return function(Or){return zt.apply(this,arguments)}}()),yt=yield function iw(v){return Promise.all(v.map(function(){var p=(0,h.Z)(function*(m){try{return{fulfilled:!0,value:yield m}}catch(E){return{fulfilled:!1,reason:E}}});return function(m){return p.apply(this,arguments)}}()))}(ze);S.ports[0].postMessage({status:"done",eventId:x,eventType:G,response:yt})})()}_subscribe(m,E){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[m]||(this.handlersMap[m]=new Set),this.handlersMap[m].add(E)}_unsubscribe(m,E){this.handlersMap[m]&&E&&this.handlersMap[m].delete(E),(!E||0===this.handlersMap[m].size)&&delete this.handlersMap[m],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return v.receivers=[],v})();function Xi(v="",p=10){let m="";for(let E=0;E<p;E++)m+=Math.floor(10*Math.random());return v+m}class Pg{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,m,E=50){var S=this;return(0,h.Z)(function*(){const x=typeof MessageChannel<"u"?new MessageChannel:null;if(!x)throw new Error("connection_unavailable");let G,le;return new Promise((Le,ze)=>{const yt=Xi("",20);x.port1.start();const zt=setTimeout(()=>{ze(new Error("unsupported_event"))},E);le={messageChannel:x,onMessage(Or){const kr=Or;if(kr.data.eventId===yt)switch(kr.data.status){case"ack":clearTimeout(zt),G=setTimeout(()=>{ze(new Error("timeout"))},3e3);break;case"done":clearTimeout(G),Le(kr.data.response);break;default:clearTimeout(zt),clearTimeout(G),ze(new Error("invalid_response"))}}},S.handlers.add(le),x.port1.addEventListener("message",le.onMessage),S.target.postMessage({eventType:p,eventId:yt,data:m},[x.port2])}).finally(()=>{le&&S.removeMessageHandler(le)})})()}}function vn(){return window}function oa(){return typeof vn().WorkerGlobalScope<"u"&&"function"==typeof vn().importScripts}function Pi(){return(Pi=(0,h.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const aa="firebaseLocalStorageDb",xs="firebaseLocalStorage",pu="fbase_key";class yi{constructor(p){this.request=p}toPromise(){return new Promise((p,m)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{m(this.request.error)})})}}function gu(v,p){return v.transaction([xs],p?"readwrite":"readonly").objectStore(xs)}function ho(){const v=indexedDB.open(aa,1);return new Promise((p,m)=>{v.addEventListener("error",()=>{m(v.error)}),v.addEventListener("upgradeneeded",()=>{const E=v.result;try{E.createObjectStore(xs,{keyPath:pu})}catch(S){m(S)}}),v.addEventListener("success",(0,h.Z)(function*(){const E=v.result;E.objectStoreNames.contains(xs)?p(E):(E.close(),yield function mu(){const v=indexedDB.deleteDatabase(aa);return new yi(v).toPromise()}(),p(yield ho()))}))})}function ph(v,p,m){return Ar.apply(this,arguments)}function Ar(){return(Ar=(0,h.Z)(function*(v,p,m){const E=gu(v,!0).put({[pu]:p,value:m});return new yi(E).toPromise()})).apply(this,arguments)}function fo(){return(fo=(0,h.Z)(function*(v,p){const m=gu(v,!1).get(p),E=yield new yi(m).toPromise();return void 0===E?null:E.value})).apply(this,arguments)}function yu(v,p){const m=gu(v,!0).delete(p);return new yi(m).toPromise()}const _h=(()=>{class v{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var m=this;return(0,h.Z)(function*(){return m.db||(m.db=yield ho()),m.db})()}_withRetries(m){var E=this;return(0,h.Z)(function*(){let S=0;for(;;)try{const x=yield E._openDb();return yield m(x)}catch(x){if(S++>3)throw x;E.db&&(E.db.close(),E.db=void 0)}})()}initializeServiceWorkerMessaging(){var m=this;return(0,h.Z)(function*(){return oa()?m.initializeReceiver():m.initializeSender()})()}initializeReceiver(){var m=this;return(0,h.Z)(function*(){m.receiver=hu._getInstance(function zl(){return oa()?self:null}()),m.receiver._subscribe("keyChanged",function(){var E=(0,h.Z)(function*(S,x){return{keyProcessed:(yield m._poll()).includes(x.key)}});return function(S,x){return E.apply(this,arguments)}}()),m.receiver._subscribe("ping",function(){var E=(0,h.Z)(function*(S,x){return["keyChanged"]});return function(S,x){return E.apply(this,arguments)}}())})()}initializeSender(){var m=this;return(0,h.Z)(function*(){var E,S;if(m.activeServiceWorker=yield function fu(){return Pi.apply(this,arguments)}(),!m.activeServiceWorker)return;m.sender=new Pg(m.activeServiceWorker);const x=yield m.sender._send("ping",{},800);x&&null!==(E=x[0])&&void 0!==E&&E.fulfilled&&null!==(S=x[0])&&void 0!==S&&S.value.includes("keyChanged")&&(m.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(m){var E=this;return(0,h.Z)(function*(){if(E.sender&&E.activeServiceWorker&&function Gl(){var v;return(null===(v=navigator?.serviceWorker)||void 0===v?void 0:v.controller)||null}()===E.activeServiceWorker)try{yield E.sender._send("keyChanged",{key:m},E.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,h.Z)(function*(){try{if(!indexedDB)return!1;const m=yield ho();return yield ph(m,ki,"1"),yield yu(m,ki),!0}catch{}return!1})()}_withPendingWrite(m){var E=this;return(0,h.Z)(function*(){E.pendingWrites++;try{yield m()}finally{E.pendingWrites--}})()}_set(m,E){var S=this;return(0,h.Z)(function*(){return S._withPendingWrite((0,h.Z)(function*(){return yield S._withRetries(x=>ph(x,m,E)),S.localCache[m]=E,S.notifyServiceWorker(m)}))})()}_get(m){var E=this;return(0,h.Z)(function*(){const S=yield E._withRetries(x=>function gh(v,p){return fo.apply(this,arguments)}(x,m));return E.localCache[m]=S,S})()}_remove(m){var E=this;return(0,h.Z)(function*(){return E._withPendingWrite((0,h.Z)(function*(){return yield E._withRetries(S=>yu(S,m)),delete E.localCache[m],E.notifyServiceWorker(m)}))})()}_poll(){var m=this;return(0,h.Z)(function*(){const E=yield m._withRetries(G=>{const le=gu(G,!1).getAll();return new yi(le).toPromise()});if(!E)return[];if(0!==m.pendingWrites)return[];const S=[],x=new Set;for(const{fbase_key:G,value:le}of E)x.add(G),JSON.stringify(m.localCache[G])!==JSON.stringify(le)&&(m.notifyListeners(G,le),S.push(G));for(const G of Object.keys(m.localCache))m.localCache[G]&&!x.has(G)&&(m.notifyListeners(G,null),S.push(G));return S})()}notifyListeners(m,E){this.localCache[m]=E;const S=this.listeners[m];if(S)for(const x of Array.from(S))x(E)}startPolling(){var m=this;this.stopPolling(),this.pollTimer=setInterval((0,h.Z)(function*(){return m._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(m,E){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[m]||(this.listeners[m]=new Set,this._get(m)),this.listeners[m].add(E)}_removeListener(m,E){this.listeners[m]&&(this.listeners[m].delete(E),0===this.listeners[m].size&&delete this.listeners[m]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return v.type="LOCAL",v})();function vh(v,p){return et(v,"POST","/v2/accounts/mfaSignIn:start",Lt(v,p))}function Wl(){return(Wl=(0,h.Z)(function*(v){return(yield et(v,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function wu(v){return new Promise((p,m)=>{const E=document.createElement("script");E.setAttribute("src",v),E.onload=p,E.onerror=S=>{const x=Se("internal-error");x.customData=S,m(x)},E.type="text/javascript",E.charset="UTF-8",function wh(){var v,p;return null!==(p=null===(v=document.getElementsByTagName("head"))||void 0===v?void 0:v[0])&&void 0!==p?p:document}().appendChild(E)})}function Ji(v){return`__${v}${Math.floor(1e6*Math.random())}`}const po=1e12;class go{constructor(p){this.auth=p,this.counter=po,this._widgets=new Map}render(p,m){const E=this.counter;return this._widgets.set(E,new Dh(p,this.auth.name,m||{})),this.counter++,E}reset(p){var m;const E=p||po;null===(m=this._widgets.get(E))||void 0===m||m.delete(),this._widgets.delete(E)}getResponse(p){var m;return(null===(m=this._widgets.get(p||po))||void 0===m?void 0:m.getResponse())||""}execute(p){var m=this;return(0,h.Z)(function*(){var E;return null===(E=m._widgets.get(p||po))||void 0===E||E.execute(),""})()}}class Dh{constructor(p,m,E){this.params=E,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const S="string"==typeof p?document.getElementById(p):p;W(S,"argument-error",{appName:m}),this.container=S,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function ql(v){const p=[],m="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let E=0;E<v;E++)p.push(m.charAt(Math.floor(Math.random()*m.length)));return p.join("")}(50);const{callback:p,"expired-callback":m}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,m)try{m()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const mo=Ji("rcb"),Vg=new ct(3e4,6e4);class Zl{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=vn().grecaptcha)||void 0===p||!p.render)}load(p,m=""){return W(function ua(v){return v.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(v)}(m),p,"argument-error"),this.shouldResolveImmediately(m)?Promise.resolve(vn().grecaptcha):new Promise((E,S)=>{const x=vn().setTimeout(()=>{S(Se(p,"network-request-failed"))},Vg.get());vn()[mo]=()=>{vn().clearTimeout(x),delete vn()[mo];const le=vn().grecaptcha;if(!le)return void S(Se(p,"internal-error"));const Le=le.render;le.render=(ze,yt)=>{const zt=Le(ze,yt);return this.counter++,zt},this.hostLanguage=m,E(le)},wu(`https://www.google.com/recaptcha/api.js??${(0,k.xO)({onload:mo,render:"explicit",hl:m})}`).catch(()=>{clearTimeout(x),S(Se(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var m;return!(null===(m=vn().grecaptcha)||void 0===m||!m.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class yo{load(p){return(0,h.Z)(function*(){return new go(p)})()}clearedOneInstance(){}}const es="recaptcha",Ih={theme:"light",type:"image"};class Kl{constructor(p,m=Object.assign({},Ih),E){this.parameters=m,this.type=es,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Pn(E),this.isInvisible="invisible"===this.parameters.size,W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const S="string"==typeof p?document.getElementById(p):p;W(S,this.auth,"argument-error"),this.container=S,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new yo:new Zl,this.validateStartingState()}verify(){var p=this;return(0,h.Z)(function*(){p.assertNotDestroyed();const m=yield p.render(),E=p.getAssertedRecaptcha();return E.getResponse(m)||new Promise(x=>{const G=le=>{le&&(p.tokenChangeListeners.delete(G),x(le))};p.tokenChangeListeners.add(G),p.isInvisible&&E.execute(m)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){W(!this.parameters.sitekey,this.auth,"argument-error"),W(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),W(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return m=>{if(this.tokenChangeListeners.forEach(E=>E(m)),"function"==typeof p)p(m);else if("string"==typeof p){const E=vn()[p];"function"==typeof E&&E(m)}}}assertNotDestroyed(){W(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,h.Z)(function*(){if(yield p.init(),!p.widgetId){let m=p.container;if(!p.isInvisible){const E=document.createElement("div");m.appendChild(E),m=E}p.widgetId=p.getAssertedRecaptcha().render(m,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,h.Z)(function*(){W(xe()&&!oa(),p.auth,"internal-error"),yield function la(){let v=null;return new Promise(p=>{"complete"!==document.readyState?(v=()=>p(),window.addEventListener("load",v)):p()}).catch(p=>{throw v&&window.removeEventListener("load",v),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const m=yield function Fg(v){return Wl.apply(this,arguments)}(p.auth);W(m,p.auth,"internal-error"),p.parameters.sitekey=m})()}getAssertedRecaptcha(){return W(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class Bg{constructor(p,m){this.verificationId=p,this.onConfirmation=m}confirm(p){const m=xi._fromVerification(this.verificationId,p);return this.onConfirmation(m)}}function Ch(v,p,m){return kt.apply(this,arguments)}function kt(){return(kt=(0,h.Z)(function*(v,p,m){const E=Pn(v),S=yield Th(E,p,(0,k.m9)(m));return new Bg(S,x=>dr(E,x))})).apply(this,arguments)}function sw(v,p,m){return bh.apply(this,arguments)}function bh(){return(bh=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v);yield Jo(!1,E,"phone");const S=yield Th(E.auth,p,(0,k.m9)(m));return new Bg(S,x=>Vl(E,x))})).apply(this,arguments)}function Sh(v,p,m){return Yl.apply(this,arguments)}function Yl(){return(Yl=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v),S=yield Th(E.auth,p,(0,k.m9)(m));return new Bg(S,x=>Ul(E,x))})).apply(this,arguments)}function Th(v,p,m){return $g.apply(this,arguments)}function $g(){return($g=(0,h.Z)(function*(v,p,m){var E;const S=yield m.verify();try{let x;if(W("string"==typeof S,v,"argument-error"),W(m.type===es,v,"argument-error"),x="string"==typeof p?{phoneNumber:p}:p,"session"in x){const G=x.session;if("phoneNumber"in x)return W("enroll"===G.type,v,"internal-error"),(yield tw(v,{idToken:G.credential,phoneEnrollmentInfo:{phoneNumber:x.phoneNumber,recaptchaToken:S}})).phoneSessionInfo.sessionInfo;{W("signin"===G.type,v,"internal-error");const le=(null===(E=x.multiFactorHint)||void 0===E?void 0:E.uid)||x.multiFactorUid;return W(le,v,"missing-multi-factor-info"),(yield vh(v,{mfaPendingCredential:G.credential,mfaEnrollmentId:le,phoneSignInInfo:{recaptchaToken:S}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:G}=yield Ol(v,{phoneNumber:x.phoneNumber,recaptchaToken:S});return G}}finally{m._reset()}})).apply(this,arguments)}function NC(v,p){return Ms.apply(this,arguments)}function Ms(){return(Ms=(0,h.Z)(function*(v,p){yield ru((0,k.m9)(v),p)})).apply(this,arguments)}let FC=(()=>{class v{constructor(m){this.providerId=v.PROVIDER_ID,this.auth=Pn(m)}verifyPhoneNumber(m,E){return Th(this.auth,m,(0,k.m9)(E))}static credential(m,E){return xi._fromVerification(m,E)}static credentialFromResult(m){return v.credentialFromTaggedObject(m)}static credentialFromError(m){return v.credentialFromTaggedObject(m.customData||{})}static credentialFromTaggedObject({_tokenResponse:m}){if(!m)return null;const{phoneNumber:E,temporaryProof:S}=m;return E&&S?xi._fromTokenResponse(E,S):null}}return v.PROVIDER_ID="phone",v.PHONE_SIGN_IN_METHOD="phone",v})();function ca(v,p){return p?B(p):(W(v._popupRedirectResolver,v,"argument-error"),v._popupRedirectResolver)}class dn extends rn{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return zr(p,this._buildIdpRequest())}_linkToIdToken(p,m){return zr(p,this._buildIdpRequest(m))}_getReauthenticationResolver(p){return zr(p,this._buildIdpRequest())}_buildIdpRequest(p){const m={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(m.idToken=p),m}}function Ah(v){return Ll(v.auth,new dn(v),v.bypassAuthState)}function Eu(v){const{auth:p,user:m}=v;return W(m,p,"internal-error"),Jd(m,new dn(v),v.bypassAuthState)}function jg(v){return xr.apply(this,arguments)}function xr(){return(xr=(0,h.Z)(function*(v){const{auth:p,user:m}=v;return W(m,p,"internal-error"),ru(m,new dn(v),v.bypassAuthState)})).apply(this,arguments)}class Rs{constructor(p,m,E,S,x=!1){this.auth=p,this.resolver=E,this.user=S,this.bypassAuthState=x,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(m)?m:[m]}execute(){var p=this;return new Promise(function(){var m=(0,h.Z)(function*(E,S){p.pendingPromise={resolve:E,reject:S};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(x){p.reject(x)}});return function(E,S){return m.apply(this,arguments)}}())}onAuthEvent(p){var m=this;return(0,h.Z)(function*(){const{urlResponse:E,sessionId:S,postBody:x,tenantId:G,error:le,type:Le}=p;if(le)return void m.reject(le);const ze={auth:m.auth,requestUri:E,sessionId:S,tenantId:G||void 0,postBody:x||void 0,user:m.user,bypassAuthState:m.bypassAuthState};try{m.resolve(yield m.getIdpTask(Le)(ze))}catch(yt){m.reject(yt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return Ah;case"linkViaPopup":case"linkViaRedirect":return jg;case"reauthViaPopup":case"reauthViaRedirect":return Eu;default:Ee(this.auth,"internal-error")}}resolve(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){ue(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Hg=new ct(2e3,1e4);function Ql(v,p,m){return _o.apply(this,arguments)}function _o(){return(_o=(0,h.Z)(function*(v,p,m){const E=Pn(v);pe(v,p,Mi);const S=ca(E,m);return new fr(E,"signInViaPopup",p,S).executeNotNull()})).apply(this,arguments)}function ow(v,p,m){return Gg.apply(this,arguments)}function Gg(){return(Gg=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v);pe(E.auth,p,Mi);const S=ca(E.auth,m);return new fr(E.auth,"reauthViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}function aw(v,p,m){return xh.apply(this,arguments)}function xh(){return(xh=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v);pe(E.auth,p,Mi);const S=ca(E.auth,m);return new fr(E.auth,"linkViaPopup",p,S,E).executeNotNull()})).apply(this,arguments)}let fr=(()=>{class v extends Rs{constructor(m,E,S,x,G){super(m,E,x,G),this.provider=S,this.authWindow=null,this.pollId=null,v.currentPopupAction&&v.currentPopupAction.cancel(),v.currentPopupAction=this}executeNotNull(){var m=this;return(0,h.Z)(function*(){const E=yield m.execute();return W(E,m.auth,"internal-error"),E})()}onExecution(){var m=this;return(0,h.Z)(function*(){ue(1===m.filter.length,"Popup operations only handle one event");const E=Xi();m.authWindow=yield m.resolver._openPopup(m.auth,m.provider,m.filter[0],E),m.authWindow.associatedEvent=E,m.resolver._originValidation(m.auth).catch(S=>{m.reject(S)}),m.resolver._isIframeWebStorageSupported(m.auth,S=>{S||m.reject(Se(m.auth,"web-storage-unsupported"))}),m.pollUserCancellation()})()}get eventId(){var m;return(null===(m=this.authWindow)||void 0===m?void 0:m.associatedEvent)||null}cancel(){this.reject(Se(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,v.currentPopupAction=null}pollUserCancellation(){const m=()=>{var E,S;this.pollId=null!==(S=null===(E=this.authWindow)||void 0===E?void 0:E.window)&&void 0!==S&&S.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Se(this.auth,"popup-closed-by-user"))},2e3):window.setTimeout(m,Hg.get())};m()}}return v.currentPopupAction=null,v})();const ir=new Map;class Ze extends Rs{constructor(p,m,E=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],m,void 0,E),this.eventId=null}execute(){var p=()=>super.execute,m=this;return(0,h.Z)(function*(){let E=ir.get(m.auth._key());if(!E){try{const x=(yield function hn(v,p){return Mr.apply(this,arguments)}(m.resolver,m.auth))?yield p().call(m):null;E=()=>Promise.resolve(x)}catch(S){E=()=>Promise.reject(S)}ir.set(m.auth._key(),E)}return m.bypassAuthState||ir.set(m.auth._key(),()=>Promise.resolve(null)),E()})()}onAuthEvent(p){var m=()=>super.onAuthEvent,E=this;return(0,h.Z)(function*(){if("signInViaRedirect"===p.type)return m().call(E,p);if("unknown"!==p.type){if(p.eventId){const S=yield E.auth._redirectUserForId(p.eventId);if(S)return E.user=S,m().call(E,p);E.resolve(null)}}else E.resolve(null)})()}onExecution(){return(0,h.Z)(function*(){})()}cleanUp(){}}function Mr(){return(Mr=(0,h.Z)(function*(v,p){const m=Du(p),E=Rh(v);if(!(yield E._isAvailable()))return!1;const S="true"===(yield E._get(m));return yield E._remove(m),S})).apply(this,arguments)}function Xl(v,p){return vo.apply(this,arguments)}function vo(){return(vo=(0,h.Z)(function*(v,p){return Rh(v)._set(Du(p),"true")})).apply(this,arguments)}function zn(){ir.clear()}function Mh(v,p){ir.set(v._key(),p)}function Rh(v){return B(v._redirectPersistence)}function Du(v){return O("pendingRedirect",v.config.apiKey,v.name)}function Iu(v,p,m){return function da(v,p,m){return Os.apply(this,arguments)}(v,p,m)}function Os(){return(Os=(0,h.Z)(function*(v,p,m){const E=Pn(v);pe(v,p,Mi),yield E._initializationPromise;const S=ca(E,m);return yield Xl(S,E),S._openRedirect(E,p,"signInViaRedirect")})).apply(this,arguments)}function wo(v,p,m){return function it(v,p,m){return Jl.apply(this,arguments)}(v,p,m)}function Jl(){return(Jl=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v);pe(E.auth,p,Mi),yield E.auth._initializationPromise;const S=ca(E.auth,m);yield Xl(S,E.auth);const x=yield Ns(E);return S._openRedirect(E.auth,p,"reauthViaRedirect",x)})).apply(this,arguments)}function Oh(v,p,m){return function ks(v,p,m){return Ps.apply(this,arguments)}(v,p,m)}function Ps(){return(Ps=(0,h.Z)(function*(v,p,m){const E=(0,k.m9)(v);pe(E.auth,p,Mi),yield E.auth._initializationPromise;const S=ca(E.auth,m);yield Jo(!1,E,p.providerId),yield Xl(S,E.auth);const x=yield Ns(E);return S._openRedirect(E.auth,p,"linkViaRedirect",x)})).apply(this,arguments)}function wn(v,p){return ec.apply(this,arguments)}function ec(){return(ec=(0,h.Z)(function*(v,p){return yield Pn(v)._initializationPromise,Cu(v,p,!1)})).apply(this,arguments)}function Cu(v,p){return ts.apply(this,arguments)}function ts(){return(ts=(0,h.Z)(function*(v,p,m=!1){const E=Pn(v),S=ca(E,p),G=yield new Ze(E,S,m).execute();return G&&!m&&(delete G.user._redirectEventId,yield E._persistUserIfCurrent(G.user),yield E._setRedirectUser(null,p)),G})).apply(this,arguments)}function Ns(v){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,h.Z)(function*(v){const p=Xi(`${v.uid}:::`);return v._redirectEventId=p,yield v.auth._setRedirectUser(v),yield v.auth._persistUserIfCurrent(v),p})).apply(this,arguments)}class ha{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let m=!1;return this.consumers.forEach(E=>{this.isEventForConsumer(p,E)&&(m=!0,this.sendToConsumer(p,E),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function tc(v){switch(v.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return kh(v);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,m||(this.queuedRedirectEvent=p,m=!0)),m}sendToConsumer(p,m){var E;if(p.error&&!kh(p)){const S=(null===(E=p.error.code)||void 0===E?void 0:E.split("auth/")[1])||"internal-error";m.onError(Se(this.auth,S))}else m.onAuthEvent(p)}isEventForConsumer(p,m){const E=null===m.eventId||!!p.eventId&&p.eventId===m.eventId;return m.filter.includes(p.type)&&E}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(ns(p))}saveEventToCache(p){this.cachedEventUids.add(ns(p)),this.lastProcessedEventTime=Date.now()}}function ns(v){return[v.type,v.eventId,v.sessionId,v.tenantId].filter(p=>p).join("-")}function kh({type:v,error:p}){return"unknown"===v&&"auth/no-auth-event"===p?.code}function qr(v){return Ls.apply(this,arguments)}function Ls(){return(Ls=(0,h.Z)(function*(v,p={}){return et(v,"GET","/v1/projects",p)})).apply(this,arguments)}const si=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rs=/^https?/;function Eo(){return(Eo=(0,h.Z)(function*(v){if(v.config.emulator)return;const{authorizedDomains:p}=yield qr(v);for(const m of p)try{if(zg(m))return}catch{}Ee(v,"unauthorized-domain")})).apply(this,arguments)}function zg(v){const p=Te(),{protocol:m,hostname:E}=new URL(p);if(v.startsWith("chrome-extension://")){const G=new URL(v);return""===G.hostname&&""===E?"chrome-extension:"===m&&v.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===m&&G.hostname===E}if(!rs.test(m))return!1;if(si.test(v))return E===v;const S=v.replace(/\./g,"\\.");return new RegExp("^(.+\\."+S+"|"+S+")$","i").test(E)}const En=new ct(3e4,6e4);function Vs(){const v=vn().___jsl;if(v?.H)for(const p of Object.keys(v.H))if(v.H[p].r=v.H[p].r||[],v.H[p].L=v.H[p].L||[],v.H[p].r=[...v.H[p].L],v.CP)for(let m=0;m<v.CP.length;m++)v.CP[m]=null}let Rr=null;function Tn(v){return Rr=Rr||function Ph(v){return new Promise((p,m)=>{var E,S,x;function G(){Vs(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{Vs(),m(Se(v,"network-request-failed"))},timeout:En.get()})}if(null!==(S=null===(E=vn().gapi)||void 0===E?void 0:E.iframes)&&void 0!==S&&S.Iframe)p(gapi.iframes.getContext());else{if(null===(x=vn().gapi)||void 0===x||!x.load){const le=Ji("iframefcb");return vn()[le]=()=>{gapi.load?G():m(Se(v,"network-request-failed"))},wu(`https://apis.google.com/js/api.js?onload=${le}`).catch(Le=>m(Le))}G()}}).catch(p=>{throw Rr=null,p})}(v),Rr}const nc=new ct(5e3,15e3),is={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Do=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function qn(v){const p=v.config;W(p.authDomain,v,"auth-domain-config-required");const m=p.emulator?St(p,"emulator/auth/iframe"):`https://${v.config.authDomain}/__/auth/iframe`,E={apiKey:p.apiKey,appName:v.name,v:J.SDK_VERSION},S=Do.get(v.config.apiHost);S&&(E.eid=S);const x=v._getFrameworks();return x.length&&(E.fw=x.join(",")),`${m}?${(0,k.xO)(E).slice(1)}`}function Nh(){return Nh=(0,h.Z)(function*(v){const p=yield Tn(v),m=vn().gapi;return W(m,v,"internal-error"),p.open({where:document.body,url:qn(v),messageHandlersFilter:m.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:is,dontclear:!0},E=>new Promise(function(){var S=(0,h.Z)(function*(x,G){yield E.restyle({setHideOnLeave:!1});const le=Se(v,"network-request-failed"),Le=vn().setTimeout(()=>{G(le)},nc.get());function ze(){vn().clearTimeout(Le),x(E)}E.ping(ze).then(ze,()=>{G(le)})});return function(x,G){return S.apply(this,arguments)}}()))}),Nh.apply(this,arguments)}const Fh={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class fa{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function Tu(v,p,m,E,S,x){W(v.config.authDomain,v,"auth-domain-config-required"),W(v.config.apiKey,v,"invalid-api-key");const G={apiKey:v.config.apiKey,appName:v.name,authType:m,redirectUrl:E,v:J.SDK_VERSION,eventId:S};if(p instanceof Mi){p.setDefaultLanguage(v.languageCode),G.providerId=p.providerId||"",(0,k.xb)(p.getCustomParameters())||(G.customParameters=JSON.stringify(p.getCustomParameters()));for(const[Le,ze]of Object.entries(x||{}))G[Le]=ze}if(p instanceof so){const Le=p.getScopes().filter(ze=>""!==ze);Le.length>0&&(G.scopes=Le.join(","))}v.tenantId&&(G.tid=v.tenantId);const le=G;for(const Le of Object.keys(le))void 0===le[Le]&&delete le[Le];return`${function ic({config:v}){return v.emulator?St(v,"emulator/auth/handler"):`https://${v.authDomain}/__/auth/handler`}(v)}?${(0,k.xO)(le).slice(1)}`}const Zr="webStorageSupport",sc=class Uh{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=sa,this._completeRedirectFn=Cu,this._overrideRedirectResult=Mh}_openPopup(p,m,E,S){var x=this;return(0,h.Z)(function*(){var G;ue(null===(G=x.eventManagers[p._key()])||void 0===G?void 0:G.manager,"_initialize() not called before _openPopup()");const le=Tu(p,m,E,Te(),S);return function ot(v,p,m,E=500,S=600){const x=Math.max((window.screen.availHeight-S)/2,0).toString(),G=Math.max((window.screen.availWidth-E)/2,0).toString();let le="";const Le=Object.assign(Object.assign({},Fh),{width:E.toString(),height:S.toString(),top:x,left:G}),ze=(0,k.z$)().toLowerCase();m&&(le=Et(ze)?"_blank":m),q(ze)&&(p=p||"http://localhost",Le.scrollbars="yes");const yt=Object.entries(Le).reduce((Or,[kr,ma])=>`${Or}${kr}=${ma},`,"");if(function vs(v=(0,k.z$)()){var p;return Dt(v)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(ze)&&"_self"!==le)return function pa(v,p){const m=document.createElement("a");m.href=v,m.target=p;const E=document.createEvent("MouseEvent");E.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),m.dispatchEvent(E)}(p||"",le),new fa(null);const zt=window.open(p||"",le,yt);W(zt,v,"popup-blocked");try{zt.focus()}catch{}return new fa(zt)}(p,le,Xi())})()}_openRedirect(p,m,E,S){var x=this;return(0,h.Z)(function*(){return yield x._originValidation(p),function As(v){vn().location.href=v}(Tu(p,m,E,Te(),S)),new Promise(()=>{})})()}_initialize(p){const m=p._key();if(this.eventManagers[m]){const{manager:S,promise:x}=this.eventManagers[m];return S?Promise.resolve(S):(ue(x,"If manager is not set, promise should be"),x)}const E=this.initAndGetManager(p);return this.eventManagers[m]={promise:E},E.catch(()=>{delete this.eventManagers[m]}),E}initAndGetManager(p){var m=this;return(0,h.Z)(function*(){const E=yield function Us(v){return Nh.apply(this,arguments)}(p),S=new ha(p);return E.register("authEvent",x=>(W(x?.authEvent,p,"invalid-auth-event"),{status:S.onEvent(x.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),m.eventManagers[p._key()]={manager:S},m.iframes[p._key()]=E,S})()}_isIframeWebStorageSupported(p,m){this.iframes[p._key()].send(Zr,{type:Zr},S=>{var x;const G=null===(x=S?.[0])||void 0===x?void 0:x[Zr];void 0!==G&&m(!!G),Ee(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const m=p._key();return this.originValidationPromises[m]||(this.originValidationPromises[m]=function Wn(v){return Eo.apply(this,arguments)}(p)),this.originValidationPromises[m]}get _shouldInitProactively(){return ws()||Ge()||Dt()}};class oc{constructor(p){this.factorId=p}_process(p,m,E){switch(m.type){case"enroll":return this._finalizeEnroll(p,m.credential,E);case"signin":return this._finalizeSignIn(p,m.credential);default:return Q("unexpected MultiFactorSessionType")}}}class Bh extends oc{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Bh(p)}_finalizeEnroll(p,m,E){return function nw(v,p){return et(v,"POST","/v2/accounts/mfaEnrollment:finalize",Lt(v,p))}(p,{idToken:m,displayName:E,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,m){return function vu(v,p){return et(v,"POST","/v2/accounts/mfaSignIn:finalize",Lt(v,p))}(p,{mfaPendingCredential:m,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let Fn=(()=>{class v{constructor(){}static assertion(m){return Bh._fromCredential(m)}}return v.FACTOR_ID="phone",v})();var on="@firebase/auth";class $h{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var m=this;return(0,h.Z)(function*(){return m.assertAuthConfigured(),yield m.auth._initializationPromise,m.auth.currentUser?{accessToken:yield m.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const m=this.auth.onIdTokenChanged(E=>{p(E?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,m),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const m=this.internalListeners.get(p);m&&(this.internalListeners.delete(p),m(),this.updateProactiveRefresh())}assertAuthConfigured(){W(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const ac=(0,k.Pz)("authIdTokenMaxAge")||300;let uc=null;const jh=v=>function(){var p=(0,h.Z)(function*(m){const E=m&&(yield m.getIdTokenResult()),S=E&&((new Date).getTime()-Date.parse(E.issuedAtTime))/1e3;if(S&&S>ac)return;const x=E?.token;uc!==x&&(uc=x,yield fetch(v,{method:x?"POST":"DELETE",headers:x?{Authorization:`Bearer ${x}`}:{}}))});return function(m){return p.apply(this,arguments)}}();function lc(v=(0,J.getApp)()){const p=(0,J._getProvider)(v,"auth");if(p.isInitialized())return p.getImmediate();const m=function te(v,p){const m=(0,J._getProvider)(v,"auth");if(m.isInitialized()){const S=m.getImmediate(),x=m.getOptions();if((0,k.vZ)(x,p??{}))return S;Ee(S,"already-initialized")}return m.initialize({options:p})}(v,{popupRedirectResolver:sc,persistence:[_h,fh,sa]}),E=(0,k.Pz)("authTokenSyncURL");if(E){const x=jh(E);(function Og(v,p,m){(0,k.m9)(v).beforeAuthStateChanged(p,m)})(m,x,()=>x(m.currentUser)),function Rg(v,p,m,E){(0,k.m9)(v).onIdTokenChanged(p,m,E)}(m,G=>x(G))}const S=(0,k.q4)("auth");return S&&qd(m,`http://${S}`),m}!function Ln(v){(0,J._registerComponent)(new ne.wA("auth",(p,{options:m})=>{const E=p.getProvider("app").getImmediate(),S=p.getProvider("heartbeat"),{apiKey:x,authDomain:G}=E.options;return((le,Le)=>{W(x&&!x.includes(":"),"invalid-api-key",{appName:le.name}),W(!G?.includes(":"),"argument-error",{appName:le.name});const ze={apiKey:x,authDomain:G,clientPlatform:v,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Xs(v)},yt=new Wd(le,Le,ze);return function K(v,p){const m=p?.persistence||[],E=(Array.isArray(m)?m:[m]).map(B);p?.errorMap&&v._updateErrorMap(p.errorMap),v._initializeWithPersistence(E,p?.popupRedirectResolver)}(yt,m),yt})(E,S)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,m,E)=>{p.getProvider("auth-internal").initialize()})),(0,J._registerComponent)(new ne.wA("auth-internal",p=>{const m=Pn(p.getProvider("auth").getImmediate());return new $h(m)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,J.registerVersion)(on,"0.21.1",function Au(v){switch(v){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(v)),(0,J.registerVersion)(on,"0.21.1","esm2017")}("Browser")},2090:(Qe,_e,R)=>{R.d(_e,{$s:()=>Ue,BH:()=>me,L:()=>ye,LL:()=>Wt,P0:()=>ge,Pz:()=>Se,Sg:()=>pe,UG:()=>Q,US:()=>ne,ZB:()=>L,ZR:()=>st,aH:()=>Ee,b$:()=>B,eu:()=>Jt,hl:()=>$t,jU:()=>ue,m9:()=>Nt,ne:()=>Wi,pd:()=>Xn,q4:()=>ve,r3:()=>ys,ru:()=>j,tV:()=>Ce,uI:()=>W,vZ:()=>cn,w1:()=>K,xO:()=>bi,xb:()=>zi,z$:()=>Me,zI:()=>ct,zd:()=>Si});const ae=function(N){const O=[];let U=0;for(let se=0;se<N.length;se++){let q=N.charCodeAt(se);q<128?O[U++]=q:q<2048?(O[U++]=q>>6|192,O[U++]=63&q|128):55296==(64512&q)&&se+1<N.length&&56320==(64512&N.charCodeAt(se+1))?(q=65536+((1023&q)<<10)+(1023&N.charCodeAt(++se)),O[U++]=q>>18|240,O[U++]=q>>12&63|128,O[U++]=q>>6&63|128,O[U++]=63&q|128):(O[U++]=q>>12|224,O[U++]=q>>6&63|128,O[U++]=63&q|128)}return O},ne={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(N,O){if(!Array.isArray(N))throw Error("encodeByteArray takes an array as a parameter");this.init_();const U=O?this.byteToCharMapWebSafe_:this.byteToCharMap_,se=[];for(let q=0;q<N.length;q+=3){const Ge=N[q],Et=q+1<N.length,Ft=Et?N[q+1]:0,en=q+2<N.length,ut=en?N[q+2]:0;let Er=(15&Ft)<<2|ut>>6,vs=63&ut;en||(vs=64,Et||(Er=64)),se.push(U[Ge>>2],U[(3&Ge)<<4|Ft>>4],U[Er],U[vs])}return se.join("")},encodeString(N,O){return this.HAS_NATIVE_SUPPORT&&!O?btoa(N):this.encodeByteArray(ae(N),O)},decodeString(N,O){return this.HAS_NATIVE_SUPPORT&&!O?atob(N):function(N){const O=[];let U=0,se=0;for(;U<N.length;){const q=N[U++];if(q<128)O[se++]=String.fromCharCode(q);else if(q>191&&q<224){const Ge=N[U++];O[se++]=String.fromCharCode((31&q)<<6|63&Ge)}else if(q>239&&q<365){const en=((7&q)<<18|(63&N[U++])<<12|(63&N[U++])<<6|63&N[U++])-65536;O[se++]=String.fromCharCode(55296+(en>>10)),O[se++]=String.fromCharCode(56320+(1023&en))}else{const Ge=N[U++],Et=N[U++];O[se++]=String.fromCharCode((15&q)<<12|(63&Ge)<<6|63&Et)}}return O.join("")}(this.decodeStringToByteArray(N,O))},decodeStringToByteArray(N,O){this.init_();const U=O?this.charToByteMapWebSafe_:this.charToByteMap_,se=[];for(let q=0;q<N.length;){const Ge=U[N.charAt(q++)],Ft=q<N.length?U[N.charAt(q)]:0;++q;const ut=q<N.length?U[N.charAt(q)]:64;++q;const Dt=q<N.length?U[N.charAt(q)]:64;if(++q,null==Ge||null==Ft||null==ut||null==Dt)throw Error();se.push(Ge<<2|Ft>>4),64!==ut&&(se.push(Ft<<4&240|ut>>2),64!==Dt&&se.push(ut<<6&192|Dt))}return se},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let N=0;N<this.ENCODED_VALS.length;N++)this.byteToCharMap_[N]=this.ENCODED_VALS.charAt(N),this.charToByteMap_[this.byteToCharMap_[N]]=N,this.byteToCharMapWebSafe_[N]=this.ENCODED_VALS_WEBSAFE.charAt(N),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[N]]=N,N>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(N)]=N,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(N)]=N)}}},ye=function(N){return function(N){const O=ae(N);return ne.encodeByteArray(O,!0)}(N).replace(/\./g,"")},Ce=function(N){try{return ne.decodeString(N,!0)}catch(O){console.error("base64Decode failed: ",O)}return null};function L(N,O){if(!(O instanceof Object))return O;switch(O.constructor){case Date:return new Date(O.getTime());case Object:void 0===N&&(N={});break;case Array:N=[];break;default:return O}for(const U in O)!O.hasOwnProperty(U)||!H(U)||(N[U]=L(N[U],O[U]));return N}function H(N){return"__proto__"!==N}const Z=()=>{try{return function ke(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const N=process.env.__FIREBASE_DEFAULTS__;return N?JSON.parse(N):void 0})()||(()=>{if(typeof document>"u")return;let N;try{N=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const O=N&&Ce(N[1]);return O&&JSON.parse(O)})()}catch(N){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${N}`)}},ve=N=>{var O,U;return null===(U=null===(O=Z())||void 0===O?void 0:O.emulatorHosts)||void 0===U?void 0:U[N]},ge=N=>{const O=ve(N);if(!O)return;const U=O.lastIndexOf(":");if(U<=0||U+1===O.length)throw new Error(`Invalid host ${O} with no separate hostname and port!`);const se=parseInt(O.substring(U+1),10);return"["===O[0]?[O.substring(1,U-1),se]:[O.substring(0,U),se]},Ee=()=>{var N;return null===(N=Z())||void 0===N?void 0:N.config},Se=N=>{var O;return null===(O=Z())||void 0===O?void 0:O[`_${N}`]};class me{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((O,U)=>{this.resolve=O,this.reject=U})}wrapCallback(O){return(U,se)=>{U?this.reject(U):this.resolve(se),"function"==typeof O&&(this.promise.catch(()=>{}),1===O.length?O(U):O(U,se))}}}function pe(N,O){if(N.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const se=O||"demo-project",q=N.iat||0,Ge=N.sub||N.user_id;if(!Ge)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Et=Object.assign({iss:`https://securetoken.google.com/${se}`,aud:se,iat:q,exp:q+3600,auth_time:q,sub:Ge,user_id:Ge,firebase:{sign_in_provider:"custom",identities:{}}},N);return[ye(JSON.stringify({alg:"none",type:"JWT"})),ye(JSON.stringify(Et)),""].join(".")}function Me(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function W(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Me())}function Q(){var N;const O=null===(N=Z())||void 0===N?void 0:N.forceEnvironment;if("node"===O)return!0;if("browser"===O)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function ue(){return"object"==typeof self&&self.self===self}function j(){const N="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof N&&void 0!==N.id}function B(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function K(){const N=Me();return N.indexOf("MSIE ")>=0||N.indexOf("Trident/")>=0}function $t(){try{return"object"==typeof indexedDB}catch{return!1}}function Jt(){return new Promise((N,O)=>{try{let U=!0;const se="validate-browser-context-for-indexeddb-analytics-module",q=self.indexedDB.open(se);q.onsuccess=()=>{q.result.close(),U||self.indexedDB.deleteDatabase(se),N(!0)},q.onupgradeneeded=()=>{U=!1},q.onerror=()=>{var Ge;O((null===(Ge=q.error)||void 0===Ge?void 0:Ge.message)||"")}}catch(U){O(U)}})}function ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class st extends Error{constructor(O,U,se){super(U),this.code=O,this.customData=se,this.name="FirebaseError",Object.setPrototypeOf(this,st.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Wt.prototype.create)}}class Wt{constructor(O,U,se){this.service=O,this.serviceName=U,this.errors=se}create(O,...U){const se=U[0]||{},q=`${this.service}/${O}`,Ge=this.errors[O],Et=Ge?function ur(N,O){return N.replace(Lt,(U,se)=>{const q=O[se];return null!=q?String(q):`<${se}?>`})}(Ge,se):"Error";return new st(q,`${this.serviceName}: ${Et} (${q}).`,se)}}const Lt=/\{\$([^}]+)}/g;function ys(N,O){return Object.prototype.hasOwnProperty.call(N,O)}function zi(N){for(const O in N)if(Object.prototype.hasOwnProperty.call(N,O))return!1;return!0}function cn(N,O){if(N===O)return!0;const U=Object.keys(N),se=Object.keys(O);for(const q of U){if(!se.includes(q))return!1;const Ge=N[q],Et=O[q];if(vr(Ge)&&vr(Et)){if(!cn(Ge,Et))return!1}else if(Ge!==Et)return!1}for(const q of se)if(!U.includes(q))return!1;return!0}function vr(N){return null!==N&&"object"==typeof N}function bi(N){const O=[];for(const[U,se]of Object.entries(N))Array.isArray(se)?se.forEach(q=>{O.push(encodeURIComponent(U)+"="+encodeURIComponent(q))}):O.push(encodeURIComponent(U)+"="+encodeURIComponent(se));return O.length?"&"+O.join("&"):""}function Si(N){const O={};return N.replace(/^\?/,"").split("&").forEach(se=>{if(se){const[q,Ge]=se.split("=");O[decodeURIComponent(q)]=decodeURIComponent(Ge)}}),O}function Xn(N){const O=N.indexOf("?");if(!O)return"";const U=N.indexOf("#",O);return N.substring(O,U>0?U:void 0)}function Wi(N,O){const U=new ft(N,O);return U.subscribe.bind(U)}class ft{constructor(O,U){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=U,this.task.then(()=>{O(this)}).catch(se=>{this.error(se)})}next(O){this.forEachObserver(U=>{U.next(O)})}error(O){this.forEachObserver(U=>{U.error(O)}),this.close(O)}complete(){this.forEachObserver(O=>{O.complete()}),this.close()}subscribe(O,U,se){let q;if(void 0===O&&void 0===U&&void 0===se)throw new Error("Missing Observer.");q=function dt(N,O){if("object"!=typeof N||null===N)return!1;for(const U of O)if(U in N&&"function"==typeof N[U])return!0;return!1}(O,["next","error","complete"])?O:{next:O,error:U,complete:se},void 0===q.next&&(q.next=Jn),void 0===q.error&&(q.error=Jn),void 0===q.complete&&(q.complete=Jn);const Ge=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?q.error(this.finalError):q.complete()}catch{}}),this.observers.push(q),Ge}unsubscribeOne(O){void 0===this.observers||void 0===this.observers[O]||(delete this.observers[O],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(O){if(!this.finalized)for(let U=0;U<this.observers.length;U++)this.sendOne(U,O)}sendOne(O,U){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[O])try{U(this.observers[O])}catch(se){typeof console<"u"&&console.error&&console.error(se)}})}close(O){this.finalized||(this.finalized=!0,void 0!==O&&(this.finalError=O),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Jn(){}function Ue(N,O=1e3,U=2){const se=O*Math.pow(U,N),q=Math.round(.5*se*(Math.random()-.5)*2);return Math.min(144e5,se+q)}function Nt(N){return N&&N._delegate?N._delegate:N}},6893:(Qe,_e,R)=>{var h=R(4650);let k=null;function J(){return k}class he{}const ne=new h.OlP("DocumentToken");let Re=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return function ye(){return(0,h.LFG)(F)}()},providedIn:"platform"}),n})();const Ce=new h.OlP("Location Initialized");let F=(()=>{class n extends Re{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return J().getBaseHref(this._doc)}onPopState(t){const r=J().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=J().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){L()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){L()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function H(){return new F((0,h.LFG)(ne))}()},providedIn:"platform"}),n})();function L(){return!!window.history.pushState}function ke(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function be(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function Be(n){return n&&"?"!==n[0]?"?"+n:n}let He=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(ve)},providedIn:"root"}),n})();const Z=new h.OlP("appBaseHref");let ve=(()=>{class n extends He{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,h.f3M)(ne).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return ke(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+Be(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,u){const c=this.prepareExternalUrl(i+Be(u));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){const c=this.prepareExternalUrl(i+Be(u));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re),h.LFG(Z,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ge=(()=>{class n extends He{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=ke(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,u){let c=this.prepareExternalUrl(i+Be(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,u){let c=this.prepareExternalUrl(i+Be(u));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Re),h.LFG(Z,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),Ee=(()=>{class n{constructor(t){this._subject=new h.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function Me(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(be(pe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+Be(r))}normalize(t){return n.stripTrailingSlash(function me(n,e){return n&&new RegExp(`^${n}([/;?#]|$)`).test(e)?e.substring(n.length):e}(this._basePath,pe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+Be(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=Be,n.joinWithSlash=ke,n.stripTrailingSlash=be,n.\u0275fac=function(t){return new(t||n)(h.LFG(He))},n.\u0275prov=h.Yz7({token:n,factory:function(){return function Se(){return new Ee((0,h.LFG)(He))}()},providedIn:"root"}),n})();function pe(n){return n.replace(/\/index.html$/,"")}const W={ADP:[void 0,void 0,0],AFN:[void 0,"\u060b",0],ALL:[void 0,void 0,0],AMD:[void 0,"\u058f",2],AOA:[void 0,"Kz"],ARS:[void 0,"$"],AUD:["A$","$"],AZN:[void 0,"\u20bc"],BAM:[void 0,"KM"],BBD:[void 0,"$"],BDT:[void 0,"\u09f3"],BHD:[void 0,void 0,3],BIF:[void 0,void 0,0],BMD:[void 0,"$"],BND:[void 0,"$"],BOB:[void 0,"Bs"],BRL:["R$"],BSD:[void 0,"$"],BWP:[void 0,"P"],BYN:[void 0,void 0,2],BYR:[void 0,void 0,0],BZD:[void 0,"$"],CAD:["CA$","$",2],CHF:[void 0,void 0,2],CLF:[void 0,void 0,4],CLP:[void 0,"$",0],CNY:["CN\xa5","\xa5"],COP:[void 0,"$",2],CRC:[void 0,"\u20a1",2],CUC:[void 0,"$"],CUP:[void 0,"$"],CZK:[void 0,"K\u010d",2],DJF:[void 0,void 0,0],DKK:[void 0,"kr",2],DOP:[void 0,"$"],EGP:[void 0,"E\xa3"],ESP:[void 0,"\u20a7",0],EUR:["\u20ac"],FJD:[void 0,"$"],FKP:[void 0,"\xa3"],GBP:["\xa3"],GEL:[void 0,"\u20be"],GHS:[void 0,"GH\u20b5"],GIP:[void 0,"\xa3"],GNF:[void 0,"FG",0],GTQ:[void 0,"Q"],GYD:[void 0,"$",2],HKD:["HK$","$"],HNL:[void 0,"L"],HRK:[void 0,"kn"],HUF:[void 0,"Ft",2],IDR:[void 0,"Rp",2],ILS:["\u20aa"],INR:["\u20b9"],IQD:[void 0,void 0,0],IRR:[void 0,void 0,0],ISK:[void 0,"kr",0],ITL:[void 0,void 0,0],JMD:[void 0,"$"],JOD:[void 0,void 0,3],JPY:["\xa5",void 0,0],KHR:[void 0,"\u17db"],KMF:[void 0,"CF",0],KPW:[void 0,"\u20a9",0],KRW:["\u20a9",void 0,0],KWD:[void 0,void 0,3],KYD:[void 0,"$"],KZT:[void 0,"\u20b8"],LAK:[void 0,"\u20ad",0],LBP:[void 0,"L\xa3",0],LKR:[void 0,"Rs"],LRD:[void 0,"$"],LTL:[void 0,"Lt"],LUF:[void 0,void 0,0],LVL:[void 0,"Ls"],LYD:[void 0,void 0,3],MGA:[void 0,"Ar",0],MGF:[void 0,void 0,0],MMK:[void 0,"K",0],MNT:[void 0,"\u20ae",2],MRO:[void 0,void 0,0],MUR:[void 0,"Rs",2],MXN:["MX$","$"],MYR:[void 0,"RM"],NAD:[void 0,"$"],NGN:[void 0,"\u20a6"],NIO:[void 0,"C$"],NOK:[void 0,"kr",2],NPR:[void 0,"Rs"],NZD:["NZ$","$"],OMR:[void 0,void 0,3],PHP:["\u20b1"],PKR:[void 0,"Rs",2],PLN:[void 0,"z\u0142"],PYG:[void 0,"\u20b2",0],RON:[void 0,"lei"],RSD:[void 0,void 0,0],RUB:[void 0,"\u20bd"],RWF:[void 0,"RF",0],SBD:[void 0,"$"],SEK:[void 0,"kr",2],SGD:[void 0,"$"],SHP:[void 0,"\xa3"],SLE:[void 0,void 0,2],SLL:[void 0,void 0,0],SOS:[void 0,void 0,0],SRD:[void 0,"$"],SSP:[void 0,"\xa3"],STD:[void 0,void 0,0],STN:[void 0,"Db"],SYP:[void 0,"\xa3",0],THB:[void 0,"\u0e3f"],TMM:[void 0,void 0,0],TND:[void 0,void 0,3],TOP:[void 0,"T$"],TRL:[void 0,void 0,0],TRY:[void 0,"\u20ba"],TTD:[void 0,"$"],TWD:["NT$","$",2],TZS:[void 0,void 0,2],UAH:[void 0,"\u20b4"],UGX:[void 0,void 0,0],USD:["$"],UYI:[void 0,void 0,0],UYU:[void 0,"$"],UYW:[void 0,void 0,4],UZS:[void 0,void 0,2],VEF:[void 0,"Bs",2],VND:["\u20ab",void 0,0],VUV:[void 0,void 0,0],XAF:["FCFA",void 0,0],XCD:["EC$","$"],XOF:["F\u202fCFA",void 0,0],XPF:["CFPF",void 0,0],XXX:["\xa4"],YER:[void 0,void 0,0],ZAR:[void 0,"R"],ZMK:[void 0,void 0,0],ZMW:[void 0,"ZK"],ZWD:[void 0,void 0,0]};var Q=(()=>((Q=Q||{})[Q.Decimal=0]="Decimal",Q[Q.Percent=1]="Percent",Q[Q.Currency=2]="Currency",Q[Q.Scientific=3]="Scientific",Q))(),K=(()=>((K=K||{})[K.Decimal=0]="Decimal",K[K.Group=1]="Group",K[K.List=2]="List",K[K.PercentSign=3]="PercentSign",K[K.PlusSign=4]="PlusSign",K[K.MinusSign=5]="MinusSign",K[K.Exponential=6]="Exponential",K[K.SuperscriptingExponent=7]="SuperscriptingExponent",K[K.PerMille=8]="PerMille",K[K.Infinity=9]="Infinity",K[K.NaN=10]="NaN",K[K.TimeSeparator=11]="TimeSeparator",K[K.CurrencyDecimal=12]="CurrencyDecimal",K[K.CurrencyGroup=13]="CurrencyGroup",K))();function et(n,e){const t=(0,h.cg1)(n),r=t[h.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===K.CurrencyDecimal)return t[h.wAp.NumberSymbols][K.Decimal];if(e===K.CurrencyGroup)return t[h.wAp.NumberSymbols][K.Group]}return r}const en=/^(\d+)?\.((\d+)(-(\d+))?)?$/;function vg(n,e,t,r,i){const c=function Js(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(";"),i=r[0],u=r[1],c=-1!==i.indexOf(".")?i.split("."):[i.substring(0,i.lastIndexOf("0")+1),i.substring(i.lastIndexOf("0")+1)],g=c[0],_=c[1]||"";t.posPre=g.substring(0,g.indexOf("#"));for(let C=0;C<_.length;C++){const T=_.charAt(C);"0"===T?t.minFrac=t.maxFrac=C+1:"#"===T?t.maxFrac=C+1:t.posSuf+=T}const D=g.split(",");if(t.gSize=D[1]?D[1].length:0,t.lgSize=D[2]||D[1]?(D[2]||D[1]).length:0,u){const C=i.length-t.posPre.length-t.posSuf.length,T=u.indexOf("#");t.negPre=u.substring(0,T).replace(/'/g,""),t.negSuf=u.slice(T+C).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function gs(n,e){return(0,h.cg1)(n)[h.wAp.NumberFormats][e]}(e,Q.Currency),et(e,K.MinusSign));return c.minFrac=function Si(n){let e;const t=W[n];return t&&(e=t[2]),"number"==typeof e?e:2}(r),c.maxFrac=c.minFrac,function Xs(n,e,t,r,i,u,c=!1){let g="",_=!1;if(isFinite(n)){let D=function Ml(n){let r,i,u,c,g,e=Math.abs(n)+"",t=0;for((i=e.indexOf("."))>-1&&(e=e.replace(".","")),(u=e.search(/e/i))>0?(i<0&&(i=u),i+=+e.slice(u+1),e=e.substring(0,u)):i<0&&(i=e.length),u=0;"0"===e.charAt(u);u++);if(u===(g=e.length))r=[0],i=1;else{for(g--;"0"===e.charAt(g);)g--;for(i-=u,r=[],c=0;u<=g;u++,c++)r[c]=Number(e.charAt(u))}return i>22&&(r=r.splice(0,21),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(D=function qd(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(D));let C=e.minInt,T=e.minFrac,P=e.maxFrac;if(u){const pt=u.match(en);if(null===pt)throw new Error(`${u} is not a valid digit info`);const bt=pt[1],At=pt[3],Mt=pt[5];null!=bt&&(C=Yo(bt)),null!=At&&(T=Yo(At)),null!=Mt?P=Yo(Mt):null!=At&&T>P&&(P=T)}!function Zd(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const u=Math.min(Math.max(e,i),t);let c=u+n.integerLen,g=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let T=c;T<r.length;T++)r[T]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=u+1),r[0]=0;for(let T=1;T<c;T++)r[T]=0}if(g>=5)if(c-1<0){for(let T=0;T>c;T--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,u);i++)r.push(0);let _=0!==u;const D=e+n.integerLen,C=r.reduceRight(function(T,P,$,Y){return Y[$]=(P+=T)<10?P:P-10,_&&(0===Y[$]&&$>=D?Y.pop():_=!1),P>=10?1:0},0);C&&(r.unshift(C),n.integerLen++)}(D,T,P);let $=D.digits,Y=D.integerLen;const fe=D.exponent;let Ie=[];for(_=$.every(pt=>!pt);Y<C;Y++)$.unshift(0);for(;Y<0;Y++)$.unshift(0);Y>0?Ie=$.splice(Y,$.length):(Ie=$,$=[0]);const at=[];for($.length>=e.lgSize&&at.unshift($.splice(-e.lgSize,$.length).join(""));$.length>e.gSize;)at.unshift($.splice(-e.gSize,$.length).join(""));$.length&&at.unshift($.join("")),g=at.join(et(t,r)),Ie.length&&(g+=et(t,i)+Ie.join("")),fe&&(g+=et(t,K.Exponential)+"+"+fe)}else g=et(t,K.Infinity);return g=n<0&&!_?e.negPre+g+e.negSuf:e.posPre+g+e.posSuf,g}(n,c,e,K.CurrencyGroup,K.CurrencyDecimal,i).replace("\xa4",t).replace("\xa4","").trim()}function Yo(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}const Ir=/\s+/,Ve=[];let lt=(()=>{class n{constructor(t,r,i,u){this._iterableDiffers=t,this._keyValueDiffers=r,this._ngEl=i,this._renderer=u,this.initialClasses=Ve,this.stateMap=new Map}set klass(t){this.initialClasses=null!=t?t.trim().split(Ir):Ve}set ngClass(t){this.rawClass="string"==typeof t?t.trim().split(Ir):t}ngDoCheck(){for(const r of this.initialClasses)this._updateState(r,!0);const t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(const r of t)this._updateState(r,!0);else if(null!=t)for(const r of Object.keys(t))this._updateState(r,Boolean(t[r]));this._applyStateDiff()}_updateState(t,r){const i=this.stateMap.get(t);void 0!==i?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(const t of this.stateMap){const r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){(t=t.trim()).length>0&&t.split(Ir).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.ZZ4),h.Y36(h.aQg),h.Y36(h.SBq),h.Y36(h.Qsj))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngClass",""]],inputs:{klass:["class","klass"],ngClass:"ngClass"},standalone:!0}),n})();class Cn{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let Ds=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,u,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new Cn(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===u?void 0:u);else if(null!==u){const g=r.get(u);r.move(g,c),Kt(g,i)}});for(let i=0,u=r.length;i<u;i++){const g=r.get(i).context;g.index=i,g.count=u,g.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{Kt(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc),h.Y36(h.ZZ4))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function Kt(n,e){n.context.$implicit=e.item}let Ti=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new It,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){eo("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){eo("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.s_b),h.Y36(h.Rgc))},n.\u0275dir=h.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class It{constructor(){this.$implicit=null,this.ngIf=null}}function eo(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,h.AaK)(e)}'.`)}let oo=(()=>{class n{constructor(t,r="USD"){this._locale=t,this._defaultCurrencyCode=r}transform(t,r=this._defaultCurrencyCode,i="symbol",u,c){if(!function Yd(n){return!(null==n||""===n||n!=n)}(t))return null;c=c||this._locale,"boolean"==typeof i&&(i=i?"symbol":"code");let g=r||this._defaultCurrencyCode;"code"!==i&&(g="symbol"===i||"symbol-narrow"===i?function rt(n,e,t="en"){const r=function ms(n){return(0,h.cg1)(n)[h.wAp.Currencies]}(t)[n]||W[n]||[],i=r[1];return"narrow"===e&&"string"==typeof i?i:r[0]||n}(g,"symbol"===i?"wide":"narrow",c):i);try{return vg(function Xo(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),c,g,r,u)}catch(_){throw function yn(n,e){return new h.vHH(2100,!1)}()}}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.soG,16),h.Y36(h.EJc,16))},n.\u0275pipe=h.Yjl({name:"currency",type:n,pure:!0,standalone:!0}),n})();let tu=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Wr="browser";let ru=(()=>{class n{}return n.\u0275prov=(0,h.Yz7)({token:n,providedIn:"root",factory:()=>new Nl((0,h.LFG)(ne),window)}),n})();class Nl{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function iu(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const u=i.shadowRoot;if(u){const c=u.getElementById(e)||u.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,u=this.offset();this.window.scrollTo(r-u[0],i-u[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Jo(this.window.history)||Jo(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Jo(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class cu extends he{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class ki extends cu{static makeCurrent(){!function ae(n){k||(k=n)}(new ki)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function hh(){return Qi=Qi||document.querySelector("base"),Qi?Qi.getAttribute("href"):null}();return null==t?null:function co(n){du=du||document.createElement("a"),du.setAttribute("href",n);const e=du.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Qi=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function lr(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,u]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(u)}return null}(document.cookie,e)}}let du,Qi=null;const ia=new h.OlP("TRANSITION_ID"),PC=[{provide:h.ip1,useFactory:function fh(n,e,t){return()=>{t.get(h.CZH).donePromise.then(()=>{const r=J(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let u=0;u<i.length;u++)r.remove(i[u])})}},deps:[ia,ne,h.zs3],multi:!0}];let iw=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const hu=new h.OlP("EventManagerPlugins");let Xi=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>i.manager=this),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let u=0;u<i.length;u++){const c=i[u];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(hu),h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class Pg{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=J().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let vn=(()=>{class n{constructor(){this._stylesSet=new Set}addStyles(t){const r=new Set;t.forEach(i=>{this._stylesSet.has(i)||(this._stylesSet.add(i),r.add(i))}),this.onStylesAdded(r)}onStylesAdded(t){}getAllStyles(){return Array.from(this._stylesSet)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),As=(()=>{class n extends vn{constructor(t){super(),this._doc=t,this._hostNodes=new Map,this._hostNodes.set(t.head,[])}_addStylesToHost(t,r,i){t.forEach(u=>{const c=this._doc.createElement("style");c.textContent=u,i.push(r.appendChild(c))})}addHost(t){const r=[];this._addStylesToHost(this._stylesSet,t,r),this._hostNodes.set(t,r)}removeHost(t){const r=this._hostNodes.get(t);r&&r.forEach(oa),this._hostNodes.delete(t)}onStylesAdded(t){this._hostNodes.forEach((r,i)=>{this._addStylesToHost(t,i,r)})}ngOnDestroy(){this._hostNodes.forEach(t=>t.forEach(oa))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function oa(n){J().remove(n)}const fu={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},Pi=/%COMP%/g;function yi(n,e){return e.flat(100).map(t=>t.replace(Pi,n))}function gu(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let mu=(()=>{class n{constructor(t,r,i){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.rendererByCompId=new Map,this.defaultRenderer=new ho(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;switch(r.encapsulation){case h.ifc.Emulated:{let i=this.rendererByCompId.get(r.id);return i||(i=new fo(this.eventManager,this.sharedStylesHost,r,this.appId),this.rendererByCompId.set(r.id,i)),i.applyToHost(t),i}case h.ifc.ShadowDom:return new yu(this.eventManager,this.sharedStylesHost,t,r);default:if(!this.rendererByCompId.has(r.id)){const i=yi(r.id,r.styles);this.sharedStylesHost.addStyles(i),this.rendererByCompId.set(r.id,this.defaultRenderer)}return this.defaultRenderer}}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Xi),h.LFG(As),h.LFG(h.AFp))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();class ho{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(fu[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(gh(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(gh(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const u=fu[i];u?e.setAttributeNS(u,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=fu[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(h.JOm.DashCase|h.JOm.Important)?e.style.setProperty(t,r,i&h.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&h.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,gu(r)):this.eventManager.addEventListener(e,t,gu(r))}}function gh(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class fo extends ho{constructor(e,t,r,i){super(e),this.component=r;const u=yi(i+"-"+r.id,r.styles);t.addStyles(u),this.contentAttr=function xs(n){return"_ngcontent-%COMP%".replace(Pi,n)}(i+"-"+r.id),this.hostAttr=function pu(n){return"_nghost-%COMP%".replace(Pi,n)}(i+"-"+r.id)}applyToHost(e){super.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}class yu extends ho{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const u=yi(i.id,i.styles);for(let c=0;c<u.length;c++){const g=document.createElement("style");g.textContent=u[c],this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}}let mh=(()=>{class n extends Pg{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const _u=["alt","control","meta","shift"],yh={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},_h={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let vh=(()=>{class n extends Pg{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const u=n.parseEventName(r),c=n.eventCallback(u.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>J().onAndCancel(t,u.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const u=n._normalizeKey(r.pop());let c="",g=r.indexOf("code");if(g>-1&&(r.splice(g,1),c="code."),_u.forEach(D=>{const C=r.indexOf(D);C>-1&&(r.splice(C,1),c+=D+".")}),c+=u,0!=r.length||0===u.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=yh[t.key]||t.key,u="";return r.indexOf("code.")>-1&&(i=t.code,u="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),_u.forEach(c=>{c!==i&&(0,_h[c])(t)&&(u+=c+".")}),u+=i,u===r)}static eventCallback(t,r,i){return u=>{n.matchEventFullKeyCode(u,t)&&i.runGuarded(()=>r(u))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();const go=(0,h.eFA)(h._c5,"browser",[{provide:h.Lbi,useValue:Wr},{provide:h.g9A,useValue:function Ji(){ki.makeCurrent()},multi:!0},{provide:ne,useFactory:function Eh(){return(0,h.RDi)(document),document},deps:[]}]),Dh=new h.OlP(""),ql=[{provide:h.rWj,useClass:class sa{addToWindow(e){h.dqk.getAngularTestability=(r,i=!0)=>{const u=e.findTestabilityInTree(r,i);if(null==u)throw new Error("Could not find testability for element.");return u},h.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),h.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),h.dqk.frameworkStabilizers||(h.dqk.frameworkStabilizers=[]),h.dqk.frameworkStabilizers.push(r=>{const i=h.dqk.getAllAngularTestabilities();let u=i.length,c=!1;const g=function(_){c=c||_,u--,0==u&&r(c)};i.forEach(function(_){_.whenStable(g)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?J().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:h.lri,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]},{provide:h.dDg,useClass:h.dDg,deps:[h.R0b,h.eoX,h.rWj]}],mo=[{provide:h.zSh,useValue:"root"},{provide:h.qLn,useFactory:function Lg(){return new h.qLn},deps:[]},{provide:hu,useClass:mh,multi:!0,deps:[ne,h.R0b,h.Lbi]},{provide:hu,useClass:vh,multi:!0,deps:[ne]},{provide:mu,useClass:mu,deps:[Xi,As,h.AFp]},{provide:h.FYo,useExisting:mu},{provide:vn,useExisting:As},{provide:As,useClass:As,deps:[ne]},{provide:Xi,useClass:Xi,deps:[hu,h.R0b]},{provide:class Fl{},useClass:iw,deps:[]},[]];let Vg=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:h.AFp,useValue:t.appId},{provide:ia,useExisting:h.AFp},PC]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Dh,12))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[...mo,...ql],imports:[tu,h.hGG]}),n})(),es=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function yo(){return new es((0,h.LFG)(ne))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var tn=R(8996),ir=R(3269);function Ze(...n){const e=(0,ir.yG)(n);return(0,tn.D)(n,e)}var hn=R(7579);class Mr extends hn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const vo=(0,R(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var zn=R(9751);const{isArray:Mh}=Array,{getPrototypeOf:Rh,prototype:Du,keys:Iu}=Object;function da(n){if(1===n.length){const e=n[0];if(Mh(e))return{args:e,keys:null};if(function Os(n){return n&&"object"==typeof n&&Rh(n)===Du}(e)){const t=Iu(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var wo=R(4671),it=R(4004);const{isArray:Jl}=Array;function ks(n){return(0,it.U)(e=>function Oh(n,e){return Jl(e)?n(...e):n(e)}(n,e))}function Ps(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var wn=R(5403),ec=R(9672);function Cu(...n){const e=(0,ir.yG)(n),t=(0,ir.jO)(n),{args:r,keys:i}=da(n);if(0===r.length)return(0,tn.D)([],e);const u=new zn.y(function ts(n,e,t=wo.y){return r=>{Ns(e,()=>{const{length:i}=n,u=new Array(i);let c=i,g=i;for(let _=0;_<i;_++)Ns(e,()=>{const D=(0,tn.D)(n[_],e);let C=!1;D.subscribe((0,wn.x)(r,T=>{u[_]=T,C||(C=!0,g--),g||r.next(t(u.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>Ps(i,c):wo.y));return t?u.pipe(ks(t)):u}function Ns(n,e,t){n?(0,ec.f)(t,n,e):e()}var Fs=R(8189);function ha(...n){return function uw(){return(0,Fs.J)(1)}()((0,tn.D)(n,(0,ir.yG)(n)))}var ns=R(8421);function kh(n){return new zn.y(e=>{(0,ns.Xf)(n()).subscribe(e)})}var tc=R(9635),qr=R(576);function Ls(n,e){const t=(0,qr.m)(n)?n:()=>n,r=i=>i.error(t());return new zn.y(e?i=>e.schedule(r,0,i):r)}var si=R(515),rs=R(727),Wn=R(4482);function Eo(){return(0,Wn.e)((n,e)=>{let t=null;n._refCount++;const r=(0,wn.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,u=t;t=null,i&&(!u||i===u)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class zg extends zn.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,Wn.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new rs.w0;const t=this.getSubject();e.add(this.source.subscribe((0,wn.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=rs.w0.EMPTY)}return e}refCount(){return Eo()(this)}}function En(n,e){return(0,Wn.e)((t,r)=>{let i=null,u=0,c=!1;const g=()=>c&&!i&&r.complete();t.subscribe((0,wn.x)(r,_=>{i?.unsubscribe();let D=0;const C=u++;(0,ns.Xf)(n(_,C)).subscribe(i=(0,wn.x)(r,T=>r.next(e?e(_,T,C,D++):T),()=>{i=null,g()}))},()=>{c=!0,g()}))})}function Vs(n){return n<=0?()=>si.E:(0,Wn.e)((e,t)=>{let r=0;e.subscribe((0,wn.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ph(...n){const e=(0,ir.yG)(n);return(0,Wn.e)((t,r)=>{(e?ha(n,t,e):ha(n,t)).subscribe(r)})}function Rr(n,e){return(0,Wn.e)((t,r)=>{let i=0;t.subscribe((0,wn.x)(r,u=>n.call(e,u,i++)&&r.next(u)))})}var Tn=R(5577);function nc(n){return(0,Wn.e)((e,t)=>{let r=!1;e.subscribe((0,wn.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Wg(n=rc){return(0,Wn.e)((e,t)=>{let r=!1;e.subscribe((0,wn.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function rc(){return new vo}function is(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rr((i,u)=>n(i,u,r)):wo.y,Vs(1),t?nc(e):Wg(()=>new vo))}function Do(n,e){return(0,qr.m)(e)?(0,Tn.z)(n,e,1):(0,Tn.z)(n,1)}function qn(n,e,t){const r=(0,qr.m)(n)||e||t?{next:n,error:e,complete:t}:n;return r?(0,Wn.e)((i,u)=>{var c;null===(c=r.subscribe)||void 0===c||c.call(r);let g=!0;i.subscribe((0,wn.x)(u,_=>{var D;null===(D=r.next)||void 0===D||D.call(r,_),u.next(_)},()=>{var _;g=!1,null===(_=r.complete)||void 0===_||_.call(r),u.complete()},_=>{var D;g=!1,null===(D=r.error)||void 0===D||D.call(r,_),u.error(_)},()=>{var _,D;g&&(null===(_=r.unsubscribe)||void 0===_||_.call(r)),null===(D=r.finalize)||void 0===D||D.call(r)}))}):wo.y}function Us(n){return(0,Wn.e)((e,t)=>{let u,r=null,i=!1;r=e.subscribe((0,wn.x)(t,void 0,void 0,c=>{u=(0,ns.Xf)(n(c,Us(n)(e))),r?(r.unsubscribe(),r=null,u.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,u.subscribe(t))})}function Nh(n,e,t,r,i){return(u,c)=>{let g=t,_=e,D=0;u.subscribe((0,wn.x)(c,C=>{const T=D++;_=g?n(_,C,T):(g=!0,C),r&&c.next(_)},i&&(()=>{g&&c.next(_),c.complete()})))}}function Fh(n,e){return(0,Wn.e)(Nh(n,e,arguments.length>=2,!0))}function bu(n){return n<=0?()=>si.E:(0,Wn.e)((e,t)=>{let r=[];e.subscribe((0,wn.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Su(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rr((i,u)=>n(i,u,r)):wo.y,bu(1),t?nc(e):Wg(()=>new vo))}function fa(n){return(0,Wn.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const ot="primary",pa=Symbol("RouteTitle");class qg{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Io(n){return new qg(n)}function Tu(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let u=0;u<r.length;u++){const c=r[u],g=n[u];if(c.startsWith(":"))i[c.substring(1)]=g;else if(c!==g.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Zr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let u=0;u<t.length;u++)if(i=t[u],!Uh(n[i],e[i]))return!1;return!0}function Uh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,u)=>r[u]===i)}return n===e}function sc(n){return Array.prototype.concat.apply([],n)}function oc(n){return n.length>0?n[n.length-1]:null}function Fn(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function on(n){return(0,h.CqO)(n)?n:(0,h.QGY)(n)?(0,tn.D)(Promise.resolve(n)):Ze(n)}const Bs=!1,$h={exact:function ac(n,e,t){if(!x(n.segments,e.segments)||!v(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ac(n.children[r],e.children[r],t))return!1;return!0},subset:jh},Au={exact:function ga(n,e){return Zr(n,e)},subset:function uc(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Uh(n[t],e[t]))},ignored:()=>!0};function Ln(n,e,t){return $h[t.paths](n.root,e.root,t.matrixParams)&&Au[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function jh(n,e,t){return lc(n,e,e.segments,t)}function lc(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!x(i,t)||e.hasChildren()||!v(i,t,r))}if(n.segments.length===t.length){if(!x(n.segments,t)||!v(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!jh(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),u=t.slice(n.segments.length);return!!(x(n.segments,i)&&v(n.segments,i,r)&&n.children[ot])&&lc(n.children[ot],e,u,r)}}function v(n,e,t){return e.every((r,i)=>Au[t](n[i].parameters,r.parameters))}class p{constructor(e=new m([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return ze.serialize(this)}}class m{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Fn(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return yt(this)}}class E{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Io(this.parameters)),this._parameterMap}toString(){return cc(this)}}function x(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let le=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return new Le},providedIn:"root"}),n})();class Le{parse(e){const t=new Kg(e);return new p(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${zt(e.root,!0)}`,r=function Hh(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${kr(t)}=${kr(i)}`).join("&"):`${kr(t)}=${kr(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function ma(n){return encodeURI(n)}(e.fragment)}`:""}`}}const ze=new Le;function yt(n){return n.segments.map(e=>cc(e)).join("/")}function zt(n,e){if(!n.hasChildren())return yt(n);if(e){const t=n.children[ot]?zt(n.children[ot],!1):"",r=[];return Fn(n.children,(i,u)=>{u!==ot&&r.push(`${u}:${zt(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function G(n,e){let t=[];return Fn(n.children,(r,i)=>{i===ot&&(t=t.concat(e(r,i)))}),Fn(n.children,(r,i)=>{i!==ot&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===ot?[zt(n.children[ot],!1)]:[`${i}:${zt(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[ot]?`${yt(n)}/${t[0]}`:`${yt(n)}/(${t.join("//")})`}}function Or(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function kr(n){return Or(n).replace(/%3B/gi,";")}function Ni(n){return Or(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function ss(n){return decodeURIComponent(n)}function xu(n){return ss(n.replace(/\+/g,"%20"))}function cc(n){return`${Ni(n.path)}${function ya(n){return Object.keys(n).map(e=>`;${Ni(e)}=${Ni(n[e])}`).join("")}(n.parameters)}`}const Gh=/^[^\/()?;=#]+/;function Co(n){const e=n.match(Gh);return e?e[0]:""}const zh=/^[^=?&#]+/,dc=/^[^&#]+/;class Kg{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new m([],{}):new m([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ot]=new m(e,t)),r}parseSegment(){const e=Co(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new h.vHH(4009,Bs);return this.capture(e),new E(ss(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Co(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Co(this.remaining);i&&(r=i,this.capture(r))}e[ss(t)]=ss(r)}parseQueryParam(e){const t=function Zg(n){const e=n.match(zh);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Wh(n){const e=n.match(dc);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=xu(t),u=xu(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(u)}else e[i]=u}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Co(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new h.vHH(4010,Bs);let u;r.indexOf(":")>-1?(u=r.slice(0,r.indexOf(":")),this.capture(u),this.capture(":")):e&&(u=ot);const c=this.parseChildren();t[u]=1===Object.keys(c).length?c[ot]:new m([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new h.vHH(4011,Bs)}}function qh(n){return n.segments.length>0?new m([],{[ot]:n}):n}function Mu(n){const e={};for(const r of Object.keys(n.children)){const u=Mu(n.children[r]);(u.segments.length>0||u.hasChildren())&&(e[r]=u)}return function LC(n){if(1===n.numberOfChildren&&n.children[ot]){const e=n.children[ot];return new m(n.segments.concat(e.segments),e.children)}return n}(new m(n.segments,e))}function _a(n){return n instanceof p}function cw(n,e,t,r,i){if(0===t.length)return $s(e.root,e.root,e.root,r,i);const u=function Qg(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new Yg(!0,0,n);let e=0,t=!1;const r=n.reduce((i,u,c)=>{if("object"==typeof u&&null!=u){if(u.outlets){const g={};return Fn(u.outlets,(_,D)=>{g[D]="string"==typeof _?_.split("/"):_}),[...i,{outlets:g}]}if(u.segmentPath)return[...i,u.segmentPath]}return"string"!=typeof u?[...i,u]:0===c?(u.split("/").forEach((g,_)=>{0==_&&"."===g||(0==_&&""===g?t=!0:".."===g?e++:""!=g&&i.push(g))}),i):[...i,u]},[]);return new Yg(t,e,r)}(t);return u.toRoot()?$s(e.root,e.root,new m([],{}),r,i):function c(_){const D=function hw(n,e,t,r){if(n.isAbsolute)return new wa(e.root,!0,0);if(-1===r)return new wa(t,t===e.root,0);return function fc(n,e,t){let r=n,i=e,u=t;for(;u>i;){if(u-=i,r=r.parent,!r)throw new h.vHH(4005,!1);i=r.segments.length}return new wa(r,!1,i-u)}(t,r+(hc(n.commands[0])?0:1),n.numberOfDoubleDots)}(u,e,n.snapshot?._urlSegment,_),C=D.processChildren?Ea(D.segmentGroup,D.index,u.commands):Qh(D.segmentGroup,D.index,u.commands);return $s(e.root,D.segmentGroup,C,r,i)}(n.snapshot?._lastPathIndex)}function hc(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function Kh(n){return"object"==typeof n&&null!=n&&n.outlets}function $s(n,e,t,r,i){let c,u={};r&&Fn(r,(_,D)=>{u[D]=Array.isArray(_)?_.map(C=>`${C}`):`${_}`}),c=n===e?t:dw(n,e,t);const g=qh(Mu(c));return new p(g,u,i)}function dw(n,e,t){const r={};return Fn(n.children,(i,u)=>{r[u]=i===e?t:dw(i,e,t)}),new m(n.segments,r)}class Yg{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&hc(r[0]))throw new h.vHH(4003,!1);const i=r.find(Kh);if(i&&i!==oc(r))throw new h.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class wa{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function Qh(n,e,t){if(n||(n=new m([],{})),0===n.segments.length&&n.hasChildren())return Ea(n,e,t);const r=function Jg(n,e,t){let r=0,i=e;const u={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return u;const c=n.segments[i],g=t[r];if(Kh(g))break;const _=`${g}`,D=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&D&&"object"==typeof D&&void 0===D.outlets){if(!em(_,D,c))return u;r+=2}else{if(!em(_,{},c))return u;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const u=new m(n.segments.slice(0,r.pathIndex),{});return u.children[ot]=new m(n.segments.slice(r.pathIndex),n.children),Ea(u,0,i)}return r.match&&0===i.length?new m(n.segments,{}):r.match&&!n.hasChildren()?pc(n,e,t):r.match?Ea(n,0,i):pc(n,e,t)}function Ea(n,e,t){if(0===t.length)return new m(n.segments,{});{const r=function Yh(n){return Kh(n[0])?n[0].outlets:{[ot]:n}}(t),i={};return Fn(r,(u,c)=>{"string"==typeof u&&(u=[u]),null!==u&&(i[c]=Qh(n.children[c],e,u))}),Fn(n.children,(u,c)=>{void 0===r[c]&&(i[c]=u)}),new m(n.segments,i)}}function pc(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const u=t[i];if(Kh(u)){const _=gc(u.outlets);return new m(r,_)}if(0===i&&hc(t[0])){r.push(new E(n.segments[e].path,fw(t[0]))),i++;continue}const c=Kh(u)?u.outlets[ot]:`${u}`,g=i<t.length-1?t[i+1]:null;c&&g&&hc(g)?(r.push(new E(c,fw(g))),i+=2):(r.push(new E(c,{})),i++)}return new m(r,{})}function gc(n){const e={};return Fn(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=pc(new m([],{}),0,t))}),e}function fw(n){const e={};return Fn(n,(t,r)=>e[r]=`${t}`),e}function em(n,e,t){return n==t.path&&Zr(e,t.parameters)}const mc="imperative";class os{constructor(e,t){this.id=e,this.url=t}}class tm extends os{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class bo extends os{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class yc extends os{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class _c extends os{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Xh extends os{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class Da extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class UC extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class BC extends os{constructor(e,t,r,i,u){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=u,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class BR extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class $C extends os{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class nm{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jC{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class pw{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Jh{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class rm{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class gw{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class im{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let GC=(()=>{class n{createUrlTree(t,r,i,u,c,g){return cw(t||r.root,i,u,c,g)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})(),zC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(e){return GC.\u0275fac(e)},providedIn:"root"}),n})();class yw{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=sm(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=sm(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=as(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return as(e,this._root).map(t=>t.value)}}function sm(n,e){if(n===e.value)return e;for(const t of e.children){const r=sm(n,t);if(r)return r}return null}function as(n,e){if(n===e.value)return[e];for(const t of e.children){const r=as(n,t);if(r.length)return r.unshift(e),r}return[]}class oi{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Ru(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class WC extends yw{constructor(e,t){super(e),this.snapshot=t,om(this,e)}toString(){return this.snapshot.toString()}}function qC(n,e){const t=function jR(n,e){const c=new ef([],{},{},"",{},ot,e,null,n.root,-1,{});return new vw("",new oi(c,[]))}(n,e),r=new Mr([new E("",{})]),i=new Mr({}),u=new Mr({}),c=new Mr({}),g=new Mr(""),_=new vc(r,i,c,g,u,ot,e,t.root);return _.snapshot=t.root,new WC(new oi(_,[]),t)}class vc{constructor(e,t,r,i,u,c,g,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.title=this.data?.pipe((0,it.U)(D=>D[pa]))??Ze(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,it.U)(e=>Io(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,it.U)(e=>Io(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function ZC(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],u=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(u.component)break;r--}}return function _w(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class ef{get title(){return this.data?.[pa]}constructor(e,t,r,i,u,c,g,_,D,C,T){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=u,this.outlet=c,this.component=g,this.routeConfig=_,this._urlSegment=D,this._lastPathIndex=C,this._resolve=T}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Io(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Io(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class vw extends yw{constructor(e,t){super(t),this.url=e,om(this,t)}toString(){return ww(this._root)}}function om(n,e){e.value._routerState=n,e.children.forEach(t=>om(n,t))}function ww(n){const e=n.children.length>0?` { ${n.children.map(ww).join(", ")} } `:"";return`${n.value}${e}`}function wc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Zr(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Zr(e.params,t.params)||n.params.next(t.params),function ic(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Zr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Zr(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function Fi(n,e){const t=Zr(n.params,e.params)&&function S(n,e){return x(n,e)&&n.every((t,r)=>Zr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Fi(n.parent,e.parent))}function Ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function Ew(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Ou(n,r,i);return Ou(n,r)})}(n,e,t);return new oi(r,i)}{if(n.shouldAttach(e.value)){const u=n.retrieve(e.value);if(null!==u){const c=u.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(g=>Ou(n,g)),c}}const r=function Dw(n){return new vc(new Mr(n.url),new Mr(n.params),new Mr(n.queryParams),new Mr(n.fragment),new Mr(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(u=>Ou(n,u));return new oi(r,i)}}const Iw="ngNavigationCancelingError";function KC(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=_a(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=YC(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function YC(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Iw]=!0,r.cancellationCode=e,t&&(r.url=t),r}function tf(n){return nf(n)&&_a(n.url)}function nf(n){return n&&n[Iw]}class HR{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new rf,this.attachRef=null}}let rf=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new HR,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Dc=!1;let am=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ot,this.activateEvents=new h.vpe,this.deactivateEvents=new h.vpe,this.attachEvents=new h.vpe,this.detachEvents=new h.vpe,this.parentContexts=(0,h.f3M)(rf),this.location=(0,h.f3M)(h.s_b),this.changeDetector=(0,h.f3M)(h.sBO),this.environmentInjector=(0,h.f3M)(h.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new h.vHH(4012,Dc);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new h.vHH(4012,Dc);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new h.vHH(4012,Dc);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new h.vHH(4013,Dc);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,g=this.parentContexts.getOrCreateContext(this.name).children,_=new QC(t,g,i.injector);if(r&&function XC(n){return!!n.resolveComponentFactory}(r)){const D=r.resolveComponentFactory(c);this.activated=i.createComponent(D,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[h.TTD]}),n})();class QC{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===vc?this.route:e===rf?this.childContexts:this.parent.get(e,t)}}let um=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=h.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[h.jDz],decls:1,vars:0,template:function(t,r){1&t&&h._UZ(0,"router-outlet")},dependencies:[am],encapsulation:2}),n})();function lm(n,e){return n.providers&&!n._injector&&(n._injector=(0,h.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function sf(n){const e=n.children&&n.children.map(sf),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ot&&(t.component=um),t}function _i(n){return n.outlet||ot}function bw(n,e){const t=n.filter(r=>_i(r)===e);return t.push(...n.filter(r=>_i(r)!==e)),t}function Ic(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class Sw{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),wc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Ru(t);e.children.forEach(u=>{const c=u.value.outlet;this.deactivateRoutes(u,i[c],r),delete i[c]}),Fn(i,(u,c)=>{this.deactivateRouteAndItsChildren(u,r)})}deactivateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(i===u)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else u&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ru(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);if(r&&r.outlet){const c=r.outlet.detach(),g=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:g})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,u=Ru(e);for(const c of Object.keys(u))this.deactivateRouteAndItsChildren(u[c],i);r&&r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated(),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Ru(t);e.children.forEach(u=>{this.activateRoutes(u,i[u.value.outlet],r),this.forwardEvent(new gw(u.value.snapshot))}),e.children.length&&this.forwardEvent(new Jh(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,u=t?t.value:null;if(wc(i),i===u)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const g=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(g.contexts),c.attachRef=g.componentRef,c.route=g.route.value,c.outlet&&c.outlet.attach(g.componentRef,g.route.value),wc(g.route.value),this.activateChildRoutes(e,null,c.children)}else{const g=Ic(i.snapshot),_=g?.get(h._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=g,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class nb{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class hm{constructor(e,t){this.component=e,this.route=t}}function Cc(n,e,t){const r=n._root;return ku(r,e?e._root:null,t,[r.value])}function Ia(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,h.Z0I)(n)?e.get(n):n:r}function ku(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=Ru(e);return n.children.forEach(c=>{(function Tw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const u=n.value,c=e?e.value:null,g=t?t.getContext(n.value.outlet):null;if(c&&u.routeConfig===c.routeConfig){const _=function WR(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!x(n.url,e.url);case"pathParamsOrQueryParamsChange":return!x(n.url,e.url)||!Zr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Fi(n,e)||!Zr(n.queryParams,e.queryParams);default:return!Fi(n,e)}}(c,u,u.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new nb(r)):(u.data=c.data,u._resolvedData=c._resolvedData),ku(n,e,u.component?g?g.children:null:t,r,i),_&&g&&g.outlet&&g.outlet.isActivated&&i.canDeactivateChecks.push(new hm(g.outlet.component,c))}else c&&bc(e,g,i),i.canActivateChecks.push(new nb(r)),ku(n,null,u.component?g?g.children:null:t,r,i)})(c,u[c.value.outlet],t,r.concat([c.value]),i),delete u[c.value.outlet]}),Fn(u,(c,g)=>bc(c,t.getContext(g),i)),i}function bc(n,e,t){const r=Ru(n),i=n.value;Fn(r,(u,c)=>{bc(u,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new hm(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Pu(n){return"function"==typeof n}function js(n){return n instanceof vo||"EmptyError"===n?.name}const af=Symbol("INITIAL_VALUE");function So(){return En(n=>Cu(n.map(e=>e.pipe(Vs(1),Ph(af)))).pipe((0,it.U)(e=>{for(const t of e)if(!0!==t){if(t===af)return af;if(!1===t||t instanceof p)return t}return!0}),Rr(e=>e!==af),Vs(1)))}function vm(n){return(0,tc.z)(qn(e=>{if(_a(e))throw KC(0,e)}),(0,it.U)(e=>!0===e))}const wm={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function Rw(n,e,t,r,i){const u=Em(n,e,t);return u.matched?function Nu(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?Ze(i.map(c=>{const g=Ia(c,n);return on(function mm(n){return n&&Pu(n.canMatch)}(g)?g.canMatch(e,t):n.runInContext(()=>g(e,t)))})).pipe(So(),vm()):Ze(!0)}(r=lm(e,r),e,t).pipe((0,it.U)(c=>!0===c?u:{...wm})):Ze(u)}function Em(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...wm}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Tu)(t,n,e);if(!i)return{...wm};const u={};Fn(i.posParams,(g,_)=>{u[_]=g.path});const c=i.consumed.length>0?{...u,...i.consumed[i.consumed.length-1].parameters}:u;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function Fu(n,e,t,r){if(t.length>0&&function lb(n,e,t){return t.some(r=>Dm(n,e,r)&&_i(r)!==ot)}(n,t,r)){const u=new m(e,function Ow(n,e,t,r){const i={};i[ot]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const u of t)if(""===u.path&&_i(u)!==ot){const c=new m([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[_i(u)]=c}return i}(n,e,r,new m(t,n.children)));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:[]}}if(0===t.length&&function kw(n,e,t){return t.some(r=>Dm(n,e,r))}(n,t,r)){const u=new m(n.segments,function ub(n,e,t,r,i){const u={};for(const c of r)if(Dm(n,t,c)&&!i[_i(c)]){const g=new m([],{});g._sourceSegment=n,g._segmentIndexShift=e.length,u[_i(c)]=g}return{...i,...u}}(n,e,t,r,n.children));return u._sourceSegment=n,u._segmentIndexShift=e.length,{segmentGroup:u,slicedSegments:t}}const i=new m(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Dm(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function Pw(n,e,t,r){return!!(_i(n)===r||r!==ot&&Dm(e,t,n))&&("**"===n.path||Em(e,n,t).matched)}function Lu(n,e,t){return 0===e.length&&!n.children[t]}const cf=!1;class Hs{constructor(e){this.segmentGroup=e||null}}class Vu{constructor(e){this.urlTree=e}}function Sc(n){return Ls(new Hs(n))}function Im(n){return Ls(new Vu(n))}class Nw{constructor(e,t,r,i,u){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=u,this.allowRedirects=!0}apply(){const e=Fu(this.urlTree.root,[],[],this.config).segmentGroup,t=new m(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,ot).pipe((0,it.U)(u=>this.createUrlTree(Mu(u),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Us(u=>{if(u instanceof Vu)return this.allowRedirects=!1,this.match(u.urlTree);throw u instanceof Hs?this.noMatchError(u):u}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,ot).pipe((0,it.U)(i=>this.createUrlTree(Mu(i),e.queryParams,e.fragment))).pipe(Us(i=>{throw i instanceof Hs?this.noMatchError(i):i}))}noMatchError(e){return new h.vHH(4002,cf)}createUrlTree(e,t,r){const i=qh(e);return new p(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,it.U)(u=>new m([],u))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const u of Object.keys(r.children))"primary"===u?i.unshift(u):i.push(u);return(0,tn.D)(i).pipe(Do(u=>{const c=r.children[u],g=bw(t,u);return this.expandSegmentGroup(e,g,c,u).pipe((0,it.U)(_=>({segment:_,outlet:u})))}),Fh((u,c)=>(u[c.outlet]=c.segment,u),{}),Su())}expandSegment(e,t,r,i,u,c){return(0,tn.D)(r).pipe(Do(g=>this.expandSegmentAgainstRoute(e,t,r,g,i,u,c).pipe(Us(D=>{if(D instanceof Hs)return Ze(null);throw D}))),is(g=>!!g),Us((g,_)=>{if(js(g))return Lu(t,i,u)?Ze(new m([],{})):Sc(t);throw g}))}expandSegmentAgainstRoute(e,t,r,i,u,c,g){return Pw(i,t,u,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,u,c):g&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c):Sc(t):Sc(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const u=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Im(u):this.lineralizeSegments(r,u).pipe((0,Tn.z)(c=>{const g=new m(c,{});return this.expandSegment(e,g,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,u,c){const{matched:g,consumedSegments:_,remainingSegments:D,positionalParamSegments:C}=Em(t,i,u);if(!g)return Sc(t);const T=this.applyRedirectCommands(_,i.redirectTo,C);return i.redirectTo.startsWith("/")?Im(T):this.lineralizeSegments(i,T).pipe((0,Tn.z)(P=>this.expandSegment(e,t,r,P.concat(D),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,u){return"**"===r.path?(e=lm(r,e),r.loadChildren?(r._loadedRoutes?Ze({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,it.U)(g=>(r._loadedRoutes=g.routes,r._loadedInjector=g.injector,new m(i,{})))):Ze(new m(i,{}))):Rw(t,r,i,e).pipe(En(({matched:c,consumedSegments:g,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,Tn.z)(C=>{const T=C.injector??e,P=C.routes,{segmentGroup:$,slicedSegments:Y}=Fu(t,g,_,P),fe=new m($.segments,$.children);if(0===Y.length&&fe.hasChildren())return this.expandChildren(T,P,fe).pipe((0,it.U)(bt=>new m(g,bt)));if(0===P.length&&0===Y.length)return Ze(new m(g,{}));const Ie=_i(r)===u;return this.expandSegment(T,fe,P,Y,Ie?ot:u,!0).pipe((0,it.U)(pt=>new m(g.concat(pt.segments),pt.children)))})):Sc(t)))}getChildConfig(e,t,r){return t.children?Ze({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?Ze({routes:t._loadedRoutes,injector:t._loadedInjector}):function ab(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?Ze(!0):Ze(i.map(c=>{const g=Ia(c,n);return on(function pm(n){return n&&Pu(n.canLoad)}(g)?g.canLoad(e,t):n.runInContext(()=>g(e,t)))})).pipe(So(),vm())}(e,t,r).pipe((0,Tn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe(qn(u=>{t._loadedRoutes=u.routes,t._loadedInjector=u.injector})):function db(n){return Ls(YC(cf,3))}())):Ze({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return Ze(r);if(i.numberOfChildren>1||!i.children[ot])return Ls(new h.vHH(4e3,cf));i=i.children[ot]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const u=this.createSegmentGroup(e,t.root,r,i);return new p(u,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Fn(e,(i,u)=>{if("string"==typeof i&&i.startsWith(":")){const g=i.substring(1);r[u]=t[g]}else r[u]=i}),r}createSegmentGroup(e,t,r,i){const u=this.createSegments(e,t.segments,r,i);let c={};return Fn(t.children,(g,_)=>{c[_]=this.createSegmentGroup(e,g,r,i)}),new m(u,c)}createSegments(e,t,r,i){return t.map(u=>u.path.startsWith(":")?this.findPosParam(e,u,i):this.findOrReturn(u,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new h.vHH(4001,cf);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class Cm{}class Tc{constructor(e,t,r,i,u,c,g){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=u,this.paramsInheritanceStrategy=c,this.urlSerializer=g}recognize(){const e=Fu(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,ot).pipe((0,it.U)(t=>{if(null===t)return null;const r=new ef([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},ot,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new oi(r,t),u=new vw(this.url,i);return this.inheritParamsAndData(u._root),u}))}inheritParamsAndData(e){const t=e.value,r=ZC(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,tn.D)(Object.keys(r.children)).pipe(Do(i=>{const u=r.children[i],c=bw(t,i);return this.processSegmentGroup(e,c,u,i)}),Fh((i,u)=>i&&u?(i.push(...u),i):null),function Lh(n,e=!1){return(0,Wn.e)((t,r)=>{let i=0;t.subscribe((0,wn.x)(r,u=>{const c=n(u,i++);(c||e)&&r.next(u),!c&&r.complete()}))})}(i=>null!==i),nc(null),Su(),(0,it.U)(i=>{if(null===i)return null;const u=Lw(i);return function pb(n){n.sort((e,t)=>e.value.outlet===ot?-1:t.value.outlet===ot?1:e.value.outlet.localeCompare(t.value.outlet))}(u),u}))}processSegment(e,t,r,i,u){return(0,tn.D)(t).pipe(Do(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,u)),is(c=>!!c),Us(c=>{if(js(c))return Lu(r,i,u)?Ze([]):Ze(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,u){if(t.redirectTo||!Pw(t,r,i,u))return Ze(null);let c;if("**"===t.path){const g=i.length>0?oc(i).parameters:{},_=Uw(r)+i.length;c=Ze({snapshot:new ef(i,g,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,us(t),_i(t),t.component??t._loadedComponent??null,t,Vw(r),_,Bw(t)),consumedSegments:[],remainingSegments:[]})}else c=Rw(r,t,i,e).pipe((0,it.U)(({matched:g,consumedSegments:_,remainingSegments:D,parameters:C})=>{if(!g)return null;const T=Uw(r)+_.length;return{snapshot:new ef(_,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,us(t),_i(t),t.component??t._loadedComponent??null,t,Vw(r),T,Bw(t)),consumedSegments:_,remainingSegments:D}}));return c.pipe(En(g=>{if(null===g)return Ze(null);const{snapshot:_,consumedSegments:D,remainingSegments:C}=g;e=t._injector??e;const T=t._loadedInjector??e,P=function gb(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:$,slicedSegments:Y}=Fu(r,D,C,P.filter(Ie=>void 0===Ie.redirectTo));if(0===Y.length&&$.hasChildren())return this.processChildren(T,P,$).pipe((0,it.U)(Ie=>null===Ie?null:[new oi(_,Ie)]));if(0===P.length&&0===Y.length)return Ze([new oi(_,[])]);const fe=_i(t)===u;return this.processSegment(T,P,$,Y,fe?ot:u).pipe((0,it.U)(Ie=>null===Ie?null:[new oi(_,Ie)]))}))}}function mb(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function Lw(n){const e=[],t=new Set;for(const r of n){if(!mb(r)){e.push(r);continue}const i=e.find(u=>r.value.routeConfig===u.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=Lw(r.children);e.push(new oi(r.value,i))}return e.filter(r=>!t.has(r))}function Vw(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function Uw(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function us(n){return n.data||{}}function Bw(n){return n.resolve||{}}function Sm(n){return"string"==typeof n.title||null===n.title}function Tm(n){return En(e=>{const t=n(e);return t?(0,tn.D)(t).pipe((0,it.U)(()=>e)):Ze(e)})}const Uu=new h.OlP("ROUTES");let ai=(()=>{class n{constructor(t,r){this.injector=t,this.compiler=r,this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return Ze(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=on(t.loadComponent()).pipe((0,it.U)(Am),qn(u=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=u}),fa(()=>{this.componentLoaders.delete(t)})),i=new zg(r,()=>new hn.x).pipe(Eo());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return Ze({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const u=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,it.U)(g=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,D,C=!1;Array.isArray(g)?D=g:(_=g.create(t).injector,D=sc(_.get(Uu,[],h.XFs.Self|h.XFs.Optional)));return{routes:D.map(sf),injector:_}}),fa(()=>{this.childrenLoaders.delete(r)})),c=new zg(u,()=>new hn.x).pipe(Eo());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return on(t()).pipe((0,it.U)(Am),(0,Tn.z)(i=>i instanceof h.YKP||Array.isArray(i)?Ze(i):(0,tn.D)(this.compiler.compileModuleAsync(i))))}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.zs3),h.LFG(h.Sil))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Am(n){return function vb(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let ff=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new hn.x,this.configLoader=(0,h.f3M)(ai),this.environmentInjector=(0,h.f3M)(h.lqb),this.urlSerializer=(0,h.f3M)(le),this.rootContexts=(0,h.f3M)(rf),this.navigationId=0,this.afterPreactivation=()=>Ze(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jC(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new nm(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Mr({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:mc,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rr(r=>0!==r.id),(0,it.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),En(r=>{let i=!1,u=!1;return Ze(r).pipe(qn(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),En(c=>{const g=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==g||g!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const C="";return this.events.next(new _c(c.id,t.serializeUrl(r.rawUrl),C,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),si.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return zw(c.source)&&(t.browserUrlTree=c.extractedUrl),Ze(c).pipe(En(C=>{const T=this.transitions?.getValue();return this.events.next(new tm(C.id,this.urlSerializer.serialize(C.extractedUrl),C.source,C.restoredState)),T!==this.transitions?.getValue()?si.E:Promise.resolve(C)}),function Fw(n,e,t,r){return En(i=>function hb(n,e,t,r,i){return new Nw(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,it.U)(u=>({...i,urlAfterRedirects:u}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),qn(C=>{this.currentNavigation={...this.currentNavigation,finalUrl:C.urlAfterRedirects},r.urlAfterRedirects=C.urlAfterRedirects}),function _b(n,e,t,r,i){return(0,Tn.z)(u=>function bm(n,e,t,r,i,u,c="emptyOnly"){return new Tc(n,e,t,r,i,c,u).recognize().pipe(En(g=>null===g?function fb(n){return new zn.y(e=>e.error(n))}(new Cm):Ze(g)))}(n,e,t,u.urlAfterRedirects,r.serialize(u.urlAfterRedirects),r,i).pipe((0,it.U)(c=>({...u,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),qn(C=>{if(r.targetSnapshot=C.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!C.extras.skipLocationChange){const P=t.urlHandlingStrategy.merge(C.urlAfterRedirects,C.rawUrl);t.setBrowserUrl(P,C)}t.browserUrlTree=C.urlAfterRedirects}const T=new Da(C.id,this.urlSerializer.serialize(C.extractedUrl),this.urlSerializer.serialize(C.urlAfterRedirects),C.targetSnapshot);this.events.next(T)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:C,extractedUrl:T,source:P,restoredState:$,extras:Y}=c,fe=new tm(C,this.urlSerializer.serialize(T),P,$);this.events.next(fe);const Ie=qC(T,this.rootComponentType).snapshot;return Ze(r={...c,targetSnapshot:Ie,urlAfterRedirects:T,extras:{...Y,skipLocationChange:!1,replaceUrl:!1}})}{const C="";return this.events.next(new _c(c.id,t.serializeUrl(r.extractedUrl),C,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),si.E}}),qn(c=>{const g=new UC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(g)}),(0,it.U)(c=>r={...c,guards:Cc(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function uf(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:u,canDeactivateChecks:c}}=t;return 0===c.length&&0===u.length?Ze({...t,guardsResult:!0}):function sb(n,e,t,r){return(0,tn.D)(n).pipe((0,Tn.z)(i=>function ob(n,e,t,r,i){const u=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return u&&0!==u.length?Ze(u.map(g=>{const _=Ic(e)??i,D=Ia(g,_);return on(function rb(n){return n&&Pu(n.canDeactivate)}(D)?D.canDeactivate(n,e,t,r):_.runInContext(()=>D(n,e,t,r))).pipe(is())})).pipe(So()):Ze(!0)}(i.component,i.route,t,e,r)),is(i=>!0!==i,!0))}(c,r,i,n).pipe((0,Tn.z)(g=>g&&function Aw(n){return"boolean"==typeof n}(g)?function ym(n,e,t,r){return(0,tn.D)(e).pipe(Do(i=>ha(function Ca(n,e){return null!==n&&e&&e(new pw(n)),Ze(!0)}(i.route.parent,r),function lf(n,e){return null!==n&&e&&e(new rm(n)),Ze(!0)}(i.route,r),function _m(n,e,t){const r=e[e.length-1],u=e.slice(0,e.length-1).reverse().map(c=>function fm(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>kh(()=>Ze(c.guards.map(_=>{const D=Ic(c.node)??t,C=Ia(_,D);return on(function gm(n){return n&&Pu(n.canActivateChild)}(C)?C.canActivateChild(r,n):D.runInContext(()=>C(r,n))).pipe(is())})).pipe(So())));return Ze(u).pipe(So())}(n,i.path,t),function Mw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return Ze(!0);const i=r.map(u=>kh(()=>{const c=Ic(e)??t,g=Ia(u,c);return on(function qR(n){return n&&Pu(n.canActivate)}(g)?g.canActivate(e,n):c.runInContext(()=>g(e,n))).pipe(is())}));return Ze(i).pipe(So())}(n,i.route,t))),is(i=>!0!==i,!0))}(r,u,n,e):Ze(g)),(0,it.U)(g=>({...t,guardsResult:g})))})}(this.environmentInjector,c=>this.events.next(c)),qn(c=>{if(r.guardsResult=c.guardsResult,_a(c.guardsResult))throw KC(0,c.guardsResult);const g=new BC(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(g)}),Rr(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),Tm(c=>{if(c.guards.canActivateChecks.length)return Ze(c).pipe(qn(g=>{const _=new BR(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}),En(g=>{let _=!1;return Ze(g).pipe(function ZR(n,e){return(0,Tn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return Ze(t);let u=0;return(0,tn.D)(i).pipe(Do(c=>function KR(n,e,t,r){const i=n.routeConfig,u=n._resolve;return void 0!==i?.title&&!Sm(i)&&(u[pa]=i.title),function $w(n,e,t,r){const i=function YR(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return Ze({});const u={};return(0,tn.D)(i).pipe((0,Tn.z)(c=>function jw(n,e,t,r){const i=Ic(e)??r,u=Ia(n,i);return on(u.resolve?u.resolve(e,t):i.runInContext(()=>u(e,t)))}(n[c],e,t,r).pipe(is(),qn(g=>{u[c]=g}))),bu(1),function Vh(n){return(0,it.U)(()=>n)}(u),Us(c=>js(c)?si.E:Ls(c)))}(u,n,e,r).pipe((0,it.U)(c=>(n._resolvedData=c,n.data=ZC(n,t).resolve,i&&Sm(i)&&(n.data[pa]=i.title),null)))}(c.route,r,n,e)),qn(()=>u++),bu(1),(0,Tn.z)(c=>u===i.length?Ze(t):si.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),qn({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(g),this.cancelNavigationTransition(g,"",2))}}))}),qn(g=>{const _=new $C(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}))}),Tm(c=>{const g=_=>{const D=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&D.push(this.configLoader.loadComponent(_.routeConfig).pipe(qn(C=>{_.component=C}),(0,it.U)(()=>{})));for(const C of _.children)D.push(...g(C));return D};return Cu(g(c.targetSnapshot.root)).pipe(nc(),Vs(1))}),Tm(()=>this.afterPreactivation()),(0,it.U)(c=>{const g=function Ec(n,e,t){const r=Ou(n,e._root,t?t._root:void 0);return new WC(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:g}}),qn(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,it.U)(r=>(new Sw(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),qn({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new bo(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),fa(()=>{i||u||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Us(c=>{if(u=!0,nf(c)){tf(c)||(t.navigated=!0,t.restoreHistory(r,!0));const g=new yc(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(g),tf(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),D={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||zw(r.source)};t.scheduleNavigation(_,mc,null,D,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const g=new Xh(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(g);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return si.E}))}))}cancelNavigationTransition(t,r,i){const u=new yc(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(u),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function zw(n){return n!==mc}let Ww=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(u=>u.outlet===ot);return r}getResolvedTitleForRoute(t){return t.data[pa]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(qw)},providedIn:"root"}),n})(),qw=(()=>{class n extends Ww{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(es))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),wb=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Db)},providedIn:"root"}),n})();class Eb{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let Db=(()=>{class n extends Eb{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const xc=new h.OlP("",{providedIn:"root",factory:()=>({})});let Zw=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:function(){return(0,h.f3M)(Kw)},providedIn:"root"}),n})(),Kw=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Ib(n){throw n}function Qw(n,e,t){return e.parse("/")}const Cb={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Xw={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let Zn=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,h.f3M)(h.c2e),this.isNgZoneEnabled=!1,this.options=(0,h.f3M)(xc,{optional:!0})||{},this.errorHandler=this.options.errorHandler||Ib,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||Qw,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,h.f3M)(Zw),this.routeReuseStrategy=(0,h.f3M)(wb),this.urlCreationStrategy=(0,h.f3M)(zC),this.titleStrategy=(0,h.f3M)(Ww),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=sc((0,h.f3M)(Uu,{optional:!0})??[]),this.navigationTransitions=(0,h.f3M)(ff),this.urlSerializer=(0,h.f3M)(le),this.location=(0,h.f3M)(Ee),this.isNgZoneEnabled=(0,h.f3M)(h.R0b)instanceof h.R0b&&h.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new p,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=qC(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=t.targetPageId},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),mc,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const u={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(u.state=_)}const g=this.parseUrl(t);this.scheduleNavigation(g,r,c,u)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(sf),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:u,fragment:c,queryParamsHandling:g,preserveFragment:_}=r,D=_?this.currentUrlTree.fragment:c;let C=null;switch(g){case"merge":C={...this.currentUrlTree.queryParams,...u};break;case"preserve":C=this.currentUrlTree.queryParams;break;default:C=u||null}return null!==C&&(C=this.removeEmptyProps(C)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,C,D??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=_a(t)?t:this.parseUrl(t),u=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(u,mc,null,r)}navigate(t,r={skipLocationChange:!1}){return function bb(n){for(let e=0;e<n.length;e++){if(null==n[e])throw new h.vHH(4008,!1)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...Cb}:!1===r?{...Xw}:r,_a(t))return Ln(this.currentUrlTree,t,i);const u=this.parseUrl(t);return Ln(this.currentUrlTree,u,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const u=t[i];return null!=u&&(r[i]=u),r},{})}scheduleNavigation(t,r,i,u,c){if(this.disposed)return Promise.resolve(!1);let g,_,D,C;return c?(g=c.resolve,_=c.reject,D=c.promise):D=new Promise((T,P)=>{g=T,_=P}),C="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:u.replaceUrl||u.skipLocationChange?this.browserPageId??0:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:C,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:u,resolve:g,reject:_,promise:D,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),D.catch(T=>Promise.reject(T))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t),u={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl?this.location.replaceState(i,"",u):this.location.go(i,"",u)}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const i=this.currentPageId-t.targetPageId;"popstate"!==t.source&&"eager"!==this.urlUpdateStrategy&&this.currentUrlTree!==this.getCurrentNavigation()?.finalUrl||0===i?this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===i&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree()):this.location.historyGo(i)}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),pf=(()=>{class n{constructor(t,r,i,u,c,g){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=u,this.el=c,this.locationStrategy=g,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new hn.x;const _=c.nativeElement.tagName;this.isAnchorElement="A"===_||"AREA"===_,this.isAnchorElement?this.subscription=t.events.subscribe(D=>{D instanceof bo&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,h.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,h.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,h.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,u,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||u||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,h.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,u=this.el.nativeElement;null!==r?i.setAttribute(u,t,r):i.removeAttribute(u,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Zn),h.Y36(vc),h.$8M("tabindex"),h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(He))},n.\u0275dir=h.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&h.NdJ("click",function(u){return r.onClick(u.button,u.ctrlKey,u.shiftKey,u.altKey,u.metaKey)}),2&t&&h.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[h.TTD]}),n})();class To{}let xm=(()=>{class n{constructor(t,r,i,u,c){this.router=t,this.injector=i,this.preloadingStrategy=u,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(Rr(t=>t instanceof bo),Do(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const u of r){u.providers&&!u._injector&&(u._injector=(0,h.MMx)(u.providers,t,`Route: ${u.path}`));const c=u._injector??t,g=u._loadedInjector??c;u.loadChildren&&!u._loadedRoutes&&void 0===u.canLoad||u.loadComponent&&!u._loadedComponent?i.push(this.preloadConfig(c,u)):(u.children||u._loadedRoutes)&&i.push(this.processRoutes(g,u.children??u._loadedRoutes))}return(0,tn.D)(i).pipe((0,Fs.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):Ze(null);const u=i.pipe((0,Tn.z)(c=>null===c?Ze(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,tn.D)([u,c]).pipe((0,Fs.J)())}return u})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zn),h.LFG(h.Sil),h.LFG(h.lqb),h.LFG(To),h.LFG(ai))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const Mm=new h.OlP("");let Sb=(()=>{class n{constructor(t,r,i,u,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=u,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof tm?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof bo&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof im&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new im(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){h.$Z()},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac}),n})();function Ao(n,e){return{\u0275kind:n,\u0275providers:e}}function Rm(){const n=(0,h.f3M)(h.zs3);return e=>{const t=n.get(h.z2F);if(e!==t.components[0])return;const r=n.get(Zn),i=n.get(Oc);1===n.get(Om)&&r.initialNavigation(),n.get(o0,null,h.XFs.Optional)?.setUpPreloading(),n.get(Mm,null,h.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.unsubscribe())}}const Oc=new h.OlP("",{factory:()=>new hn.x}),Om=new h.OlP("",{providedIn:"root",factory:()=>1});const o0=new h.OlP("");function Mb(n){return Ao(0,[{provide:o0,useExisting:xm},{provide:To,useExisting:n}])}const km=new h.OlP("ROUTER_FORROOT_GUARD"),Pm=[Ee,{provide:le,useClass:Le},Zn,rf,{provide:vc,useFactory:function n0(n){return n.routerState.root},deps:[Zn]},ai,[]];function eO(){return new h.PXZ("Router",Zn)}let gf=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[Pm,[],{provide:Uu,multi:!0,useValue:t},{provide:km,useFactory:a0,deps:[[Zn,new h.FiY,new h.tp0]]},{provide:xc,useValue:r||{}},r?.useHash?{provide:He,useClass:ge}:{provide:He,useClass:ve},{provide:Mm,useFactory:()=>{const n=(0,h.f3M)(ru),e=(0,h.f3M)(h.R0b),t=(0,h.f3M)(xc),r=(0,h.f3M)(ff),i=(0,h.f3M)(le);return t.scrollOffset&&n.setOffset(t.scrollOffset),new Sb(i,r,n,e,t)}},r?.preloadingStrategy?Mb(r.preloadingStrategy).\u0275providers:[],{provide:h.PXZ,multi:!0,useFactory:eO},r?.initialNavigation?Pb(r):[],[{provide:Nm,useFactory:Rm},{provide:h.tb,multi:!0,useExisting:Nm}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Uu,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(km,8))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[um]}),n})();function a0(n){return"guarded"}function Pb(n){return["disabled"===n.initialNavigation?Ao(3,[{provide:h.ip1,multi:!0,useFactory:()=>{const e=(0,h.f3M)(Zn);return()=>{e.setUpLocationChangeListener()}}},{provide:Om,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Ao(2,[{provide:Om,useValue:0},{provide:h.ip1,multi:!0,deps:[h.zs3],useFactory:e=>{const t=e.get(Ce,Promise.resolve());return()=>t.then(()=>new Promise(i=>{const u=e.get(Zn),c=e.get(Oc);(function r(i){e.get(Zn).events.pipe(Rr(c=>c instanceof bo||c instanceof yc||c instanceof Xh),(0,it.U)(c=>c instanceof bo||c instanceof yc&&(0===c.code||1===c.code)&&null),Rr(c=>null!==c),Vs(1)).subscribe(()=>{i()})})(()=>{i(!0)}),e.get(ff).afterPreactivation=()=>(i(!0),c.closed?Ze(void 0):c),u.initialNavigation()}))}}]).\u0275providers:[]]}const Nm=new h.OlP("");let ba=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq))},n.\u0275dir=h.lG2({type:n}),n})(),Gs=(()=>{class n extends ba{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const Kr=new h.OlP("NgValueAccessor"),u0={provide:Kr,useExisting:(0,h.Gpc)(()=>xo),multi:!0},Vm=new h.OlP("CompositionEventMode");let xo=(()=>{class n extends ba{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function Lm(){const n=J()?J().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.Qsj),h.Y36(h.SBq),h.Y36(Vm,8))},n.\u0275dir=h.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r._handleInput(u.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(u){return r._compositionEnd(u.target.value)})},features:[h._Bn([u0]),h.qOj]}),n})();function ls(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function c0(n){return null!=n&&"number"==typeof n.length}const pr=new h.OlP("NgValidators"),zs=new h.OlP("NgAsyncValidators"),Fb=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class Pr{static min(e){return function Um(n){return e=>{if(ls(e.value)||ls(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function d0(n){return e=>{if(ls(e.value)||ls(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function h0(n){return ls(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function Yr(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function Bm(n){return ls(n.value)||Fb.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function f0(n){return e=>ls(e.value)||!c0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function Lb(n){return e=>c0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function yf(n){if(!n)return Nc;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(ls(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return _f(e)}static composeAsync(e){return _0(e)}}function Nc(n){return null}function p0(n){return null!=n}function g0(n){return(0,h.QGY)(n)?(0,tn.D)(n):n}function m0(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function $m(n,e){return e.map(t=>t(n))}function y0(n){return n.map(e=>function Vb(n){return!n.validate}(e)?e:t=>e.validate(t))}function _f(n){if(!n)return null;const e=n.filter(p0);return 0==e.length?null:function(t){return m0($m(t,e))}}function jm(n){return null!=n?_f(y0(n)):null}function _0(n){if(!n)return null;const e=n.filter(p0);return 0==e.length?null:function(t){return function mf(...n){const e=(0,ir.jO)(n),{args:t,keys:r}=da(n),i=new zn.y(u=>{const{length:c}=t;if(!c)return void u.complete();const g=new Array(c);let _=c,D=c;for(let C=0;C<c;C++){let T=!1;(0,ns.Xf)(t[C]).subscribe((0,wn.x)(u,P=>{T||(T=!0,D--),g[C]=P},()=>_--,void 0,()=>{(!_||!T)&&(D||u.next(r?Ps(r,g):g),u.complete())}))}});return e?i.pipe(ks(e)):i}($m(t,e).map(g0)).pipe((0,it.U)(m0))}}function Hm(n){return null!=n?_0(y0(n)):null}function v0(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function w0(n){return n._rawValidators}function Li(n){return n._rawAsyncValidators}function Fc(n){return n?Array.isArray(n)?n:[n]:[]}function vf(n,e){return Array.isArray(n)?n.includes(e):n===e}function E0(n,e){const t=Fc(e);return Fc(n).forEach(i=>{vf(t,i)||t.push(i)}),t}function Gm(n,e){return Fc(e).filter(t=>!vf(n,t))}class D0{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=jm(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Hm(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Nr extends D0{get formDirective(){return null}get path(){return null}}class Mo extends D0{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class wf{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Sa=(()=>{class n extends wf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Mo,2))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[h.qOj]}),n})(),$u=(()=>{class n extends wf{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(Nr,10))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&h.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[h.qOj]}),n})();const Ws="VALID",Ef="INVALID",Vc="PENDING",Uc="DISABLED";function Ym(n){return(Df(n)?n.validators:n)||null}function Qm(n,e){return(Df(e)?e.asyncValidators:n)||null}function Df(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function x0(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new h.vHH(1e3,"");if(!r[t])throw new h.vHH(1001,"")}function Xm(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new h.vHH(1002,"")})}class Hu{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ws}get invalid(){return this.status===Ef}get pending(){return this.status==Vc}get disabled(){return this.status===Uc}get enabled(){return this.status!==Uc}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(E0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(E0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Gm(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Gm(e,this._rawAsyncValidators))}hasValidator(e){return vf(this._rawValidators,e)}hasAsyncValidator(e){return vf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Vc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Uc,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ws,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ws||this.status===Vc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Uc:Ws}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Vc,this._hasOwnPendingAsyncValidator=!0;const t=g0(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new h.vpe,this.statusChanges=new h.vpe}_calculateStatus(){return this._allControlsDisabled()?Uc:this.errors?Ef:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Vc)?Vc:this._anyControlsHaveStatus(Ef)?Ef:Ws}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Df(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Hb(n){return Array.isArray(n)?jm(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Gb(n){return Array.isArray(n)?Hm(n):n||null}(this._rawAsyncValidators)}}class Ta extends Hu{constructor(e,t,r){super(Ym(t),Qm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){Xm(this,0,e),Object.keys(e).forEach(r=>{x0(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,u)=>{r=t(r,i,u)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class R0 extends Ta{}const Bc=new h.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Jm}),Jm="always";function $c(n,e,t=Jm){O0(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function Cf(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&Wb(n,e)})}(n,e),function bf(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Aa(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&Wb(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function zb(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function jc(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Gc(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function Hc(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function O0(n,e){const t=w0(n);null!==e.validator?n.setValidators(v0(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=Li(n);null!==e.asyncValidator?n.setAsyncValidators(v0(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Hc(e._rawValidators,i),Hc(e._rawAsyncValidators,i)}function Gc(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=w0(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.validator);u.length!==i.length&&(t=!0,n.setValidators(u))}}if(null!==e.asyncValidator){const i=Li(n);if(Array.isArray(i)&&i.length>0){const u=i.filter(c=>c!==e.asyncValidator);u.length!==i.length&&(t=!0,n.setAsyncValidators(u))}}}const r=()=>{};return Hc(e._rawValidators,r),Hc(e._rawAsyncValidators,r),t}function Wb(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function xa(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function Ma(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Qr=class extends Hu{constructor(e=null,t,r){super(Ym(t),Qm(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Df(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=Ma(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){xa(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){xa(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){Ma(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let Zc=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=h.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})();const Jb={provide:Kr,useExisting:(0,h.Gpc)(()=>ny),multi:!0};let ny=(()=>{class n extends Gs{writeValue(t){this.setProperty("value",t??"")}registerOnChange(t){this.onChange=r=>{t(""==r?null:parseFloat(r))}}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=h.n5z(n)))(r||n)}}(),n.\u0275dir=h.lG2({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(t,r){1&t&&h.NdJ("input",function(u){return r.onChange(u.target.value)})("blur",function(){return r.onTouched()})},features:[h._Bn([Jb]),h.qOj]}),n})(),$0=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const Yc=new h.OlP("NgModelWithFormControlWarning"),H0={provide:Nr,useExisting:(0,h.Gpc)(()=>ko)};let ko=(()=>{class n extends Nr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new h.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Gc(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return $c(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){jc(t.control||null,t,!1),function Gu(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function ui(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(jc(r||null,t),(n=>n instanceof Qr)(i)&&($c(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function k0(n,e){O0(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function qb(n,e){return Gc(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){O0(this.form,this),this._oldForm&&Gc(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(pr,10),h.Y36(zs,10),h.Y36(Bc,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&h.NdJ("submit",function(u){return r.onSubmit(u)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[h._Bn([H0]),h.qOj,h.TTD]}),n})();const W0={provide:Mo,useExisting:(0,h.Gpc)(()=>Wu)};let Wu=(()=>{class n extends Mo{set isDisabled(t){}constructor(t,r,i,u,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new h.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function zc(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(u=>{u.constructor===xo?t=u:function Tf(n){return Object.getPrototypeOf(n.constructor)===Gs}(u)?r=u:i=u}),i||r||t||null}(0,u)}ngOnChanges(t){this._added||this._setUpControl(),function qs(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function If(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(h.Y36(Nr,13),h.Y36(pr,10),h.Y36(zs,10),h.Y36(Kr,10),h.Y36(Yc,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[h._Bn([W0]),h.qOj,h.TTD]}),n})(),aS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[$0]}),n})();class hy extends Hu{constructor(e,t,r){super(Ym(t),Qm(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){Xm(this,0,e),e.forEach((r,i)=>{x0(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function fy(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let qu=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let u={};return fy(r)?u=r:null!==r&&(u.validators=r.validator,u.asyncValidators=r.asyncValidator),new Ta(i,u)}record(t,r=null){const i=this._reduceControls(t);return new R0(i,r)}control(t,r,i){let u={};return this.useNonNullable?(fy(r)?u=r:(u.validators=r,u.asyncValidators=i),new Qr(t,{...u,nonNullable:!0})):new Qr(t,r,i)}array(t,r,i){const u=t.map(c=>this._createControl(c));return new hy(u,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Qr||t instanceof Hu?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),py=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Yc,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Bc,useValue:t.callSetDisabledState??Jm}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[aS]}),n})();function Vi(n){return Array.isArray(n)?n:[n]}function An(n){return null==n?"":"string"==typeof n?n:`${n}px`}var Ui=R(1144);const Bi=["addListener","removeListener"],iE=["addEventListener","removeEventListener"],sE=["on","off"];function Ff(n,e,t,r){if((0,qr.m)(t)&&(r=t,t=void 0),r)return Ff(n,e,t).pipe(ks(r));const[i,u]=function my(n){return(0,qr.m)(n.addEventListener)&&(0,qr.m)(n.removeEventListener)}(n)?iE.map(c=>g=>n[c](e,g,t)):function dS(n){return(0,qr.m)(n.addListener)&&(0,qr.m)(n.removeListener)}(n)?Bi.map(oE(n,e)):function hS(n){return(0,qr.m)(n.on)&&(0,qr.m)(n.off)}(n)?sE.map(oE(n,e)):[];if(!i&&(0,Ui.z)(n))return(0,Tn.z)(c=>Ff(c,e,t))((0,ns.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new zn.y(c=>{const g=(..._)=>c.next(1<_.length?_:_[0]);return i(g),()=>u(g)})}function oE(n,e){return t=>r=>n[t](e,r)}class Xc extends rs.w0{constructor(e,t){super()}schedule(e,t=0){return this}}const Lf={setInterval(n,e,...t){const{delegate:r}=Lf;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){const{delegate:e}=Lf;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var aE=R(8737);class Vf extends Xc{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;const i=this.id,u=this.scheduler;return null!=i&&(this.id=this.recycleAsyncId(u,i,t)),this.pending=!0,this.delay=t,this.id=null!==(r=this.id)&&void 0!==r?r:this.requestAsyncId(u,this.id,t),this}requestAsyncId(e,t,r=0){return Lf.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(null!=r&&this.delay===r&&!1===this.pending)return t;null!=t&&Lf.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const r=this._execute(e,t);if(r)return r;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let i,r=!1;try{this.work(e)}catch(u){r=!0,i=u||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){const{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,(0,aE.P)(r,this),null!=e&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}}const Zu={schedule(n){let e=requestAnimationFrame,t=cancelAnimationFrame;const{delegate:r}=Zu;r&&(e=r.requestAnimationFrame,t=r.cancelAnimationFrame);const i=e(u=>{t=void 0,n(u)});return new rs.w0(()=>t?.(i))},requestAnimationFrame(...n){const{delegate:e}=Zu;return(e?.requestAnimationFrame||requestAnimationFrame)(...n)},cancelAnimationFrame(...n){const{delegate:e}=Zu;return(e?.cancelAnimationFrame||cancelAnimationFrame)(...n)},delegate:void 0},Ku={now:()=>(Ku.delegate||Date).now(),delegate:void 0};class Jc{constructor(e,t=Jc.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}}Jc.now=Ku.now;class ed extends Jc{constructor(e,t=Jc.now){super(e,t),this.actions=[],this._active=!1}flush(e){const{actions:t}=this;if(this._active)return void t.push(e);let r;this._active=!0;do{if(r=e.execute(e.state,e.delay))break}while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}}const cE=new class lE extends ed{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class uE extends Vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Zu.requestAnimationFrame(()=>e.flush(void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:u}=e;null!=t&&(null===(i=u[u.length-1])||void 0===i?void 0:i.id)!==t&&(Zu.cancelAnimationFrame(t),e._scheduled=void 0)}});let Uf,dE=1;const td={};function _y(n){return n in td&&(delete td[n],!0)}const hE={setImmediate(n){const e=dE++;return td[e]=!0,Uf||(Uf=Promise.resolve()),Uf.then(()=>_y(e)&&n()),e},clearImmediate(n){_y(n)}},{setImmediate:fE,clearImmediate:pE}=hE,Bf={setImmediate(...n){const{delegate:e}=Bf;return(e?.setImmediate||fE)(...n)},clearImmediate(n){const{delegate:e}=Bf;return(e?.clearImmediate||pE)(n)},delegate:void 0},mS=new class gS extends ed{flush(e){this._active=!0;const t=this._scheduled;this._scheduled=void 0;const{actions:r}=this;let i;e=e||r.shift();do{if(i=e.execute(e.state,e.delay))break}while((e=r[0])&&e.id===t&&r.shift());if(this._active=!1,i){for(;(e=r[0])&&e.id===t&&r.shift();)e.unsubscribe();throw i}}}(class pS extends Vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}requestAsyncId(e,t,r=0){return null!==r&&r>0?super.requestAsyncId(e,t,r):(e.actions.push(this),e._scheduled||(e._scheduled=Bf.setImmediate(e.flush.bind(e,void 0))))}recycleAsyncId(e,t,r=0){var i;if(null!=r?r>0:this.delay>0)return super.recycleAsyncId(e,t,r);const{actions:u}=e;null!=t&&(null===(i=u[u.length-1])||void 0===i?void 0:i.id)!==t&&(Bf.clearImmediate(t),e._scheduled=void 0)}}),vy=new ed(Vf),yS=vy;var vS=R(3532);function wy(n,e=vy){return function _S(n){return(0,Wn.e)((e,t)=>{let r=!1,i=null,u=null,c=!1;const g=()=>{if(u?.unsubscribe(),u=null,r){r=!1;const D=i;i=null,t.next(D)}c&&t.complete()},_=()=>{u=null,c&&t.complete()};e.subscribe((0,wn.x)(t,D=>{r=!0,i=D,u||(0,ns.Xf)(n(D)).subscribe(u=(0,wn.x)(t,g,_))},()=>{c=!0,(!r||!u||u.closed)&&t.complete()}))})}(()=>function ES(n=0,e,t=yS){let r=-1;return null!=e&&((0,vS.K)(e)?t=e:r=e),new zn.y(i=>{let u=function wS(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;u<0&&(u=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},u)})}(n,e))}var DS=R(5032);function Ey(n){return(0,Wn.e)((e,t)=>{(0,ns.Xf)(n).subscribe((0,wn.x)(t,()=>t.complete(),DS.Z)),!t.closed&&e.subscribe(t)})}let Dy;try{Dy=typeof Intl<"u"&&Intl.v8BreakIterator}catch{Dy=!1}let nd,Fo,Yu=(()=>{class n{constructor(t){this._platformId=t,this.isBrowser=this._platformId?function Pl(n){return n===Wr}(this._platformId):"object"==typeof document&&!!document,this.EDGE=this.isBrowser&&/(edge)/i.test(navigator.userAgent),this.TRIDENT=this.isBrowser&&/(msie|trident)/i.test(navigator.userAgent),this.BLINK=this.isBrowser&&!(!window.chrome&&!Dy)&&typeof CSS<"u"&&!this.EDGE&&!this.TRIDENT,this.WEBKIT=this.isBrowser&&/AppleWebKit/i.test(navigator.userAgent)&&!this.BLINK&&!this.EDGE&&!this.TRIDENT,this.IOS=this.isBrowser&&/iPad|iPhone|iPod/.test(navigator.userAgent)&&!("MSStream"in window),this.FIREFOX=this.isBrowser&&/(firefox|minefield)/i.test(navigator.userAgent),this.ANDROID=this.isBrowser&&/android/i.test(navigator.userAgent)&&!this.TRIDENT,this.SAFARI=this.isBrowser&&/safari/i.test(navigator.userAgent)&&this.WEBKIT}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Cy(){if(null==Fo){if("object"!=typeof document||!document||"function"!=typeof Element||!Element)return Fo=!1,Fo;if("scrollBehavior"in document.documentElement.style)Fo=!0;else{const n=Element.prototype.scrollTo;Fo=!!n&&!/\{\s*\[native code\]\s*\}/.test(n.toString())}}return Fo}function Ju(){if("object"!=typeof document||!document)return 0;if(null==nd){const n=document.createElement("div"),e=n.style;n.dir="rtl",e.width="1px",e.overflow="auto",e.visibility="hidden",e.pointerEvents="none",e.position="absolute";const t=document.createElement("div"),r=t.style;r.width="2px",r.height="1px",n.appendChild(t),document.body.appendChild(n),nd=0,0===n.scrollLeft&&(n.scrollLeft=1,nd=0===n.scrollLeft?1:2),n.remove()}return nd}function yE(n){return n.composedPath?n.composedPath()[0]:n.target}function Ra(){return typeof __karma__<"u"&&!!__karma__||typeof jasmine<"u"&&!!jasmine||typeof jest<"u"&&!!jest||typeof Mocha<"u"&&!!Mocha}const yO=new h.OlP("cdk-dir-doc",{providedIn:"root",factory:function by(){return(0,h.f3M)(ne)}}),_O=/^(ar|ckb|dv|he|iw|fa|nqo|ps|sd|ug|ur|yi|.*[-_](Adlm|Arab|Hebr|Nkoo|Rohg|Thaa))(?!.*[-_](Latn|Cyrl)($|-|_))($|-|_)/i;let rd=(()=>{class n{constructor(t){this.value="ltr",this.change=new h.vpe,t&&(this.value=function _E(n){const e=n?.toLowerCase()||"";return"auto"===e&&typeof navigator<"u"&&navigator?.language?_O.test(navigator.language)?"rtl":"ltr":"rtl"===e?"rtl":"ltr"}((t.body?t.body.dir:null)||(t.documentElement?t.documentElement.dir:null)||"ltr"))}ngOnDestroy(){this.change.complete()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(yO,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),tt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();const bS=["contentWrapper"],SS=["*"],TS=new h.OlP("VIRTUAL_SCROLL_STRATEGY");let nn=(()=>{class n{constructor(t,r,i){this._ngZone=t,this._platform=r,this._scrolled=new hn.x,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=i}register(t){this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe(()=>this._scrolled.next(t)))}deregister(t){const r=this.scrollContainers.get(t);r&&(r.unsubscribe(),this.scrollContainers.delete(t))}scrolled(t=20){return this._platform.isBrowser?new zn.y(r=>{this._globalSubscription||this._addGlobalListener();const i=t>0?this._scrolled.pipe(wy(t)).subscribe(r):this._scrolled.subscribe(r);return this._scrolledCount++,()=>{i.unsubscribe(),this._scrolledCount--,this._scrolledCount||this._removeGlobalListener()}}):Ze()}ngOnDestroy(){this._removeGlobalListener(),this.scrollContainers.forEach((t,r)=>this.deregister(r)),this._scrolled.complete()}ancestorScrolled(t,r){const i=this.getAncestorScrollContainers(t);return this.scrolled(r).pipe(Rr(u=>!u||i.indexOf(u)>-1))}getAncestorScrollContainers(t){const r=[];return this.scrollContainers.forEach((i,u)=>{this._scrollableContainsElement(u,t)&&r.push(u)}),r}_getWindow(){return this._document.defaultView||window}_scrollableContainsElement(t,r){let i=function cS(n){return n instanceof h.SBq?n.nativeElement:n}(r),u=t.getElementRef().nativeElement;do{if(i==u)return!0}while(i=i.parentElement);return!1}_addGlobalListener(){this._globalSubscription=this._ngZone.runOutsideAngular(()=>Ff(this._getWindow().document,"scroll").subscribe(()=>this._scrolled.next()))}_removeGlobalListener(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b),h.LFG(Yu),h.LFG(ne,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),AS=(()=>{class n{constructor(t,r,i,u){this.elementRef=t,this.scrollDispatcher=r,this.ngZone=i,this.dir=u,this._destroyed=new hn.x,this._elementScrolled=new zn.y(c=>this.ngZone.runOutsideAngular(()=>Ff(this.elementRef.nativeElement,"scroll").pipe(Ey(this._destroyed)).subscribe(c)))}ngOnInit(){this.scrollDispatcher.register(this)}ngOnDestroy(){this.scrollDispatcher.deregister(this),this._destroyed.next(),this._destroyed.complete()}elementScrolled(){return this._elementScrolled}getElementRef(){return this.elementRef}scrollTo(t){const r=this.elementRef.nativeElement,i=this.dir&&"rtl"==this.dir.value;null==t.left&&(t.left=i?t.end:t.start),null==t.right&&(t.right=i?t.start:t.end),null!=t.bottom&&(t.top=r.scrollHeight-r.clientHeight-t.bottom),i&&0!=Ju()?(null!=t.left&&(t.right=r.scrollWidth-r.clientWidth-t.left),2==Ju()?t.left=t.right:1==Ju()&&(t.left=t.right?-t.right:t.right)):null!=t.right&&(t.left=r.scrollWidth-r.clientWidth-t.right),this._applyScrollToOptions(t)}_applyScrollToOptions(t){const r=this.elementRef.nativeElement;Cy()?r.scrollTo(t):(null!=t.top&&(r.scrollTop=t.top),null!=t.left&&(r.scrollLeft=t.left))}measureScrollOffset(t){const r="left",i="right",u=this.elementRef.nativeElement;if("top"==t)return u.scrollTop;if("bottom"==t)return u.scrollHeight-u.clientHeight-u.scrollTop;const c=this.dir&&"rtl"==this.dir.value;return"start"==t?t=c?i:r:"end"==t&&(t=c?r:i),c&&2==Ju()?t==r?u.scrollWidth-u.clientWidth-u.scrollLeft:u.scrollLeft:c&&1==Ju()?t==r?u.scrollLeft+u.scrollWidth-u.clientWidth:-u.scrollLeft:t==r?u.scrollLeft:u.scrollWidth-u.clientWidth-u.scrollLeft}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(nn),h.Y36(h.R0b),h.Y36(rd,8))},n.\u0275dir=h.lG2({type:n,selectors:[["","cdk-scrollable",""],["","cdkScrollable",""]],standalone:!0}),n})(),Hf=(()=>{class n{constructor(t,r,i){this._platform=t,this._change=new hn.x,this._changeListener=u=>{this._change.next(u)},this._document=i,r.runOutsideAngular(()=>{if(t.isBrowser){const u=this._getWindow();u.addEventListener("resize",this._changeListener),u.addEventListener("orientationchange",this._changeListener)}this.change().subscribe(()=>this._viewportSize=null)})}ngOnDestroy(){if(this._platform.isBrowser){const t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}getViewportSize(){this._viewportSize||this._updateViewportSize();const t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}getViewportRect(){const t=this.getViewportScrollPosition(),{width:r,height:i}=this.getViewportSize();return{top:t.top,left:t.left,bottom:t.top+i,right:t.left+r,height:i,width:r}}getViewportScrollPosition(){if(!this._platform.isBrowser)return{top:0,left:0};const t=this._document,r=this._getWindow(),i=t.documentElement,u=i.getBoundingClientRect();return{top:-u.top||t.body.scrollTop||r.scrollY||i.scrollTop||0,left:-u.left||t.body.scrollLeft||r.scrollX||i.scrollLeft||0}}change(t=20){return t>0?this._change.pipe(wy(t)):this._change}_getWindow(){return this._document.defaultView||window}_updateViewportSize(){const t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Yu),h.LFG(h.R0b),h.LFG(ne,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wE=new h.OlP("VIRTUAL_SCROLLABLE");let EE=(()=>{class n extends AS{constructor(t,r,i,u){super(t,r,i,u)}measureViewportSize(t){const r=this.elementRef.nativeElement;return"horizontal"===t?r.clientWidth:r.clientHeight}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(nn),h.Y36(h.R0b),h.Y36(rd,8))},n.\u0275dir=h.lG2({type:n,features:[h.qOj]}),n})();const IE=typeof requestAnimationFrame<"u"?cE:mS;let CE=(()=>{class n extends EE{get orientation(){return this._orientation}set orientation(t){this._orientation!==t&&(this._orientation=t,this._calculateSpacerSize())}get appendOnly(){return this._appendOnly}set appendOnly(t){this._appendOnly=function fO(n){return null!=n&&"false"!=`${n}`}(t)}constructor(t,r,i,u,c,g,_,D){super(t,g,i,c),this.elementRef=t,this._changeDetectorRef=r,this._scrollStrategy=u,this.scrollable=D,this._platform=(0,h.f3M)(Yu),this._detachedSubject=new hn.x,this._renderedRangeSubject=new hn.x,this._orientation="vertical",this._appendOnly=!1,this.scrolledIndexChange=new zn.y(C=>this._scrollStrategy.scrolledIndexChange.subscribe(T=>Promise.resolve().then(()=>this.ngZone.run(()=>C.next(T))))),this.renderedRangeStream=this._renderedRangeSubject,this._totalContentSize=0,this._totalContentWidth="",this._totalContentHeight="",this._renderedRange={start:0,end:0},this._dataLength=0,this._viewportSize=0,this._renderedContentOffset=0,this._renderedContentOffsetNeedsRewrite=!1,this._isChangeDetectionPending=!1,this._runAfterChangeDetection=[],this._viewportChanges=rs.w0.EMPTY,this._viewportChanges=_.change().subscribe(()=>{this.checkViewportSize()}),this.scrollable||(this.elementRef.nativeElement.classList.add("cdk-virtual-scrollable"),this.scrollable=this)}ngOnInit(){this._platform.isBrowser&&(this.scrollable===this&&super.ngOnInit(),this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._measureViewportSize(),this._scrollStrategy.attach(this),this.scrollable.elementScrolled().pipe(Ph(null),wy(0,IE)).subscribe(()=>this._scrollStrategy.onContentScrolled()),this._markChangeDetectionNeeded()})))}ngOnDestroy(){this.detach(),this._scrollStrategy.detach(),this._renderedRangeSubject.complete(),this._detachedSubject.complete(),this._viewportChanges.unsubscribe(),super.ngOnDestroy()}attach(t){this.ngZone.runOutsideAngular(()=>{this._forOf=t,this._forOf.dataStream.pipe(Ey(this._detachedSubject)).subscribe(r=>{const i=r.length;i!==this._dataLength&&(this._dataLength=i,this._scrollStrategy.onDataLengthChanged()),this._doChangeDetection()})})}detach(){this._forOf=null,this._detachedSubject.next()}getDataLength(){return this._dataLength}getViewportSize(){return this._viewportSize}getRenderedRange(){return this._renderedRange}measureBoundingClientRectWithScrollOffset(t){return this.getElementRef().nativeElement.getBoundingClientRect()[t]}setTotalContentSize(t){this._totalContentSize!==t&&(this._totalContentSize=t,this._calculateSpacerSize(),this._markChangeDetectionNeeded())}setRenderedRange(t){(function DE(n,e){return n.start==e.start&&n.end==e.end})(this._renderedRange,t)||(this.appendOnly&&(t={start:0,end:Math.max(this._renderedRange.end,t.end)}),this._renderedRangeSubject.next(this._renderedRange=t),this._markChangeDetectionNeeded(()=>this._scrollStrategy.onContentRendered()))}getOffsetToRenderedContentStart(){return this._renderedContentOffsetNeedsRewrite?null:this._renderedContentOffset}setRenderedContentOffset(t,r="to-start"){t=this.appendOnly&&"to-start"===r?0:t;const u="horizontal"==this.orientation,c=u?"X":"Y";let _=`translate${c}(${Number((u&&this.dir&&"rtl"==this.dir.value?-1:1)*t)}px)`;this._renderedContentOffset=t,"to-end"===r&&(_+=` translate${c}(-100%)`,this._renderedContentOffsetNeedsRewrite=!0),this._renderedContentTransform!=_&&(this._renderedContentTransform=_,this._markChangeDetectionNeeded(()=>{this._renderedContentOffsetNeedsRewrite?(this._renderedContentOffset-=this.measureRenderedContentSize(),this._renderedContentOffsetNeedsRewrite=!1,this.setRenderedContentOffset(this._renderedContentOffset)):this._scrollStrategy.onRenderedOffsetChanged()}))}scrollToOffset(t,r="auto"){const i={behavior:r};"horizontal"===this.orientation?i.start=t:i.top=t,this.scrollable.scrollTo(i)}scrollToIndex(t,r="auto"){this._scrollStrategy.scrollToIndex(t,r)}measureScrollOffset(t){let r;return r=this.scrollable==this?i=>super.measureScrollOffset(i):i=>this.scrollable.measureScrollOffset(i),Math.max(0,r(t??("horizontal"===this.orientation?"start":"top"))-this.measureViewportOffset())}measureViewportOffset(t){let r;const i="left",u="right",c="rtl"==this.dir?.value;r="start"==t?c?u:i:"end"==t?c?i:u:t||("horizontal"===this.orientation?"left":"top");const g=this.scrollable.measureBoundingClientRectWithScrollOffset(r);return this.elementRef.nativeElement.getBoundingClientRect()[r]-g}measureRenderedContentSize(){const t=this._contentWrapper.nativeElement;return"horizontal"===this.orientation?t.offsetWidth:t.offsetHeight}measureRangeSize(t){return this._forOf?this._forOf.measureRangeSize(t,this.orientation):0}checkViewportSize(){this._measureViewportSize(),this._scrollStrategy.onDataLengthChanged()}_measureViewportSize(){this._viewportSize=this.scrollable.measureViewportSize(this.orientation)}_markChangeDetectionNeeded(t){t&&this._runAfterChangeDetection.push(t),this._isChangeDetectionPending||(this._isChangeDetectionPending=!0,this.ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>{this._doChangeDetection()})))}_doChangeDetection(){this._isChangeDetectionPending=!1,this._contentWrapper.nativeElement.style.transform=this._renderedContentTransform,this.ngZone.run(()=>this._changeDetectorRef.markForCheck());const t=this._runAfterChangeDetection;this._runAfterChangeDetection=[];for(const r of t)r()}_calculateSpacerSize(){this._totalContentHeight="horizontal"===this.orientation?"":`${this._totalContentSize}px`,this._totalContentWidth="horizontal"===this.orientation?`${this._totalContentSize}px`:""}}return n.\u0275fac=function(t){return new(t||n)(h.Y36(h.SBq),h.Y36(h.sBO),h.Y36(h.R0b),h.Y36(TS,8),h.Y36(rd,8),h.Y36(nn),h.Y36(Hf),h.Y36(wE,8))},n.\u0275cmp=h.Xpm({type:n,selectors:[["cdk-virtual-scroll-viewport"]],viewQuery:function(t,r){if(1&t&&h.Gf(bS,7),2&t){let i;h.iGM(i=h.CRH())&&(r._contentWrapper=i.first)}},hostAttrs:[1,"cdk-virtual-scroll-viewport"],hostVars:4,hostBindings:function(t,r){2&t&&h.ekj("cdk-virtual-scroll-orientation-horizontal","horizontal"===r.orientation)("cdk-virtual-scroll-orientation-vertical","horizontal"!==r.orientation)},inputs:{orientation:"orientation",appendOnly:"appendOnly"},outputs:{scrolledIndexChange:"scrolledIndexChange"},standalone:!0,features:[h._Bn([{provide:AS,useFactory:(e,t)=>e||t,deps:[[new h.FiY,new h.tBr(wE)],n]}]),h.qOj,h.jDz],ngContentSelectors:SS,decls:4,vars:4,consts:[[1,"cdk-virtual-scroll-content-wrapper"],["contentWrapper",""],[1,"cdk-virtual-scroll-spacer"]],template:function(t,r){1&t&&(h.F$t(),h.TgZ(0,"div",0,1),h.Hsn(2),h.qZA(),h._UZ(3,"div",2)),2&t&&(h.xp6(3),h.Udp("width",r._totalContentWidth)("height",r._totalContentHeight))},styles:["cdk-virtual-scroll-viewport{display:block;position:relative;transform:translateZ(0)}.cdk-virtual-scrollable{overflow:auto;will-change:scroll-position;contain:strict;-webkit-overflow-scrolling:touch}.cdk-virtual-scroll-content-wrapper{position:absolute;top:0;left:0;contain:content}[dir=rtl] .cdk-virtual-scroll-content-wrapper{right:0;left:auto}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper{min-height:100%}.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-horizontal .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-left:0;padding-right:0;margin-left:0;margin-right:0;border-left-width:0;border-right-width:0;outline:none}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper{min-width:100%}.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>dl:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ol:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>table:not([cdkVirtualFor]),.cdk-virtual-scroll-orientation-vertical .cdk-virtual-scroll-content-wrapper>ul:not([cdkVirtualFor]){padding-top:0;padding-bottom:0;margin-top:0;margin-bottom:0;border-top-width:0;border-bottom-width:0;outline:none}.cdk-virtual-scroll-spacer{height:1px;transform-origin:0 0;flex:0 0 auto}[dir=rtl] .cdk-virtual-scroll-spacer{transform-origin:100% 0}"],encapsulation:2,changeDetection:0}),n})(),bE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})(),SE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({imports:[tt,bE,CE,tt,bE]}),n})();class Oa{attach(e){return this._attachedHost=e,e.attach(this)}detach(){let e=this._attachedHost;null!=e&&(this._attachedHost=null,e.detach())}get isAttached(){return null!=this._attachedHost}setAttachedHost(e){this._attachedHost=e}}class tl extends Oa{constructor(e,t,r,i,u){super(),this.component=e,this.viewContainerRef=t,this.injector=r,this.componentFactoryResolver=i,this.projectableNodes=u}}class OS extends Oa{constructor(e,t,r,i){super(),this.templateRef=e,this.viewContainerRef=t,this.context=r,this.injector=i}get origin(){return this.templateRef.elementRef}attach(e,t=this.context){return this.context=t,super.attach(e)}detach(){return this.context=void 0,super.detach()}}class kS extends Oa{constructor(e){super(),this.element=e instanceof h.SBq?e.nativeElement:e}}class PS{constructor(){this._isDisposed=!1,this.attachDomPortal=null}hasAttached(){return!!this._attachedPortal}attach(e){return e instanceof tl?(this._attachedPortal=e,this.attachComponentPortal(e)):e instanceof OS?(this._attachedPortal=e,this.attachTemplatePortal(e)):this.attachDomPortal&&e instanceof kS?(this._attachedPortal=e,this.attachDomPortal(e)):void 0}detach(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}dispose(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}setDisposeFn(e){this._disposeFn=e}_invokeDisposeFn(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}class TE extends PS{constructor(e,t,r,i,u){super(),this.outletElement=e,this._componentFactoryResolver=t,this._appRef=r,this._defaultInjector=i,this.attachDomPortal=c=>{const g=c.element,_=this._document.createComment("dom-portal");g.parentNode.insertBefore(_,g),this.outletElement.appendChild(g),this._attachedPortal=c,super.setDisposeFn(()=>{_.parentNode&&_.parentNode.replaceChild(g,_)})},this._document=u}attachComponentPortal(e){const r=(e.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(e.component);let i;return e.viewContainerRef?(i=e.viewContainerRef.createComponent(r,e.viewContainerRef.length,e.injector||e.viewContainerRef.injector,e.projectableNodes||void 0),this.setDisposeFn(()=>i.destroy())):(i=r.create(e.injector||this._defaultInjector||h.zs3.NULL),this._appRef.attachView(i.hostView),this.setDisposeFn(()=>{this._appRef.viewCount>0&&this._appRef.detachView(i.hostView),i.destroy()})),this.outletElement.appendChild(this._getComponentRootNode(i)),this._attachedPortal=e,i}attachTemplatePortal(e){let t=e.viewContainerRef,r=t.createEmbeddedView(e.templateRef,e.context,{injector:e.injector});return r.rootNodes.forEach(i=>this.outletElement.appendChild(i)),r.detectChanges(),this.setDisposeFn(()=>{let i=t.indexOf(r);-1!==i&&t.remove(i)}),this._attachedPortal=e,r}dispose(){super.dispose(),this.outletElement.remove()}_getComponentRootNode(e){return e.hostView.rootNodes[0]}}let VS=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({}),n})();var US=R(6451);const BS=Cy();class AE{constructor(e,t){this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=t}attach(){}enable(){if(this._canBeEnabled()){const e=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=e.style.left||"",this._previousHTMLStyles.top=e.style.top||"",e.style.left=An(-this._previousScrollPosition.left),e.style.top=An(-this._previousScrollPosition.top),e.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}disable(){if(this._isEnabled){const e=this._document.documentElement,r=e.style,i=this._document.body.style,u=r.scrollBehavior||"",c=i.scrollBehavior||"";this._isEnabled=!1,r.left=this._previousHTMLStyles.left,r.top=this._previousHTMLStyles.top,e.classList.remove("cdk-global-scrollblock"),BS&&(r.scrollBehavior=i.scrollBehavior="auto"),window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),BS&&(r.scrollBehavior=u,i.scrollBehavior=c)}}_canBeEnabled(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;const t=this._document.body,r=this._viewportRuler.getViewportSize();return t.scrollHeight>r.height||t.scrollWidth>r.width}}class $S{constructor(e,t,r,i){this._scrollDispatcher=e,this._ngZone=t,this._viewportRuler=r,this._config=i,this._scrollSubscription=null,this._detach=()=>{this.disable(),this._overlayRef.hasAttached()&&this._ngZone.run(()=>this._overlayRef.detach())}}attach(e){this._overlayRef=e}enable(){if(this._scrollSubscription)return;const e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe(()=>{const t=this._viewportRuler.getViewportScrollPosition().top;Math.abs(t-this._initialScrollPosition)>this._config.threshold?this._detach():this._overlayRef.updatePosition()})):this._scrollSubscription=e.subscribe(this._detach)}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}class xE{enable(){}disable(){}attach(){}}function zf(n,e){return e.some(t=>n.bottom<t.top||n.top>t.bottom||n.right<t.left||n.left>t.right)}function nl(n,e){return e.some(t=>n.top<t.top||n.bottom>t.bottom||n.left<t.left||n.right>t.right)}class jS{constructor(e,t,r,i){this._scrollDispatcher=e,this._viewportRuler=t,this._ngZone=r,this._config=i,this._scrollSubscription=null}attach(e){this._overlayRef=e}enable(){this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe(()=>{if(this._overlayRef.updatePosition(),this._config&&this._config.autoClose){const t=this._overlayRef.overlayElement.getBoundingClientRect(),{width:r,height:i}=this._viewportRuler.getViewportSize();zf(t,[{width:r,height:i,bottom:i,right:r,top:0,left:0}])&&(this.disable(),this._ngZone.run(()=>this._overlayRef.detach()))}}))}disable(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}detach(){this.disable(),this._overlayRef=null}}let HS=(()=>{class n{constructor(t,r,i,u){this._scrollDispatcher=t,this._viewportRuler=r,this._ngZone=i,this.noop=()=>new xE,this.close=c=>new $S(this._scrollDispatcher,this._ngZone,this._viewportRuler,c),this.block=()=>new AE(this._viewportRuler,this._document),this.reposition=c=>new jS(this._scrollDispatcher,this._viewportRuler,this._ngZone,c),this._document=u}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(nn),h.LFG(Hf),h.LFG(h.R0b),h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class ME{constructor(e){if(this.scrollStrategy=new xE,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e){const t=Object.keys(e);for(const r of t)void 0!==e[r]&&(this[r]=e[r])}}}class GS{constructor(e,t){this.connectionPair=e,this.scrollableViewProperties=t}}let RE=(()=>{class n{constructor(t){this._attachedOverlays=[],this._document=t}ngOnDestroy(){this.detach()}add(t){this.remove(t),this._attachedOverlays.push(t)}remove(t){const r=this._attachedOverlays.indexOf(t);r>-1&&this._attachedOverlays.splice(r,1),0===this._attachedOverlays.length&&this.detach()}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),sd=(()=>{class n extends RE{constructor(t,r){super(t),this._ngZone=r,this._keydownListener=i=>{const u=this._attachedOverlays;for(let c=u.length-1;c>-1;c--)if(u[c]._keydownEvents.observers.length>0){const g=u[c]._keydownEvents;this._ngZone?this._ngZone.run(()=>g.next(i)):g.next(i);break}}}add(t){super.add(t),this._isAttached||(this._ngZone?this._ngZone.runOutsideAngular(()=>this._document.body.addEventListener("keydown",this._keydownListener)):this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}detach(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(h.R0b,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),WS=(()=>{class n extends RE{constructor(t,r,i){super(t),this._platform=r,this._ngZone=i,this._cursorStyleIsSet=!1,this._pointerDownListener=u=>{this._pointerDownEventTarget=yE(u)},this._clickListener=u=>{const c=yE(u),g="click"===u.type&&this._pointerDownEventTarget?this._pointerDownEventTarget:c;this._pointerDownEventTarget=null;const _=this._attachedOverlays.slice();for(let D=_.length-1;D>-1;D--){const C=_[D];if(C._outsidePointerEvents.observers.length<1||!C.hasAttached())continue;if(C.overlayElement.contains(c)||C.overlayElement.contains(g))break;const T=C._outsidePointerEvents;this._ngZone?this._ngZone.run(()=>T.next(u)):T.next(u)}}}add(t){if(super.add(t),!this._isAttached){const r=this._document.body;this._ngZone?this._ngZone.runOutsideAngular(()=>this._addEventListeners(r)):this._addEventListeners(r),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=r.style.cursor,r.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0}}detach(){if(this._isAttached){const t=this._document.body;t.removeEventListener("pointerdown",this._pointerDownListener,!0),t.removeEventListener("click",this._clickListener,!0),t.removeEventListener("auxclick",this._clickListener,!0),t.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(t.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1}}_addEventListeners(t){t.addEventListener("pointerdown",this._pointerDownListener,!0),t.addEventListener("click",this._clickListener,!0),t.addEventListener("auxclick",this._clickListener,!0),t.addEventListener("contextmenu",this._clickListener,!0)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(Yu),h.LFG(h.R0b,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),xy=(()=>{class n{constructor(t,r){this._platform=r,this._document=t}ngOnDestroy(){this._containerElement?.remove()}getContainerElement(){return this._containerElement||this._createContainer(),this._containerElement}_createContainer(){const t="cdk-overlay-container";if(this._platform.isBrowser||Ra()){const i=this._document.querySelectorAll(`.${t}[platform="server"], .${t}[platform="test"]`);for(let u=0;u<i.length;u++)i[u].remove()}const r=this._document.createElement("div");r.classList.add(t),Ra()?r.setAttribute("platform","test"):this._platform.isBrowser||r.setAttribute("platform","server"),this._document.body.appendChild(r),this._containerElement=r}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(ne),h.LFG(Yu))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class qS{constructor(e,t,r,i,u,c,g,_,D,C=!1){this._portalOutlet=e,this._host=t,this._pane=r,this._config=i,this._ngZone=u,this._keyboardDispatcher=c,this._document=g,this._location=_,this._outsideClickDispatcher=D,this._animationsDisabled=C,this._backdropElement=null,this._backdropClick=new hn.x,this._attachments=new hn.x,this._detachments=new hn.x,this._locationChanges=rs.w0.EMPTY,this._backdropClickHandler=T=>this._backdropClick.next(T),this._backdropTransitionendHandler=T=>{this._disposeBackdrop(T.target)},this._keydownEvents=new hn.x,this._outsidePointerEvents=new hn.x,i.scrollStrategy&&(this._scrollStrategy=i.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=i.positionStrategy}get overlayElement(){return this._pane}get backdropElement(){return this._backdropElement}get hostElement(){return this._host}attach(e){!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host);const t=this._portalOutlet.attach(e);return this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Vs(1)).subscribe(()=>{this.hasAttached()&&this.updatePosition()}),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&(this._locationChanges=this._location.subscribe(()=>this.dispose())),this._outsideClickDispatcher.add(this),"function"==typeof t?.onDestroy&&t.onDestroy(()=>{this.hasAttached()&&this._ngZone.runOutsideAngular(()=>Promise.resolve().then(()=>this.detach()))}),t}detach(){if(!this.hasAttached())return;this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();const e=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher.remove(this),e}dispose(){const e=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this._disposeBackdrop(this._backdropElement),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher.remove(this),this._host?.remove(),this._previousHostParent=this._pane=this._host=null,e&&this._detachments.next(),this._detachments.complete()}hasAttached(){return this._portalOutlet.hasAttached()}backdropClick(){return this._backdropClick}attachments(){return this._attachments}detachments(){return this._detachments}keydownEvents(){return this._keydownEvents}outsidePointerEvents(){return this._outsidePointerEvents}getConfig(){return this._config}updatePosition(){this._positionStrategy&&this._positionStrategy.apply()}updatePositionStrategy(e){e!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=e,this.hasAttached()&&(e.attach(this),this.updatePosition()))}updateSize(e){this._config={...this._config,...e},this._updateElementSize()}setDirection(e){this._config={...this._config,direction:e},this._updateElementDirection()}addPanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!0)}removePanelClass(e){this._pane&&this._toggleClasses(this._pane,e,!1)}getDirection(){const e=this._config.direction;return e?"string"==typeof e?e:e.value:"ltr"}updateScrollStrategy(e){e!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=e,this.hasAttached()&&(e.attach(this),e.enable()))}_updateElementDirection(){this._host.setAttribute("dir",this.getDirection())}_updateElementSize(){if(!this._pane)return;const e=this._pane.style;e.width=An(this._config.width),e.height=An(this._config.height),e.minWidth=An(this._config.minWidth),e.minHeight=An(this._config.minHeight),e.maxWidth=An(this._config.maxWidth),e.maxHeight=An(this._config.maxHeight)}_togglePointerEvents(e){this._pane.style.pointerEvents=e?"":"none"}_attachBackdrop(){const e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._animationsDisabled&&this._backdropElement.classList.add("cdk-overlay-backdrop-noop-animation"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),!this._animationsDisabled&&typeof requestAnimationFrame<"u"?this._ngZone.runOutsideAngular(()=>{requestAnimationFrame(()=>{this._backdropElement&&this._backdropElement.classList.add(e)})}):this._backdropElement.classList.add(e)}_updateStackingOrder(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}detachBackdrop(){const e=this._backdropElement;if(e){if(this._animationsDisabled)return void this._disposeBackdrop(e);e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular(()=>{e.addEventListener("transitionend",this._backdropTransitionendHandler)}),e.style.pointerEvents="none",this._backdropTimeout=this._ngZone.runOutsideAngular(()=>setTimeout(()=>{this._disposeBackdrop(e)},500))}}_toggleClasses(e,t,r){const i=Vi(t||[]).filter(u=>!!u);i.length&&(r?e.classList.add(...i):e.classList.remove(...i))}_detachContentWhenStable(){this._ngZone.runOutsideAngular(()=>{const e=this._ngZone.onStable.pipe(Ey((0,US.T)(this._attachments,this._detachments))).subscribe(()=>{(!this._pane||!this._host||0===this._pane.children.length)&&(this._pane&&this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!1),this._host&&this._host.parentElement&&(this._previousHostParent=this._host.parentElement,this._host.remove()),e.unsubscribe())})})}_disposeScrollStrategy(){const e=this._scrollStrategy;e&&(e.disable(),e.detach&&e.detach())}_disposeBackdrop(e){e&&(e.removeEventListener("click",this._backdropClickHandler),e.removeEventListener("transitionend",this._backdropTransitionendHandler),e.remove(),this._backdropElement===e&&(this._backdropElement=null)),this._backdropTimeout&&(clearTimeout(this._backdropTimeout),this._backdropTimeout=void 0)}}const My="cdk-overlay-connected-position-bounding-box",ZS=/([A-Za-z%]+)$/;class OE{get positions(){return this._preferredPositions}constructor(e,t,r,i,u){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=u,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new hn.x,this._resizeSubscription=rs.w0.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}attach(e){this._validatePositions(),e.hostElement.classList.add(My),this._overlayRef=e,this._boundingBox=e.hostElement,this._pane=e.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe(()=>{this._isInitialRender=!0,this.apply()})}apply(){if(this._isDisposed||!this._platform.isBrowser)return;if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)return void this.reapplyLastPosition();this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const e=this._originRect,t=this._overlayRect,r=this._viewportRect,i=this._containerRect,u=[];let c;for(let g of this._preferredPositions){let _=this._getOriginPoint(e,i,g),D=this._getOverlayPoint(_,t,g),C=this._getOverlayFit(D,t,r,g);if(C.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(g,_);this._canFitWithFlexibleDimensions(C,D,r)?u.push({position:g,origin:_,overlayRect:t,boundingBoxRect:this._calculateBoundingBoxRect(_,g)}):(!c||c.overlayFit.visibleArea<C.visibleArea)&&(c={overlayFit:C,overlayPoint:D,originPoint:_,position:g,overlayRect:t})}if(u.length){let g=null,_=-1;for(const D of u){const C=D.boundingBoxRect.width*D.boundingBoxRect.height*(D.position.weight||1);C>_&&(_=C,g=D)}return this._isPushed=!1,void this._applyPosition(g.position,g.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(c.position,c.originPoint);this._applyPosition(c.position,c.originPoint)}detach(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}dispose(){this._isDisposed||(this._boundingBox&&ka(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(My),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}reapplyLastPosition(){if(this._isDisposed||!this._platform.isBrowser)return;const e=this._lastPosition;if(e){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect(),this._containerRect=this._overlayContainer.getContainerElement().getBoundingClientRect();const t=this._getOriginPoint(this._originRect,this._containerRect,e);this._applyPosition(e,t)}else this.apply()}withScrollableContainers(e){return this._scrollables=e,this}withPositions(e){return this._preferredPositions=e,-1===e.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}withViewportMargin(e){return this._viewportMargin=e,this}withFlexibleDimensions(e=!0){return this._hasFlexibleDimensions=e,this}withGrowAfterOpen(e=!0){return this._growAfterOpen=e,this}withPush(e=!0){return this._canPush=e,this}withLockedPosition(e=!0){return this._positionLocked=e,this}setOrigin(e){return this._origin=e,this}withDefaultOffsetX(e){return this._offsetX=e,this}withDefaultOffsetY(e){return this._offsetY=e,this}withTransformOriginOn(e){return this._transformOriginSelector=e,this}_getOriginPoint(e,t,r){let i,u;if("center"==r.originX)i=e.left+e.width/2;else{const c=this._isRtl()?e.right:e.left,g=this._isRtl()?e.left:e.right;i="start"==r.originX?c:g}return t.left<0&&(i-=t.left),u="center"==r.originY?e.top+e.height/2:"top"==r.originY?e.top:e.bottom,t.top<0&&(u-=t.top),{x:i,y:u}}_getOverlayPoint(e,t,r){let i,u;return i="center"==r.overlayX?-t.width/2:"start"===r.overlayX?this._isRtl()?-t.width:0:this._isRtl()?0:-t.width,u="center"==r.overlayY?-t.height/2:"top"==r.overlayY?0:-t.height,{x:e.x+i,y:e.y+u}}_getOverlayFit(e,t,r,i){const u=kE(t);let{x:c,y:g}=e,_=this._getOffset(i,"x"),D=this._getOffset(i,"y");_&&(c+=_),D&&(g+=D);let P=0-g,$=g+u.height-r.height,Y=this._subtractOverflows(u.width,0-c,c+u.width-r.width),fe=this._subtractOverflows(u.height,P,$),Ie=Y*fe;return{visibleArea:Ie,isCompletelyWithinViewport:u.width*u.height===Ie,fitsInViewportVertically:fe===u.height,fitsInViewportHorizontally:Y==u.width}}_canFitWithFlexibleDimensions(e,t,r){if(this._hasFlexibleDimensions){const i=r.bottom-t.y,u=r.right-t.x,c=Wf(this._overlayRef.getConfig().minHeight),g=Wf(this._overlayRef.getConfig().minWidth);return(e.fitsInViewportVertically||null!=c&&c<=i)&&(e.fitsInViewportHorizontally||null!=g&&g<=u)}return!1}_pushOverlayOnScreen(e,t,r){if(this._previousPushAmount&&this._positionLocked)return{x:e.x+this._previousPushAmount.x,y:e.y+this._previousPushAmount.y};const i=kE(t),u=this._viewportRect,c=Math.max(e.x+i.width-u.width,0),g=Math.max(e.y+i.height-u.height,0),_=Math.max(u.top-r.top-e.y,0),D=Math.max(u.left-r.left-e.x,0);let C=0,T=0;return C=i.width<=u.width?D||-c:e.x<this._viewportMargin?u.left-r.left-e.x:0,T=i.height<=u.height?_||-g:e.y<this._viewportMargin?u.top-r.top-e.y:0,this._previousPushAmount={x:C,y:T},{x:e.x+C,y:e.y+T}}_applyPosition(e,t){if(this._setTransformOrigin(e),this._setOverlayElementStyles(t,e),this._setBoundingBoxStyles(t,e),e.panelClass&&this._addPanelClasses(e.panelClass),this._lastPosition=e,this._positionChanges.observers.length){const r=this._getScrollVisibility(),i=new GS(e,r);this._positionChanges.next(i)}this._isInitialRender=!1}_setTransformOrigin(e){if(!this._transformOriginSelector)return;const t=this._boundingBox.querySelectorAll(this._transformOriginSelector);let r,i=e.overlayY;r="center"===e.overlayX?"center":this._isRtl()?"start"===e.overlayX?"right":"left":"start"===e.overlayX?"left":"right";for(let u=0;u<t.length;u++)t[u].style.transformOrigin=`${r} ${i}`}_calculateBoundingBoxRect(e,t){const r=this._viewportRect,i=this._isRtl();let u,c,g,C,T,P;if("top"===t.overlayY)c=e.y,u=r.height-c+this._viewportMargin;else if("bottom"===t.overlayY)g=r.height-e.y+2*this._viewportMargin,u=r.height-g+this._viewportMargin;else{const $=Math.min(r.bottom-e.y+r.top,e.y),Y=this._lastBoundingBoxSize.height;u=2*$,c=e.y-$,u>Y&&!this._isInitialRender&&!this._growAfterOpen&&(c=e.y-Y/2)}if("end"===t.overlayX&&!i||"start"===t.overlayX&&i)P=r.width-e.x+this._viewportMargin,C=e.x-this._viewportMargin;else if("start"===t.overlayX&&!i||"end"===t.overlayX&&i)T=e.x,C=r.right-e.x;else{const $=Math.min(r.right-e.x+r.left,e.x),Y=this._lastBoundingBoxSize.width;C=2*$,T=e.x-$,C>Y&&!this._isInitialRender&&!this._growAfterOpen&&(T=e.x-Y/2)}return{top:c,left:T,bottom:g,right:P,width:C,height:u}}_setBoundingBoxStyles(e,t){const r=this._calculateBoundingBoxRect(e,t);!this._isInitialRender&&!this._growAfterOpen&&(r.height=Math.min(r.height,this._lastBoundingBoxSize.height),r.width=Math.min(r.width,this._lastBoundingBoxSize.width));const i={};if(this._hasExactPosition())i.top=i.left="0",i.bottom=i.right=i.maxHeight=i.maxWidth="",i.width=i.height="100%";else{const u=this._overlayRef.getConfig().maxHeight,c=this._overlayRef.getConfig().maxWidth;i.height=An(r.height),i.top=An(r.top),i.bottom=An(r.bottom),i.width=An(r.width),i.left=An(r.left),i.right=An(r.right),i.alignItems="center"===t.overlayX?"center":"end"===t.overlayX?"flex-end":"flex-start",i.justifyContent="center"===t.overlayY?"center":"bottom"===t.overlayY?"flex-end":"flex-start",u&&(i.maxHeight=An(u)),c&&(i.maxWidth=An(c))}this._lastBoundingBoxSize=r,ka(this._boundingBox.style,i)}_resetBoundingBoxStyles(){ka(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}_resetOverlayElementStyles(){ka(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}_setOverlayElementStyles(e,t){const r={},i=this._hasExactPosition(),u=this._hasFlexibleDimensions,c=this._overlayRef.getConfig();if(i){const C=this._viewportRuler.getViewportScrollPosition();ka(r,this._getExactOverlayY(t,e,C)),ka(r,this._getExactOverlayX(t,e,C))}else r.position="static";let g="",_=this._getOffset(t,"x"),D=this._getOffset(t,"y");_&&(g+=`translateX(${_}px) `),D&&(g+=`translateY(${D}px)`),r.transform=g.trim(),c.maxHeight&&(i?r.maxHeight=An(c.maxHeight):u&&(r.maxHeight="")),c.maxWidth&&(i?r.maxWidth=An(c.maxWidth):u&&(r.maxWidth="")),ka(this._pane.style,r)}_getExactOverlayY(e,t,r){let i={top:"",bottom:""},u=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,r)),"bottom"===e.overlayY?i.bottom=this._document.documentElement.clientHeight-(u.y+this._overlayRect.height)+"px":i.top=An(u.y),i}_getExactOverlayX(e,t,r){let c,i={left:"",right:""},u=this._getOverlayPoint(t,this._overlayRect,e);return this._isPushed&&(u=this._pushOverlayOnScreen(u,this._overlayRect,r)),c=this._isRtl()?"end"===e.overlayX?"left":"right":"end"===e.overlayX?"right":"left","right"===c?i.right=this._document.documentElement.clientWidth-(u.x+this._overlayRect.width)+"px":i.left=An(u.x),i}_getScrollVisibility(){const e=this._getOriginRect(),t=this._pane.getBoundingClientRect(),r=this._scrollables.map(i=>i.getElementRef().nativeElement.getBoundingClientRect());return{isOriginClipped:nl(e,r),isOriginOutsideView:zf(e,r),isOverlayClipped:nl(t,r),isOverlayOutsideView:zf(t,r)}}_subtractOverflows(e,...t){return t.reduce((r,i)=>r-Math.max(i,0),e)}_getNarrowedViewportRect(){const e=this._document.documentElement.clientWidth,t=this._document.documentElement.clientHeight,r=this._viewportRuler.getViewportScrollPosition();return{top:r.top+this._viewportMargin,left:r.left+this._viewportMargin,right:r.left+e-this._viewportMargin,bottom:r.top+t-this._viewportMargin,width:e-2*this._viewportMargin,height:t-2*this._viewportMargin}}_isRtl(){return"rtl"===this._overlayRef.getDirection()}_hasExactPosition(){return!this._hasFlexibleDimensions||this._isPushed}_getOffset(e,t){return"x"===t?null==e.offsetX?this._offsetX:e.offsetX:null==e.offsetY?this._offsetY:e.offsetY}_validatePositions(){}_addPanelClasses(e){this._pane&&Vi(e).forEach(t=>{""!==t&&-1===this._appliedPanelClasses.indexOf(t)&&(this._appliedPanelClasses.push(t),this._pane.classList.add(t))})}_clearPanelClasses(){this._pane&&(this._appliedPanelClasses.forEach(e=>{this._pane.classList.remove(e)}),this._appliedPanelClasses=[])}_getOriginRect(){const e=this._origin;if(e instanceof h.SBq)return e.nativeElement.getBoundingClientRect();if(e instanceof Element)return e.getBoundingClientRect();const t=e.width||0,r=e.height||0;return{top:e.y,bottom:e.y+r,left:e.x,right:e.x+t,height:r,width:t}}}function ka(n,e){for(let t in e)e.hasOwnProperty(t)&&(n[t]=e[t]);return n}function Wf(n){if("number"!=typeof n&&null!=n){const[e,t]=n.split(ZS);return t&&"px"!==t?null:parseFloat(e)}return n||null}function kE(n){return{top:Math.floor(n.top),right:Math.floor(n.right),bottom:Math.floor(n.bottom),left:Math.floor(n.left),width:Math.floor(n.width),height:Math.floor(n.height)}}const PE="cdk-global-overlay-wrapper";class QS{constructor(){this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._alignItems="",this._xPosition="",this._xOffset="",this._width="",this._height="",this._isDisposed=!1}attach(e){const t=e.getConfig();this._overlayRef=e,this._width&&!t.width&&e.updateSize({width:this._width}),this._height&&!t.height&&e.updateSize({height:this._height}),e.hostElement.classList.add(PE),this._isDisposed=!1}top(e=""){return this._bottomOffset="",this._topOffset=e,this._alignItems="flex-start",this}left(e=""){return this._xOffset=e,this._xPosition="left",this}bottom(e=""){return this._topOffset="",this._bottomOffset=e,this._alignItems="flex-end",this}right(e=""){return this._xOffset=e,this._xPosition="right",this}start(e=""){return this._xOffset=e,this._xPosition="start",this}end(e=""){return this._xOffset=e,this._xPosition="end",this}width(e=""){return this._overlayRef?this._overlayRef.updateSize({width:e}):this._width=e,this}height(e=""){return this._overlayRef?this._overlayRef.updateSize({height:e}):this._height=e,this}centerHorizontally(e=""){return this.left(e),this._xPosition="center",this}centerVertically(e=""){return this.top(e),this._alignItems="center",this}apply(){if(!this._overlayRef||!this._overlayRef.hasAttached())return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement.style,r=this._overlayRef.getConfig(),{width:i,height:u,maxWidth:c,maxHeight:g}=r,_=!("100%"!==i&&"100vw"!==i||c&&"100%"!==c&&"100vw"!==c),D=!("100%"!==u&&"100vh"!==u||g&&"100%"!==g&&"100vh"!==g),C=this._xPosition,T=this._xOffset,P="rtl"===this._overlayRef.getConfig().direction;let $="",Y="",fe="";_?fe="flex-start":"center"===C?(fe="center",P?Y=T:$=T):P?"left"===C||"end"===C?(fe="flex-end",$=T):("right"===C||"start"===C)&&(fe="flex-start",Y=T):"left"===C||"start"===C?(fe="flex-start",$=T):("right"===C||"end"===C)&&(fe="flex-end",Y=T),e.position=this._cssPosition,e.marginLeft=_?"0":$,e.marginTop=D?"0":this._topOffset,e.marginBottom=this._bottomOffset,e.marginRight=_?"0":Y,t.justifyContent=fe,t.alignItems=D?"flex-start":this._alignItems}dispose(){if(this._isDisposed||!this._overlayRef)return;const e=this._overlayRef.overlayElement.style,t=this._overlayRef.hostElement,r=t.style;t.classList.remove(PE),r.justifyContent=r.alignItems=e.marginTop=e.marginBottom=e.marginLeft=e.marginRight=e.position="",this._overlayRef=null,this._isDisposed=!0}}let XS=(()=>{class n{constructor(t,r,i,u){this._viewportRuler=t,this._document=r,this._platform=i,this._overlayContainer=u}global(){return new QS}flexibleConnectedTo(t){return new OE(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Hf),h.LFG(ne),h.LFG(Yu),h.LFG(xy))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Ry=0,Oy=(()=>{class n{constructor(t,r,i,u,c,g,_,D,C,T,P,$){this.scrollStrategies=t,this._overlayContainer=r,this._componentFactoryResolver=i,this._positionBuilder=u,this._keyboardDispatcher=c,this._injector=g,this._ngZone=_,this._document=D,this._directionality=C,this._location=T,this._outsideClickDispatcher=P,this._animationsModuleType=$}create(t){const r=this._createHostElement(),i=this._createPaneElement(r),u=this._createPortalOutlet(i),c=new ME(t);return c.direction=c.direction||this._directionality.value,new qS(u,r,i,c,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher,"NoopAnimations"===this._animationsModuleType)}position(){return this._positionBuilder}_createPaneElement(t){const r=this._document.createElement("div");return r.id="cdk-overlay-"+Ry++,r.classList.add("cdk-overlay-pane"),t.appendChild(r),r}_createHostElement(){const t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}_createPortalOutlet(t){return this._appRef||(this._appRef=this._injector.get(h.z2F)),new TE(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(HS),h.LFG(xy),h.LFG(h._Vd),h.LFG(XS),h.LFG(sd),h.LFG(h.zs3),h.LFG(h.R0b),h.LFG(ne),h.LFG(rd),h.LFG(Ee),h.LFG(WS),h.LFG(h.QbO,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const nT={provide:new h.OlP("cdk-connected-overlay-scroll-strategy"),deps:[Oy],useFactory:function tT(n){return()=>n.scrollStrategies.reposition()}};let rT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Oy,nT],imports:[tt,VS,SE,SE]}),n})();class Pa{constructor(e){this.overlay=e,this.modals={}}open(e,t){this.modals[t]={overlayRef:this.overlay.create(this.getOverlayConfig())},this.modals[t].overlayRef.attach(new tl(e))}close(e){this.modals[e]&&(this.modals[e].overlayRef.dispose(),this.modals[e].overlayRef.detach(),delete this.modals[e])}getOverlayPosition(){return this.overlay.position().global().centerHorizontally().centerVertically()}getOverlayConfig(){return new ME({hasBackdrop:!0,panelClass:"overlay-panel",positionStrategy:this.getOverlayPosition(),scrollStrategy:this.overlay.scrollStrategies.close()})}}Pa.\u0275fac=function(e){return new(e||Pa)(h.LFG(Oy))},Pa.\u0275prov=h.Yz7({token:Pa,factory:Pa.\u0275fac,providedIn:"root"});var xt=R(9681);(0,xt.registerVersion)("firebase","9.16.0","app");var oe=R(5861),Ct=R(2090),ds=R(4859),hs=R(1877),rl=R(8766);const qf="@firebase/installations",od="0.6.1",Zf=`w:${od}`,FE="FIS_v2",fs=new Ct.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function VE(n){return n instanceof Ct.ZR&&n.code.includes("request-failed")}function UE({projectId:n}){return`https://firebaseinstallations.googleapis.com/v1/projects/${n}/installations`}function Ny(n){return{token:n.token,requestStatus:2,expiresIn:$E(n.expiresIn),creationTime:Date.now()}}function ad(n,e){return Fy.apply(this,arguments)}function Fy(){return(Fy=(0,oe.Z)(function*(n,e){const r=(yield e.json()).error;return fs.create("request-failed",{requestName:n,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})})).apply(this,arguments)}function Kf({apiKey:n}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n})}function BE(n,{refreshToken:e}){const t=Kf(n);return t.append("Authorization",function jE(n){return`${FE} ${n}`}(e)),t}function Yf(n){return ud.apply(this,arguments)}function ud(){return(ud=(0,oe.Z)(function*(n){const e=yield n();return e.status>=500&&e.status<600?n():e})).apply(this,arguments)}function $E(n){return Number(n.replace("s","000"))}function HE(n,e){return Qf.apply(this,arguments)}function Qf(){return(Qf=(0,oe.Z)(function*({appConfig:n,heartbeatServiceProvider:e},{fid:t}){const r=UE(n),i=Kf(n),u=e.getImmediate({optional:!0});if(u){const D=yield u.getHeartbeatsHeader();D&&i.append("x-firebase-client",D)}const g={method:"POST",headers:i,body:JSON.stringify({fid:t,authVersion:FE,appId:n.appId,sdkVersion:Zf})},_=yield Yf(()=>fetch(r,g));if(_.ok){const D=yield _.json();return{fid:D.fid||t,registrationStatus:2,refreshToken:D.refreshToken,authToken:Ny(D.authToken)}}throw yield ad("Create Installation",_)})).apply(this,arguments)}function GE(n){return new Promise(e=>{setTimeout(e,n)})}const uT=/^[cdef][\w-]{21}$/;function zE(){try{const n=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(n),n[0]=112+n[0]%16;const t=function kO(n){return function aT(n){return btoa(String.fromCharCode(...n)).replace(/\+/g,"-").replace(/\//g,"_")}(n).substr(0,22)}(n);return uT.test(t)?t:""}catch{return""}}function Na(n){return`${n.appName}!${n.appId}`}const sl=new Map;function WE(n,e){const t=Na(n);qE(t,e),function cT(n,e){const t=function ZE(){return!Lo&&"BroadcastChannel"in self&&(Lo=new BroadcastChannel("[Firebase] FID Change"),Lo.onmessage=n=>{qE(n.data.key,n.data.fid)}),Lo}();t&&t.postMessage({key:n,fid:e}),function KE(){0===sl.size&&Lo&&(Lo.close(),Lo=null)}()}(t,e)}function qE(n,e){const t=sl.get(n);if(t)for(const r of t)r(e)}let Lo=null;const Fa="firebase-installations-store";let Vy=null;function Uy(){return Vy||(Vy=(0,rl.X3)("firebase-installations-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Fa)}})),Vy}function Xf(n,e){return La.apply(this,arguments)}function La(){return(La=(0,oe.Z)(function*(n,e){const t=Na(n),i=(yield Uy()).transaction(Fa,"readwrite"),u=i.objectStore(Fa),c=yield u.get(t);return yield u.put(e,t),yield i.done,(!c||c.fid!==e.fid)&&WE(n,e.fid),e})).apply(this,arguments)}function Jf(n){return ep.apply(this,arguments)}function ep(){return(ep=(0,oe.Z)(function*(n){const e=Na(n),r=(yield Uy()).transaction(Fa,"readwrite");yield r.objectStore(Fa).delete(e),yield r.done})).apply(this,arguments)}function ol(n,e){return tp.apply(this,arguments)}function tp(){return(tp=(0,oe.Z)(function*(n,e){const t=Na(n),i=(yield Uy()).transaction(Fa,"readwrite"),u=i.objectStore(Fa),c=yield u.get(t),g=e(c);return void 0===g?yield u.delete(t):yield u.put(g,t),yield i.done,g&&(!c||c.fid!==g.fid)&&WE(n,g.fid),g})).apply(this,arguments)}function np(n){return rp.apply(this,arguments)}function rp(){return(rp=(0,oe.Z)(function*(n){let e;const t=yield ol(n.appConfig,r=>{const i=fT(r),u=NO(n,i);return e=u.registrationPromise,u.installationEntry});return""===t.fid?{installationEntry:yield e}:{installationEntry:t,registrationPromise:e}})).apply(this,arguments)}function fT(n){return al(n||{fid:zE(),registrationStatus:0})}function NO(n,e){if(0===e.registrationStatus){if(!navigator.onLine)return{installationEntry:e,registrationPromise:Promise.reject(fs.create("app-offline"))};const t={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=function pT(n,e){return ip.apply(this,arguments)}(n,t);return{installationEntry:t,registrationPromise:r}}return 1===e.registrationStatus?{installationEntry:e,registrationPromise:gT(n)}:{installationEntry:e}}function ip(){return(ip=(0,oe.Z)(function*(n,e){try{const t=yield HE(n,e);return Xf(n.appConfig,t)}catch(t){throw VE(t)&&409===t.customData.serverCode?yield Jf(n.appConfig):yield Xf(n.appConfig,{fid:e.fid,registrationStatus:0}),t}})).apply(this,arguments)}function gT(n){return By.apply(this,arguments)}function By(){return(By=(0,oe.Z)(function*(n){let e=yield YE(n.appConfig);for(;1===e.registrationStatus;)yield GE(100),e=yield YE(n.appConfig);if(0===e.registrationStatus){const{installationEntry:t,registrationPromise:r}=yield np(n);return r||t}return e})).apply(this,arguments)}function YE(n){return ol(n,e=>{if(!e)throw fs.create("installation-not-found");return al(e)})}function al(n){return function mT(n){return 1===n.registrationStatus&&n.registrationTime+1e4<Date.now()}(n)?{fid:n.fid,registrationStatus:0}:n}function $y(n,e){return wi.apply(this,arguments)}function wi(){return(wi=(0,oe.Z)(function*({appConfig:n,heartbeatServiceProvider:e},t){const r=yT(n,t),i=BE(n,t),u=e.getImmediate({optional:!0});if(u){const D=yield u.getHeartbeatsHeader();D&&i.append("x-firebase-client",D)}const g={method:"POST",headers:i,body:JSON.stringify({installation:{sdkVersion:Zf,appId:n.appId}})},_=yield Yf(()=>fetch(r,g));if(_.ok)return Ny(yield _.json());throw yield ad("Generate Auth Token",_)})).apply(this,arguments)}function yT(n,{fid:e}){return`${UE(n)}/${e}/authTokens:generate`}function ld(n){return Va.apply(this,arguments)}function Va(){return(Va=(0,oe.Z)(function*(n,e=!1){let t;const r=yield ol(n.appConfig,u=>{if(!XE(u))throw fs.create("not-registered");const c=u.authToken;if(!e&&vT(c))return u;if(1===c.requestStatus)return t=_T(n,e),u;{if(!navigator.onLine)throw fs.create("app-offline");const g=eD(u);return t=sp(n,g),g}});return t?yield t:r.authToken})).apply(this,arguments)}function _T(n,e){return jy.apply(this,arguments)}function jy(){return(jy=(0,oe.Z)(function*(n,e){let t=yield QE(n.appConfig);for(;1===t.authToken.requestStatus;)yield GE(100),t=yield QE(n.appConfig);const r=t.authToken;return 0===r.requestStatus?ld(n,e):r})).apply(this,arguments)}function QE(n){return ol(n,e=>{if(!XE(e))throw fs.create("not-registered");return function Hy(n){return 1===n.requestStatus&&n.requestTime+1e4<Date.now()}(e.authToken)?Object.assign(Object.assign({},e),{authToken:{requestStatus:0}}):e})}function sp(n,e){return ul.apply(this,arguments)}function ul(){return(ul=(0,oe.Z)(function*(n,e){try{const t=yield $y(n,e),r=Object.assign(Object.assign({},e),{authToken:t});return yield Xf(n.appConfig,r),t}catch(t){if(!VE(t)||401!==t.customData.serverCode&&404!==t.customData.serverCode){const r=Object.assign(Object.assign({},e),{authToken:{requestStatus:0}});yield Xf(n.appConfig,r)}else yield Jf(n.appConfig);throw t}})).apply(this,arguments)}function XE(n){return void 0!==n&&2===n.registrationStatus}function vT(n){return 2===n.requestStatus&&!function JE(n){const e=Date.now();return e<n.creationTime||n.creationTime+n.expiresIn<e+36e5}(n)}function eD(n){const e={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},n),{authToken:e})}function cd(){return(cd=(0,oe.Z)(function*(n){const e=n,{installationEntry:t,registrationPromise:r}=yield np(e);return r?r.catch(console.error):ld(e).catch(console.error),t.fid})).apply(this,arguments)}function op(){return(op=(0,oe.Z)(function*(n,e=!1){const t=n;return yield zy(t),(yield ld(t,e)).token})).apply(this,arguments)}function zy(n){return dd.apply(this,arguments)}function dd(){return(dd=(0,oe.Z)(function*(n){const{registrationPromise:e}=yield np(n);e&&(yield e)})).apply(this,arguments)}function up(n){return fs.create("missing-app-config-values",{valueName:n})}const qy="installations",iD=n=>{const e=n.getProvider("app").getImmediate(),t=function rD(n){if(!n||!n.options)throw up("App Configuration");if(!n.name)throw up("App Name");const e=["projectId","apiKey","appId"];for(const t of e)if(!n.options[t])throw up(t);return{appName:n.name,projectId:n.options.projectId,apiKey:n.options.apiKey,appId:n.options.appId}}(e);return{app:e,appConfig:t,heartbeatServiceProvider:(0,xt._getProvider)(e,"heartbeat"),_delete:()=>Promise.resolve()}},sD=n=>{const e=n.getProvider("app").getImmediate(),t=(0,xt._getProvider)(e,qy).getImmediate();return{getId:()=>function tD(n){return cd.apply(this,arguments)}(t),getToken:i=>function Gy(n){return op.apply(this,arguments)}(t,i)}};(function CT(){(0,xt._registerComponent)(new ds.wA(qy,iD,"PUBLIC")),(0,xt._registerComponent)(new ds.wA("installations-internal",sD,"PRIVATE"))})(),(0,xt.registerVersion)(qf,od),(0,xt.registerVersion)(qf,od,"esm2017");const lp="@firebase/remote-config",Xr=new Ct.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class RT{constructor(e,t,r,i){this.client=e,this.storage=t,this.storageCache=r,this.logger=i}isCachedDataFresh(e,t){if(!t)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const r=Date.now()-t,i=r<=e;return this.logger.debug(`Config fetch cache check. Cache age millis: ${r}. Cache max age millis (minimumFetchIntervalMillis setting): ${e}. Is cache hit: ${i}.`),i}fetch(e){var t=this;return(0,oe.Z)(function*(){const[r,i]=yield Promise.all([t.storage.getLastSuccessfulFetchTimestampMillis(),t.storage.getLastSuccessfulFetchResponse()]);if(i&&t.isCachedDataFresh(e.cacheMaxAgeMillis,r))return i;e.eTag=i&&i.eTag;const u=yield t.client.fetch(e),c=[t.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===u.status&&c.push(t.storage.setLastSuccessfulFetchResponse(u)),yield Promise.all(c),u})()}}function dD(n=navigator){return n.languages&&n.languages[0]||n.language}class cl{constructor(e,t,r,i,u,c){this.firebaseInstallations=e,this.sdkVersion=t,this.namespace=r,this.projectId=i,this.apiKey=u,this.appId=c}fetch(e){var t=this;return(0,oe.Z)(function*(){const[r,i]=yield Promise.all([t.firebaseInstallations.getId(),t.firebaseInstallations.getToken()]),c=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${t.projectId}/namespaces/${t.namespace}:fetch?key=${t.apiKey}`,g={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":e.eTag||"*"},_={sdk_version:t.sdkVersion,app_instance_id:r,app_instance_id_token:i,app_id:t.appId,language_code:dD()},D={method:"POST",headers:g,body:JSON.stringify(_)},C=fetch(c,D),T=new Promise((at,pt)=>{e.signal.addEventListener(()=>{const bt=new Error("The operation was aborted.");bt.name="AbortError",pt(bt)})});let P;try{yield Promise.race([C,T]),P=yield C}catch(at){let pt="fetch-client-network";throw"AbortError"===at?.name&&(pt="fetch-timeout"),Xr.create(pt,{originalErrorMessage:at?.message})}let $=P.status;const Y=P.headers.get("ETag")||void 0;let fe,Ie;if(200===P.status){let at;try{at=yield P.json()}catch(pt){throw Xr.create("fetch-client-parse",{originalErrorMessage:pt?.message})}fe=at.entries,Ie=at.state}if("INSTANCE_STATE_UNSPECIFIED"===Ie?$=500:"NO_CHANGE"===Ie?$=304:("NO_TEMPLATE"===Ie||"EMPTY_CONFIG"===Ie)&&(fe={}),304!==$&&200!==$)throw Xr.create("fetch-status",{httpStatus:$});return{status:$,eTag:Y,config:fe}})()}}class Xy{constructor(e,t){this.client=e,this.storage=t}fetch(e){var t=this;return(0,oe.Z)(function*(){const r=(yield t.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return t.attemptFetch(e,r)})()}attemptFetch(e,{throttleEndTimeMillis:t,backoffCount:r}){var i=this;return(0,oe.Z)(function*(){yield function OT(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Xr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}(e.signal,t);try{const u=yield i.client.fetch(e);return yield i.storage.deleteThrottleMetadata(),u}catch(u){if(!function hD(n){if(!(n instanceof Ct.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}(u))throw u;const c={throttleEndTimeMillis:Date.now()+(0,Ct.$s)(r),backoffCount:r+1};return yield i.storage.setThrottleMetadata(c),i.attemptFetch(e,c)}})()}}class BO{constructor(e,t,r,i,u){this.app=e,this._client=t,this._storageCache=r,this._storage=i,this._logger=u,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function dp(n,e){const t=n.target.error||void 0;return Xr.create(e,{originalErrorMessage:t&&t?.message})}const Ba="app_namespace_store";class NT{constructor(e,t,r,i=function pD(){return new Promise((n,e)=>{try{const t=indexedDB.open("firebase_remote_config",1);t.onerror=r=>{e(dp(r,"storage-open"))},t.onsuccess=r=>{n(r.target.result)},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Ba,{keyPath:"compositeKey"})}}catch(t){e(Xr.create("storage-open",{originalErrorMessage:t?.message}))}})}()){this.appId=e,this.appName=t,this.namespace=r,this.openDbPromise=i}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(e){return this.set("last_fetch_status",e)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(e){return this.set("last_successful_fetch_timestamp_millis",e)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(e){return this.set("last_successful_fetch_response",e)}getActiveConfig(){return this.get("active_config")}setActiveConfig(e){return this.set("active_config",e)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(e){return this.set("active_config_etag",e)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(e){return this.set("throttle_metadata",e)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(e){var t=this;return(0,oe.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const g=r.transaction([Ba],"readonly").objectStore(Ba),_=t.createCompositeKey(e);try{const D=g.get(_);D.onerror=C=>{u(dp(C,"storage-get"))},D.onsuccess=C=>{const T=C.target.result;i(T?T.value:void 0)}}catch(D){u(Xr.create("storage-get",{originalErrorMessage:D?.message}))}})})()}set(e,t){var r=this;return(0,oe.Z)(function*(){const i=yield r.openDbPromise;return new Promise((u,c)=>{const _=i.transaction([Ba],"readwrite").objectStore(Ba),D=r.createCompositeKey(e);try{const C=_.put({compositeKey:D,value:t});C.onerror=T=>{c(dp(T,"storage-set"))},C.onsuccess=()=>{u()}}catch(C){c(Xr.create("storage-set",{originalErrorMessage:C?.message}))}})})()}delete(e){var t=this;return(0,oe.Z)(function*(){const r=yield t.openDbPromise;return new Promise((i,u)=>{const g=r.transaction([Ba],"readwrite").objectStore(Ba),_=t.createCompositeKey(e);try{const D=g.delete(_);D.onerror=C=>{u(dp(C,"storage-delete"))},D.onsuccess=()=>{i()}}catch(D){u(Xr.create("storage-delete",{originalErrorMessage:D?.message}))}})})()}createCompositeKey(e){return[this.appId,this.appName,this.namespace,e].join()}}class gD{constructor(e){this.storage=e}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var e=this;return(0,oe.Z)(function*(){const t=e.storage.getLastFetchStatus(),r=e.storage.getLastSuccessfulFetchTimestampMillis(),i=e.storage.getActiveConfig(),u=yield t;u&&(e.lastFetchStatus=u);const c=yield r;c&&(e.lastSuccessfulFetchTimestampMillis=c);const g=yield i;g&&(e.activeConfig=g)})()}setLastFetchStatus(e){return this.lastFetchStatus=e,this.storage.setLastFetchStatus(e)}setLastSuccessfulFetchTimestampMillis(e){return this.lastSuccessfulFetchTimestampMillis=e,this.storage.setLastSuccessfulFetchTimestampMillis(e)}setActiveConfig(e){return this.activeConfig=e,this.storage.setActiveConfig(e)}}function yD(){return e_.apply(this,arguments)}function e_(){return(e_=(0,oe.Z)(function*(){if(!(0,Ct.hl)())return!1;try{return yield(0,Ct.eu)()}catch{return!1}})).apply(this,arguments)}!function mD(){(0,xt._registerComponent)(new ds.wA("remote-config",function n(e,{instanceIdentifier:t}){const r=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Xr.create("registration-window");if(!(0,Ct.hl)())throw Xr.create("indexed-db-unavailable");const{projectId:u,apiKey:c,appId:g}=r.options;if(!u)throw Xr.create("registration-project-id");if(!c)throw Xr.create("registration-api-key");if(!g)throw Xr.create("registration-app-id");const _=new NT(g,r.name,t=t||"firebase"),D=new gD(_),C=new hs.Yd(lp);C.logLevel=hs.in.ERROR;const T=new cl(i,xt.SDK_VERSION,t,u,c,g),P=new Xy(T,_),$=new RT(P,_,D,C),Y=new BO(r,$,D,_,C);return function TT(n){const e=(0,Ct.m9)(n);e._initializePromise||(e._initializePromise=e._storageCache.loadFromStorage().then(()=>{e._isInitializationComplete=!0}))}(Y),Y},"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(lp,"0.4.1"),(0,xt.registerVersion)(lp,"0.4.1","esm2017")}();const _D="/firebase-messaging-sw.js",vD="/firebase-cloud-messaging-push-scope",t_="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",ED="google.c.a.c_id",FT="google.c.a.c_l",jO="google.c.a.ts",DD="google.c.a.e";var fd=(()=>{return(n=fd||(fd={})).PUSH_RECEIVED="push-received",n.NOTIFICATION_CLICKED="notification-clicked",fd;var n})();function Vo(n){const e=new Uint8Array(n);return btoa(String.fromCharCode(...e)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function HO(n){const t=(n+"=".repeat((4-n.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),r=atob(t),i=new Uint8Array(r.length);for(let u=0;u<r.length;++u)i[u]=r.charCodeAt(u);return i}const ID="fcm_token_details_db",LT="fcm_token_object_Store";function zO(n){return dl.apply(this,arguments)}function dl(){return dl=(0,oe.Z)(function*(n){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(u=>u.name).includes(ID))return null;let e=null;return(yield(0,rl.X3)(ID,5,{upgrade:(r=(0,oe.Z)(function*(i,u,c,g){var _;if(u<2||!i.objectStoreNames.contains(LT))return;const D=g.objectStore(LT),C=yield D.index("fcmSenderId").get(n);if(yield D.clear(),C)if(2===u){const T=C;if(!T.auth||!T.p256dh||!T.endpoint)return;e={token:T.fcmToken,createTime:null!==(_=T.createTime)&&void 0!==_?_:Date.now(),subscriptionOptions:{auth:T.auth,p256dh:T.p256dh,endpoint:T.endpoint,swScope:T.swScope,vapidKey:"string"==typeof T.vapidKey?T.vapidKey:Vo(T.vapidKey)}}}else if(3===u){const T=C;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:Vo(T.auth),p256dh:Vo(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:Vo(T.vapidKey)}}}else if(4===u){const T=C;e={token:T.fcmToken,createTime:T.createTime,subscriptionOptions:{auth:Vo(T.auth),p256dh:Vo(T.p256dh),endpoint:T.endpoint,swScope:T.swScope,vapidKey:Vo(T.vapidKey)}}}}),function(u,c,g,_){return r.apply(this,arguments)})})).close(),yield(0,rl.Lj)(ID),yield(0,rl.Lj)("fcm_vapid_details_db"),yield(0,rl.Lj)("undefined"),WO(e)?e:null;var r}),dl.apply(this,arguments)}function WO(n){if(!n||!n.subscriptionOptions)return!1;const{subscriptionOptions:e}=n;return"number"==typeof n.createTime&&n.createTime>0&&"string"==typeof n.token&&n.token.length>0&&"string"==typeof e.auth&&e.auth.length>0&&"string"==typeof e.p256dh&&e.p256dh.length>0&&"string"==typeof e.endpoint&&e.endpoint.length>0&&"string"==typeof e.swScope&&e.swScope.length>0&&"string"==typeof e.vapidKey&&e.vapidKey.length>0}const Uo="firebase-messaging-store";let fp=null;function bD(){return fp||(fp=(0,rl.X3)("firebase-messaging-database",1,{upgrade:(n,e)=>{0===e&&n.createObjectStore(Uo)}})),fp}function pp(n){return gp.apply(this,arguments)}function gp(){return(gp=(0,oe.Z)(function*(n){const e=i_(n),r=yield(yield bD()).transaction(Uo).objectStore(Uo).get(e);if(r)return r;{const i=yield zO(n.appConfig.senderId);if(i)return yield n_(n,i),i}})).apply(this,arguments)}function n_(n,e){return mp.apply(this,arguments)}function mp(){return(mp=(0,oe.Z)(function*(n,e){const t=i_(n),i=(yield bD()).transaction(Uo,"readwrite");return yield i.objectStore(Uo).put(e,t),yield i.done,e})).apply(this,arguments)}function qO(n){return r_.apply(this,arguments)}function r_(){return(r_=(0,oe.Z)(function*(n){const e=i_(n),r=(yield bD()).transaction(Uo,"readwrite");yield r.objectStore(Uo).delete(e),yield r.done})).apply(this,arguments)}function i_({appConfig:n}){return n.appId}const xn=new Ct.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function UT(n,e){return SD.apply(this,arguments)}function SD(){return(SD=(0,oe.Z)(function*(n,e){const t=yield xD(n),r=u_(e),i={method:"POST",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(o_(n.appConfig),i)).json()}catch(c){throw xn.create("token-subscribe-failed",{errorInfo:c?.toString()})}if(u.error)throw xn.create("token-subscribe-failed",{errorInfo:u.error.message});if(!u.token)throw xn.create("token-subscribe-no-token");return u.token})).apply(this,arguments)}function ZO(n,e){return TD.apply(this,arguments)}function TD(){return(TD=(0,oe.Z)(function*(n,e){const t=yield xD(n),r=u_(e.subscriptionOptions),i={method:"PATCH",headers:t,body:JSON.stringify(r)};let u;try{u=yield(yield fetch(`${o_(n.appConfig)}/${e.token}`,i)).json()}catch(c){throw xn.create("token-update-failed",{errorInfo:c?.toString()})}if(u.error)throw xn.create("token-update-failed",{errorInfo:u.error.message});if(!u.token)throw xn.create("token-update-no-token");return u.token})).apply(this,arguments)}function AD(n,e){return s_.apply(this,arguments)}function s_(){return(s_=(0,oe.Z)(function*(n,e){const r={method:"DELETE",headers:yield xD(n)};try{const u=yield(yield fetch(`${o_(n.appConfig)}/${e}`,r)).json();if(u.error)throw xn.create("token-unsubscribe-failed",{errorInfo:u.error.message})}catch(i){throw xn.create("token-unsubscribe-failed",{errorInfo:i?.toString()})}})).apply(this,arguments)}function o_({projectId:n}){return`https://fcmregistrations.googleapis.com/v1/projects/${n}/registrations`}function xD(n){return a_.apply(this,arguments)}function a_(){return(a_=(0,oe.Z)(function*({appConfig:n,installations:e}){const t=yield e.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":n.apiKey,"x-goog-firebase-installations-auth":`FIS ${t}`})})).apply(this,arguments)}function u_({p256dh:n,auth:e,endpoint:t,vapidKey:r}){const i={web:{endpoint:t,auth:e,p256dh:n}};return r!==t_&&(i.web.applicationPubKey=r),i}const MD=6048e5;function KO(n){return li.apply(this,arguments)}function li(){return(li=(0,oe.Z)(function*(n){const e=yield c_(n.swRegistration,n.vapidKey),t={vapidKey:n.vapidKey,swScope:n.swRegistration.scope,endpoint:e.endpoint,auth:Vo(e.getKey("auth")),p256dh:Vo(e.getKey("p256dh"))},r=yield pp(n.firebaseDependencies);if(r){if($T(r.subscriptionOptions,t))return Date.now()>=r.createTime+MD?BT(n,{token:r.token,createTime:Date.now(),subscriptionOptions:t}):r.token;try{yield AD(n.firebaseDependencies,r.token)}catch(i){console.warn(i)}return ci(n.firebaseDependencies,t)}return ci(n.firebaseDependencies,t)})).apply(this,arguments)}function RD(n){return pd.apply(this,arguments)}function pd(){return(pd=(0,oe.Z)(function*(n){const e=yield pp(n.firebaseDependencies);e&&(yield AD(n.firebaseDependencies,e.token),yield qO(n.firebaseDependencies));const t=yield n.swRegistration.pushManager.getSubscription();return!t||t.unsubscribe()})).apply(this,arguments)}function BT(n,e){return OD.apply(this,arguments)}function OD(){return(OD=(0,oe.Z)(function*(n,e){try{const t=yield ZO(n.firebaseDependencies,e),r=Object.assign(Object.assign({},e),{token:t,createTime:Date.now()});return yield n_(n.firebaseDependencies,r),t}catch(t){throw yield RD(n),t}})).apply(this,arguments)}function ci(n,e){return l_.apply(this,arguments)}function l_(){return(l_=(0,oe.Z)(function*(n,e){const r={token:yield UT(n,e),createTime:Date.now(),subscriptionOptions:e};return yield n_(n,r),r.token})).apply(this,arguments)}function c_(n,e){return d_.apply(this,arguments)}function d_(){return(d_=(0,oe.Z)(function*(n,e){return(yield n.pushManager.getSubscription())||n.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:HO(e)})})).apply(this,arguments)}function $T(n,e){return e.vapidKey===n.vapidKey&&e.endpoint===n.endpoint&&e.auth===n.auth&&e.p256dh===n.p256dh}function yp(n){const e={from:n.from,collapseKey:n.collapse_key,messageId:n.fcmMessageId};return function kD(n,e){if(!e.notification)return;n.notification={};const t=e.notification.title;t&&(n.notification.title=t);const r=e.notification.body;r&&(n.notification.body=r);const i=e.notification.image;i&&(n.notification.image=i);const u=e.notification.icon;u&&(n.notification.icon=u)}(e,n),function PD(n,e){e.data&&(n.data=e.data)}(e,n),function jT(n,e){var t,r,i,u,c;if(!(e.fcmOptions||null!==(t=e.notification)&&void 0!==t&&t.click_action))return;n.fcmOptions={};const g=null!==(i=null===(r=e.fcmOptions)||void 0===r?void 0:r.link)&&void 0!==i?i:null===(u=e.notification)||void 0===u?void 0:u.click_action;g&&(n.fcmOptions.link=g);const _=null===(c=e.fcmOptions)||void 0===c?void 0:c.analytics_label;_&&(n.fcmOptions.analyticsLabel=_)}(e,n),e}function ND(n){return"object"==typeof n&&!!n&&ED in n}function h_(n,e){const t=[];for(let r=0;r<n.length;r++)t.push(n.charAt(r)),r<e.length&&t.push(e.charAt(r));return t.join("")}function _p(n){return xn.create("missing-app-config-values",{valueName:n})}h_("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),h_("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class GT{constructor(e,t,r){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const i=function HT(n){if(!n||!n.options)throw _p("App Configuration Object");if(!n.name)throw _p("App Name");const e=["projectId","apiKey","appId","messagingSenderId"],{options:t}=n;for(const r of e)if(!t[r])throw _p(r);return{appName:n.name,projectId:t.projectId,apiKey:t.apiKey,appId:t.appId,senderId:t.messagingSenderId}}(e);this.firebaseDependencies={app:e,appConfig:i,installations:t,analyticsProvider:r}}_delete(){return Promise.resolve()}}function vp(n){return ps.apply(this,arguments)}function ps(){return(ps=(0,oe.Z)(function*(n){try{n.swRegistration=yield navigator.serviceWorker.register(_D,{scope:vD}),n.swRegistration.update().catch(()=>{})}catch(e){throw xn.create("failed-service-worker-registration",{browserErrorMessage:e?.message})}})).apply(this,arguments)}function FD(n,e){return gd.apply(this,arguments)}function gd(){return(gd=(0,oe.Z)(function*(n,e){if(!e&&!n.swRegistration&&(yield vp(n)),e||!n.swRegistration){if(!(e instanceof ServiceWorkerRegistration))throw xn.create("invalid-sw-registration");n.swRegistration=e}})).apply(this,arguments)}function Ys(n,e){return f_.apply(this,arguments)}function f_(){return(f_=(0,oe.Z)(function*(n,e){e?n.vapidKey=e:n.vapidKey||(n.vapidKey=t_)})).apply(this,arguments)}function p_(){return(p_=(0,oe.Z)(function*(n,e){if(!navigator)throw xn.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw xn.create("permission-blocked");return yield Ys(n,e?.vapidKey),yield FD(n,e?.serviceWorkerRegistration),KO(n)})).apply(this,arguments)}function WT(n,e,t){return g_.apply(this,arguments)}function g_(){return(g_=(0,oe.Z)(function*(n,e,t){const r=qT(e);(yield n.firebaseDependencies.analyticsProvider.get()).logEvent(r,{message_id:t[ED],message_name:t[FT],message_time:t[jO],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function qT(n){switch(n){case fd.NOTIFICATION_CLICKED:return"notification_open";case fd.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}function VD(){return(VD=(0,oe.Z)(function*(n,e){const t=e.data;if(!t.isFirebaseMessaging)return;n.onMessageHandler&&t.messageType===fd.PUSH_RECEIVED&&("function"==typeof n.onMessageHandler?n.onMessageHandler(yp(t)):n.onMessageHandler.next(yp(t)));const r=t.data;ND(r)&&"1"===r[DD]&&(yield WT(n,t.messageType,r))})).apply(this,arguments)}const m_="@firebase/messaging",BD=n=>{const e=new GT(n.getProvider("app").getImmediate(),n.getProvider("installations-internal").getImmediate(),n.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",t=>function LD(n,e){return VD.apply(this,arguments)}(e,t)),e},YO=n=>{const e=n.getProvider("messaging").getImmediate();return{getToken:r=>function zT(n,e){return p_.apply(this,arguments)}(e,r)}};function __(){return wp.apply(this,arguments)}function wp(){return(wp=(0,oe.Z)(function*(){try{yield(0,Ct.eu)()}catch{return!1}return typeof window<"u"&&(0,Ct.hl)()&&(0,Ct.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function y_(){(0,xt._registerComponent)(new ds.wA("messaging",BD,"PUBLIC")),(0,xt._registerComponent)(new ds.wA("messaging-internal",YO,"PRIVATE")),(0,xt.registerVersion)(m_,"0.12.1"),(0,xt.registerVersion)(m_,"0.12.1","esm2017")}();const E_="analytics",JO="firebase_id",ZT="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",GD="https://www.googletagmanager.com/gtag/js",sr=new hs.Yd("@firebase/analytics");function KT(n){return Promise.all(n.map(e=>e.catch(t=>t)))}function tk(n,e){const t=document.createElement("script");t.src=`${GD}?l=${n}&id=${e}`,t.async=!0,document.head.appendChild(t)}function rk(n,e,t,r,i,u){return zD.apply(this,arguments)}function zD(){return(zD=(0,oe.Z)(function*(n,e,t,r,i,u){const c=r[i];try{if(c)yield e[c];else{const _=(yield KT(t)).find(D=>D.measurementId===i);_&&(yield e[_.appId])}}catch(g){sr.error(g)}n("config",i,u)})).apply(this,arguments)}function YT(n,e,t,r,i){return hl.apply(this,arguments)}function hl(){return(hl=(0,oe.Z)(function*(n,e,t,r,i){try{let u=[];if(i&&i.send_to){let c=i.send_to;Array.isArray(c)||(c=[c]);const g=yield KT(t);for(const _ of c){const D=g.find(T=>T.measurementId===_),C=D&&e[D.appId];if(!C){u=[];break}u.push(C)}}0===u.length&&(u=Object.values(e)),yield Promise.all(u),n("event",r,i||{})}catch(u){sr.error(u)}})).apply(this,arguments)}function WD(n){const e=window.document.getElementsByTagName("script");for(const t of Object.values(e))if(t.src&&t.src.includes(GD)&&t.src.includes(n))return t;return null}const Jr=new Ct.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.'}),Ip=new class JT{constructor(e={},t=1e3){this.throttleMetadata=e,this.intervalMillis=t}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,t){this.throttleMetadata[e]=t}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}};function C_(n){return new Headers({Accept:"application/json","x-goog-api-key":n})}function Cp(n){return qD.apply(this,arguments)}function qD(){return(qD=(0,oe.Z)(function*(n){var e;const{appId:t,apiKey:r}=n,i={method:"GET",headers:C_(r)},u=ZT.replace("{app-id}",t),c=yield fetch(u,i);if(200!==c.status&&304!==c.status){let g="";try{const _=yield c.json();null!==(e=_.error)&&void 0!==e&&e.message&&(g=_.error.message)}catch{}throw Jr.create("config-fetch-failed",{httpStatus:c.status,responseMessage:g})}return c.json()})).apply(this,arguments)}function ik(n){return ZD.apply(this,arguments)}function ZD(){return(ZD=(0,oe.Z)(function*(n,e=Ip,t){const{appId:r,apiKey:i,measurementId:u}=n.options;if(!r)throw Jr.create("no-app-id");if(!i){if(u)return{measurementId:u,appId:r};throw Jr.create("no-api-key")}const c=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},g=new rA;return setTimeout((0,oe.Z)(function*(){g.abort()}),void 0!==t?t:6e4),eA({appId:r,apiKey:i,measurementId:u},c,g,e)})).apply(this,arguments)}function eA(n,e,t){return bp.apply(this,arguments)}function bp(){return(bp=(0,oe.Z)(function*(n,{throttleEndTimeMillis:e,backoffCount:t},r,i=Ip){var u;const{appId:c,measurementId:g}=n;try{yield tA(r,e)}catch(_){if(g)return sr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${_?.message}]`),{appId:c,measurementId:g};throw _}try{const _=yield Cp(n);return i.deleteThrottleMetadata(c),_}catch(_){const D=_;if(!nA(D)){if(i.deleteThrottleMetadata(c),g)return sr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${g} provided in the "measurementId" field in the local Firebase config. [${D?.message}]`),{appId:c,measurementId:g};throw _}const C=503===Number(null===(u=D?.customData)||void 0===u?void 0:u.httpStatus)?(0,Ct.$s)(t,i.intervalMillis,30):(0,Ct.$s)(t,i.intervalMillis),T={throttleEndTimeMillis:Date.now()+C,backoffCount:t+1};return i.setThrottleMetadata(c,T),sr.debug(`Calling attemptFetch again in ${C} millis`),eA(n,T,r,i)}})).apply(this,arguments)}function tA(n,e){return new Promise((t,r)=>{const i=Math.max(e-Date.now(),0),u=setTimeout(t,i);n.addEventListener(()=>{clearTimeout(u),r(Jr.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function nA(n){if(!(n instanceof Ct.ZR&&n.customData))return!1;const e=Number(n.customData.httpStatus);return 429===e||500===e||503===e||504===e}class rA{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}let b_,A_;function Sp(){return(Sp=(0,oe.Z)(function*(n,e,t,r,i){if(i&&i.global)n("event",t,r);else{const u=yield e;n("event",t,Object.assign(Object.assign({},r),{send_to:u}))}})).apply(this,arguments)}function JD(n){A_=n}function sA(n){b_=n}function sk(){return x_.apply(this,arguments)}function x_(){return(x_=(0,oe.Z)(function*(){if(!(0,Ct.hl)())return sr.warn(Jr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,Ct.eu)()}catch(n){return sr.warn(Jr.create("indexeddb-unavailable",{errorInfo:n?.toString()}).message),!1}return!0})).apply(this,arguments)}function M_(){return(M_=(0,oe.Z)(function*(n,e,t,r,i,u,c){var g;const _=ik(n);_.then($=>{t[$.measurementId]=$.appId,n.options.measurementId&&$.measurementId!==n.options.measurementId&&sr.warn(`The measurement ID in the local Firebase config (${n.options.measurementId}) does not match the measurement ID fetched from the server (${$.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch($=>sr.error($)),e.push(_);const D=sk().then($=>{if($)return r.getId()}),[C,T]=yield Promise.all([_,D]);WD(u)||tk(u,C.measurementId),A_&&(i("consent","default",A_),JD(void 0)),i("js",new Date);const P=null!==(g=c?.config)&&void 0!==g?g:{};return P.origin="firebase",P.update=!0,null!=T&&(P[JO]=T),i("config",C.measurementId,P),b_&&(i("set",b_),sA(void 0)),C.measurementId})).apply(this,arguments)}class ok{constructor(e){this.app=e}_delete(){return delete Bo[this.app.options.appId],Promise.resolve()}}let Bo={},aA=[];const uA={};let lA,$o,R_="dataLayer",tI=!1;function uk(n,e,t){!function ak(){const n=[];if((0,Ct.ru)()&&n.push("This is a browser extension environment."),(0,Ct.zI)()||n.push("Cookies are not available."),n.length>0){const e=n.map((r,i)=>`(${i+1}) ${r}`).join(" "),t=Jr.create("invalid-analytics-context",{errorInfo:e});sr.warn(t.message)}}();const r=n.options.appId;if(!r)throw Jr.create("no-app-id");if(!n.options.apiKey){if(!n.options.measurementId)throw Jr.create("no-api-key");sr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${n.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Bo[r])throw Jr.create("already-exists",{id:r});if(!tI){!function nk(n){let e=[];Array.isArray(window[n])?e=window[n]:window[n]=e}(R_);const{wrappedGtag:u,gtagCore:c}=function XT(n,e,t,r,i){let u=function(...c){window[r].push(arguments)};return window[i]&&"function"==typeof window[i]&&(u=window[i]),window[i]=function QT(n,e,t,r){function u(){return(u=(0,oe.Z)(function*(c,g,_){try{"event"===c?yield YT(n,e,t,g,_):"config"===c?yield rk(n,e,t,r,g,_):"consent"===c?n("consent","update",_):n("set",g)}catch(D){sr.error(D)}})).apply(this,arguments)}return function i(c,g,_){return u.apply(this,arguments)}}(u,n,e,t),{gtagCore:u,wrappedGtag:window[i]}}(Bo,aA,uA,R_,"gtag");$o=u,lA=c,tI=!0}return Bo[r]=function oA(n,e,t,r,i,u,c){return M_.apply(this,arguments)}(n,aA,uA,e,lA,R_,t),new ok(n)}function a(){return l.apply(this,arguments)}function l(){return(l=(0,oe.Z)(function*(){if((0,Ct.ru)()||!(0,Ct.zI)()||!(0,Ct.hl)())return!1;try{return yield(0,Ct.eu)()}catch{return!1}})).apply(this,arguments)}const M="@firebase/analytics",V="0.9.1";!function z(){(0,xt._registerComponent)(new ds.wA(E_,(e,{options:t})=>uk(e.getProvider("app").getImmediate(),e.getProvider("installations-internal").getImmediate(),t),"PUBLIC")),(0,xt._registerComponent)(new ds.wA("analytics-internal",function n(e){try{const t=e.getProvider(E_).getImmediate();return{logEvent:(r,i,u)=>function b(n,e,t,r){n=(0,Ct.m9)(n),function KD(n,e,t,r,i){return Sp.apply(this,arguments)}($o,Bo[n.app.options.appId],e,t,r).catch(i=>sr.error(i))}(t,r,i,u)}}catch(t){throw Jr.create("interop-component-reg-failed",{reason:t})}},"PRIVATE")),(0,xt.registerVersion)(M,V),(0,xt.registerVersion)(M,V,"esm2017")}();const Pe=new class Ae extends ed{}(class ie extends Vf{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return null!=r&&r>0||null==r&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}});var Xe=R(9468),de=R(5363);const ht=new h.GfV("7.5.0"),Qt="__angularfire_symbol__analyticsIsSupportedValue",an="__angularfire_symbol__analyticsIsSupported",nI="__angularfire_symbol__remoteConfigIsSupportedValue",cA="__angularfire_symbol__remoteConfigIsSupported",dA="__angularfire_symbol__messagingIsSupportedValue",hA="__angularfire_symbol__messagingIsSupported";function pA(n,e,t){if(e){if(1===e.length)return e[0];const u=e.filter(c=>c.app===t);if(1===u.length)return u[0]}return t.container.getProvider(n).getImmediate({optional:!0})}globalThis[an]||(globalThis[an]=a().then(n=>globalThis[Qt]=n).catch(()=>globalThis[Qt]=!1)),globalThis[hA]||(globalThis[hA]=__().then(n=>globalThis[dA]=n).catch(()=>globalThis[dA]=!1)),globalThis[cA]||(globalThis[cA]=yD().then(n=>globalThis[nI]=n).catch(()=>globalThis[nI]=!1));const gA=(n,e)=>{const t=e?[e]:(0,xt.getApps)(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(c=>{r.includes(c)||r.push(c)})}),r};function Ap(){}class lk{constructor(e,t=Pe){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){const i=this.zone;return this.delegate.schedule(function(c){i.runGuarded(()=>{e.apply(this,[c])})},t,r)}}class TL{constructor(e){this.zone=e,this.task=null}call(e,t){const r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ap,{},Ap,Ap)),t.pipe(qn({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let rI=(()=>{class n{constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new lk(Zone.current)),this.insideAngular=t.run(()=>new lk(Zone.current,vy)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.R0b))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function yd(){const n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return n}function AL(n){return yd().ngZone.runOutsideAngular(()=>n())}function _d(n){return yd().ngZone.run(()=>n())}function ck(n){return yd(),function xL(n){return function(t){return(t=t.lift(new TL(n.ngZone))).pipe((0,Xe.R)(n.outsideAngular),(0,de.Q)(n.insideAngular))}}(yd())(n)}const ML=(n,e)=>function(){const r=arguments;return e&&setTimeout(()=>{"scheduled"===e.state&&e.invoke()},10),_d(()=>n.apply(void 0,r))},xp=(n,e)=>function(){let t;const r=arguments;for(let u=0;u<arguments.length;u++)"function"==typeof r[u]&&(e&&(t||(t=_d(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ap,{},Ap,Ap)))),r[u]=ML(r[u],t));const i=AL(()=>n.apply(this,r));if(!e){if(i instanceof zn.y){const u=yd();return i.pipe((0,Xe.R)(u.outsideAngular),(0,de.Q)(u.insideAngular))}return _d(()=>i)}return i instanceof zn.y?i.pipe(ck):i instanceof Promise?_d(()=>new Promise((u,c)=>i.then(g=>_d(()=>u(g)),g=>_d(()=>c(g))))):"function"==typeof i&&t?function(){return setTimeout(()=>{t&&"scheduled"===t.state&&t.invoke()},10),i.apply(this,arguments)}:_d(()=>i)};class Mp{constructor(e){return e}}class mA{constructor(){return(0,xt.getApps)()}}const yA=new h.OlP("angularfire2._apps"),OL={provide:Mp,useFactory:function RL(n){return n&&1===n.length?n[0]:new Mp((0,xt.getApp)())},deps:[[new h.FiY,yA]]},kL={provide:mA,deps:[[new h.FiY,yA]]};function PL(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Mp(r)}}let NL=(()=>{class n{constructor(t){(0,xt.registerVersion)("angularfire",ht.full,"core"),(0,xt.registerVersion)("angularfire",ht.full,"app"),(0,xt.registerVersion)("angular",h.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(h.Lbi))},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[OL,kL]}),n})();const LL=xp(xt.initializeApp,!0),_A=new Map,dk={activated:!1,tokenObservers:[]},VL={initialized:!1,enabled:!1};function Vr(n){return _A.get(n)||Object.assign({},dk)}function iI(){return VL}class GL{constructor(e,t,r,i,u){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=u,this.pending=null,this.nextErrorWaitInterval=i,i>u)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,oe.Z)(function*(){t.stop();try{t.pending=new Ct.BH,yield function zL(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Ct.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const di=new Ct.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function fk(n){if(!Vr(n).activated)throw di.create("use-before-activation",{appName:n.name})}function EA(n,e){return DA.apply(this,arguments)}function DA(){return(DA=(0,oe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const T=yield i.getHeartbeatsHeader();T&&(r["X-Firebase-Client"]=T)}const u={method:"POST",body:JSON.stringify(e),headers:r};let c,g;try{c=yield fetch(n,u)}catch(T){throw di.create("fetch-network-error",{originalErrorMessage:T?.message})}if(200!==c.status)throw di.create("fetch-status-error",{httpStatus:c.status});try{g=yield c.json()}catch(T){throw di.create("fetch-parse-error",{originalErrorMessage:T?.message})}const _=g.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw di.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${g.ttl}`});const D=1e3*Number(_[1]),C=Date.now();return{token:g.token,expireTimeMillis:C+D,issuedAtTimeMillis:C}})).apply(this,arguments)}function KL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`https://content-firebaseappcheck.googleapis.com/v1/projects/${t}/apps/${r}:exchangeDebugToken?key=${i}`,body:{debug_token:e}}}const O_="firebase-app-check-store";let aI=null;function gk(){return aI||(aI=new Promise((n,e)=>{try{const t=indexedDB.open("firebase-app-check-database",1);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(di.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(O_,{keyPath:"compositeKey"})}}catch(t){e(di.create("storage-open",{originalErrorMessage:t?.message}))}}),aI)}function IA(){return(IA=(0,oe.Z)(function*(n,e){const r=(yield gk()).transaction(O_,"readwrite"),u=r.objectStore(O_).put({compositeKey:n,value:e});return new Promise((c,g)=>{u.onsuccess=_=>{c()},r.onerror=_=>{var D;g(di.create("storage-set",{originalErrorMessage:null===(D=_.target.error)||void 0===D?void 0:D.message}))}})})).apply(this,arguments)}const k_=new hs.Yd("@firebase/app-check");function SA(n,e){return(0,Ct.hl)()?function JL(n,e){return function mk(n,e){return IA.apply(this,arguments)}(function _k(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{k_.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function vk(){return iI().enabled}function wk(){return AA.apply(this,arguments)}function AA(){return(AA=(0,oe.Z)(function*(){const n=iI();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const sV={error:"UNKNOWN_ERROR"};function oV(n){return Ct.US.encodeString(JSON.stringify(n),!1)}function uI(n){return xA.apply(this,arguments)}function xA(){return(xA=(0,oe.Z)(function*(n,e=!1){const t=n.app;fk(t);const r=Vr(t);let u,i=r.token;if(i&&!Rp(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Rp(_)?i=_:yield SA(t,void 0))}if(!e&&i&&Rp(i))return{token:i.token};let g,c=!1;if(vk()){r.exchangeTokenPromise||(r.exchangeTokenPromise=EA(KL(t,yield wk()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield SA(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Vr(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?k_.warn(_.message):k_.error(_),u=_}return i?u?g=Rp(i)?{token:i.token,internalError:u}:Ik(u):(g={token:i.token},r.token=i,yield SA(t,i)):g=Ik(u),c&&Dk(t,g),g})).apply(this,arguments)}function RA(n,e){const t=Vr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function Ek(n){const{app:e}=n,t=Vr(e);let r=t.tokenRefresher;r||(r=function aV(n){const{app:e}=n;return new GL((0,oe.Z)(function*(){let r;if(r=Vr(e).token?yield uI(n,!0):yield uI(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Vr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},3e4,96e4)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Dk(n,e){const t=Vr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}function Rp(n){return n.expireTimeMillis-Date.now()>0}function Ik(n){return{token:oV(sV),error:n}}class uV{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Vr(this.app);for(const t of e)RA(this.app,t.next);return Promise.resolve()}}const Rk="app-check-internal";!function DV(){(0,xt._registerComponent)(new ds.wA("app-check",n=>function lV(n,e){return new uV(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(Rk).initialize()})),(0,xt._registerComponent)(new ds.wA(Rk,n=>function cV(n){return{getToken:e=>uI(n,e),addTokenListener:e=>function MA(n,e,t,r){const{app:i}=n,u=Vr(i);if(u.tokenObservers=[...u.tokenObservers,{next:t,error:r,type:e}],u.token&&Rp(u.token)){const g=u.token;Promise.resolve().then(()=>{t({token:g.token}),Ek(n)}).catch(()=>{})}u.cachedTokenPromise.then(()=>Ek(n))}(n,"INTERNAL",e),removeTokenListener:e=>RA(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,xt.registerVersion)("@firebase/app-check","0.6.1")}();class cI{constructor(){return gA("app-check")}}typeof window<"u"&&window;var FA=R(1808);class dI{constructor(e){return e}}class Pk{constructor(){return gA("auth")}}const LA=new h.OlP("angularfire2.auth-instances");function AV(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new dI(r)}}const xV={provide:Pk,deps:[[new h.FiY,LA]]},MV={provide:dI,useFactory:function TV(n,e){const t=pA("auth",n,e);return t&&new dI(t)},deps:[[new h.FiY,LA],Mp]};let RV=(()=>{class n{constructor(){(0,xt.registerVersion)("angularfire",ht.full,"auth")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[MV,xV]}),n})();const kV=xp(FA.a5,!0),PV=xp(FA.n,!0),NV=xp(FA.a6,!0);var qe,FV=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ja={},VA=VA||{},vt=FV||self;function hI(){}function fI(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function P_(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var UA="closure_uid_"+(1e9*Math.random()>>>0),VV=0;function UV(n,e,t){return n.call.apply(n.bind,arguments)}function BV(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function ei(n,e,t){return(ei=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?UV:BV).apply(null,arguments)}function pI(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ur(n,e){function t(){}t.prototype=e.prototype,n.X=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.Wb=function(r,i,u){for(var c=Array(arguments.length-2),g=2;g<arguments.length;g++)c[g-2]=arguments[g];return e.prototype[i].apply(r,c)}}function fl(){this.s=this.s,this.o=this.o}fl.prototype.s=!1,fl.prototype.na=function(){!this.s&&(this.s=!0,this.M(),0)&&function LV(n){Object.prototype.hasOwnProperty.call(n,UA)&&n[UA]||(n[UA]=++VV)}(this)},fl.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Nk=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function BA(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function Fk(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(fI(r)){const i=n.length||0,u=r.length||0;n.length=i+u;for(let c=0;c<u;c++)n[i+c]=r[c]}else n.push(r)}}function ti(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}ti.prototype.h=function(){this.defaultPrevented=!0};var jV=function(){if(!vt.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{vt.addEventListener("test",hI,e),vt.removeEventListener("test",hI,e)}catch{}return n}();function gI(n){return/^[\s\xa0]*$/.test(n)}var Lk=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function $A(n,e){return n<e?-1:n>e?1:0}function mI(){var n=vt.navigator;return n&&(n=n.userAgent)?n:""}function jo(n){return-1!=mI().indexOf(n)}function jA(n){return jA[" "](n),n}jA[" "]=hI;var yI,n,GV=jo("Opera"),Op=jo("Trident")||jo("MSIE"),Vk=jo("Edge"),HA=Vk||Op,Uk=jo("Gecko")&&!(-1!=mI().toLowerCase().indexOf("webkit")&&!jo("Edge"))&&!(jo("Trident")||jo("MSIE"))&&!jo("Edge"),zV=-1!=mI().toLowerCase().indexOf("webkit")&&!jo("Edge");function Bk(){var n=vt.document;return n?n.documentMode:void 0}e:{var GA="",zA=(n=mI(),Uk?/rv:([^\);]+)(\)|;)/.exec(n):Vk?/Edge\/([\d\.]+)/.exec(n):Op?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):zV?/WebKit\/(\S+)/.exec(n):GV?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(zA&&(GA=zA?zA[1]:""),Op){var WA=Bk();if(null!=WA&&WA>parseFloat(GA)){yI=String(WA);break e}}yI=GA}var WV={};var ZV=vt.document&&Op&&(Bk()||parseInt(yI,10))||void 0;function N_(n,e){if(ti.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(Uk){e:{try{jA(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:KV[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&N_.X.h.call(this)}}Ur(N_,ti);var KV={2:"touch",3:"pen",4:"mouse"};N_.prototype.h=function(){N_.X.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var F_="closure_listenable_"+(1e6*Math.random()|0),YV=0;function QV(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.ha=i,this.key=++YV,this.ba=this.ea=!1}function _I(n){n.ba=!0,n.listener=null,n.proxy=null,n.src=null,n.ha=null}function ZA(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function jk(n){const e={};for(const t in n)e[t]=n[t];return e}const Hk="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Gk(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let u=0;u<Hk.length;u++)t=Hk[u],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function vI(n){this.src=n,this.g={},this.h=0}function KA(n,e){var t=e.type;if(t in n.g){var u,r=n.g[t],i=Nk(r,e);(u=0<=i)&&Array.prototype.splice.call(r,i,1),u&&(_I(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function YA(n,e,t,r){for(var i=0;i<n.length;++i){var u=n[i];if(!u.ba&&u.listener==e&&u.capture==!!t&&u.ha==r)return i}return-1}vI.prototype.add=function(n,e,t,r,i){var u=n.toString();(n=this.g[u])||(n=this.g[u]=[],this.h++);var c=YA(n,e,r,i);return-1<c?(e=n[c],t||(e.ea=!1)):((e=new QV(e,this.src,u,!!r,i)).ea=t,n.push(e)),e};var QA="closure_lm_"+(1e6*Math.random()|0),XA={};function zk(n,e,t,r,i){if(r&&r.once)return qk(n,e,t,r,i);if(Array.isArray(e)){for(var u=0;u<e.length;u++)zk(n,e[u],t,r,i);return null}return t=nx(t),n&&n[F_]?n.N(e,t,P_(r)?!!r.capture:!!r,i):Wk(n,e,t,!1,r,i)}function Wk(n,e,t,r,i,u){if(!e)throw Error("Invalid event type");var c=P_(i)?!!i.capture:!!i,g=ex(n);if(g||(n[QA]=g=new vI(n)),(t=g.add(e,t,r,c,u)).proxy)return t;if(r=function XV(){const e=JV;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)jV||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(Kk(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function qk(n,e,t,r,i){if(Array.isArray(e)){for(var u=0;u<e.length;u++)qk(n,e[u],t,r,i);return null}return t=nx(t),n&&n[F_]?n.O(e,t,P_(r)?!!r.capture:!!r,i):Wk(n,e,t,!0,r,i)}function Zk(n,e,t,r,i){if(Array.isArray(e))for(var u=0;u<e.length;u++)Zk(n,e[u],t,r,i);else r=P_(r)?!!r.capture:!!r,t=nx(t),n&&n[F_]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=YA(u=n.g[e],t,r,i))&&(_I(u[t]),Array.prototype.splice.call(u,t,1),0==u.length&&(delete n.g[e],n.h--))):n&&(n=ex(n))&&(e=n.g[e.toString()],n=-1,e&&(n=YA(e,t,r,i)),(t=-1<n?e[n]:null)&&JA(t))}function JA(n){if("number"!=typeof n&&n&&!n.ba){var e=n.src;if(e&&e[F_])KA(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(Kk(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=ex(e))?(KA(t,n),0==t.h&&(t.src=null,e[QA]=null)):_I(n)}}}function Kk(n){return n in XA?XA[n]:XA[n]="on"+n}function JV(n,e){if(n.ba)n=!0;else{e=new N_(e,this);var t=n.listener,r=n.ha||n.src;n.ea&&JA(n),n=t.call(r,e)}return n}function ex(n){return(n=n[QA])instanceof vI?n:null}var tx="__closure_events_fn_"+(1e9*Math.random()>>>0);function nx(n){return"function"==typeof n?n:(n[tx]||(n[tx]=function(e){return n.handleEvent(e)}),n[tx])}function gr(){fl.call(this),this.i=new vI(this),this.P=this,this.I=null}function Br(n,e){var t,r=n.I;if(r)for(t=[];r;r=r.I)t.push(r);if(n=n.P,r=e.type||e,"string"==typeof e)e=new ti(e,n);else if(e instanceof ti)e.target=e.target||n;else{var i=e;Gk(e=new ti(r,n),i)}if(i=!0,t)for(var u=t.length-1;0<=u;u--){var c=e.g=t[u];i=wI(c,r,!0,e)&&i}if(i=wI(c=e.g=n,r,!0,e)&&i,i=wI(c,r,!1,e)&&i,t)for(u=0;u<t.length;u++)i=wI(c=e.g=t[u],r,!1,e)&&i}function wI(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,u=0;u<e.length;++u){var c=e[u];if(c&&!c.ba&&c.capture==t){var g=c.listener,_=c.ha||c.src;c.ea&&KA(n.i,c),i=!1!==g.call(_,r)&&i}}return i&&!r.defaultPrevented}Ur(gr,fl),gr.prototype[F_]=!0,gr.prototype.removeEventListener=function(n,e,t,r){Zk(this,n,e,t,r)},gr.prototype.M=function(){if(gr.X.M.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)_I(t[r]);delete n.g[e],n.h--}}this.I=null},gr.prototype.N=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},gr.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var rx=vt.JSON.stringify;function eU(){var n=Xk;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var ix,Yk=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new nU,n=>n.reset());class nU{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function rU(n){vt.setTimeout(()=>{throw n},0)}function Qk(n,e){ix||function iU(){var n=vt.Promise.resolve(void 0);ix=function(){n.then(sU)}}(),sx||(ix(),sx=!0),Xk.add(n,e)}var sx=!1,Xk=new class tU{constructor(){this.h=this.g=null}add(e,t){const r=Yk.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function sU(){for(var n;n=eU();){try{n.h.call(n.g)}catch(t){rU(t)}var e=Yk;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}sx=!1}function EI(n,e){gr.call(this),this.h=n||1,this.g=e||vt,this.j=ei(this.lb,this),this.l=Date.now()}function ox(n){n.ca=!1,n.R&&(n.g.clearTimeout(n.R),n.R=null)}function ax(n,e,t){if("function"==typeof n)t&&(n=ei(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=ei(n.handleEvent,n)}return 2147483647<Number(e)?-1:vt.setTimeout(n,e||0)}function Jk(n){n.g=ax(()=>{n.g=null,n.i&&(n.i=!1,Jk(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ur(EI,gr),(qe=EI.prototype).ca=!1,qe.R=null,qe.lb=function(){if(this.ca){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-n):(this.R&&(this.g.clearTimeout(this.R),this.R=null),Br(this,"tick"),this.ca&&(ox(this),this.start()))}},qe.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())},qe.M=function(){EI.X.M.call(this),ox(this),delete this.g};class oU extends fl{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:Jk(this)}M(){super.M(),this.g&&(vt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function L_(n){fl.call(this),this.h=n,this.g={}}Ur(L_,fl);var eP=[];function tP(n,e,t,r){Array.isArray(t)||(t&&(eP[0]=t.toString()),t=eP);for(var i=0;i<t.length;i++){var u=zk(e,t[i],r||n.handleEvent,!1,n.h||n);if(!u)break;n.g[u.key]=u}}function nP(n){ZA(n.g,function(e,t){this.g.hasOwnProperty(t)&&JA(e)},n),n.g={}}function DI(){this.g=!0}function kp(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function cU(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var u=i[0];if("noop"!=u&&"stop"!=u&&"close"!=u)for(var c=1;c<i.length;c++)i[c]=""}}}return rx(t)}catch{return e}}(n,t)+(r?" "+r:"")})}L_.prototype.M=function(){L_.X.M.call(this),nP(this)},L_.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},DI.prototype.Aa=function(){this.g=!1},DI.prototype.info=function(){};var vd={},rP=null;function II(){return rP=rP||new gr}function iP(n){ti.call(this,vd.Pa,n)}function V_(n){const e=II();Br(e,new iP(e))}function sP(n,e){ti.call(this,vd.STAT_EVENT,n),this.stat=e}function hi(n){const e=II();Br(e,new sP(e,n))}function oP(n,e){ti.call(this,vd.Qa,n),this.size=e}function U_(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return vt.setTimeout(function(){n()},e)}vd.Pa="serverreachability",Ur(iP,ti),vd.STAT_EVENT="statevent",Ur(sP,ti),vd.Qa="timingevent",Ur(oP,ti);var CI={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},aP={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function ux(){}function lP(){}ux.prototype.h=null;var dx,B_={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function lx(){ti.call(this,"d")}function cx(){ti.call(this,"c")}function bI(){}function $_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.U=r||1,this.S=new L_(this),this.O=dU,this.T=new EI(n=HA?125:void 0),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new cP}function cP(){this.i=null,this.g="",this.h=!1}Ur(lx,ti),Ur(cx,ti),Ur(bI,ux),bI.prototype.g=function(){return new XMLHttpRequest},bI.prototype.i=function(){return{}},dx=new bI;var dU=45e3,hx={},SI={};function fx(n,e,t){n.K=1,n.v=MI(Ha(e)),n.s=t,n.P=!0,dP(n,null)}function dP(n,e){n.F=Date.now(),j_(n),n.A=Ha(n.v);var t=n.A,r=n.U;Array.isArray(r)||(r=[String(r)]),EP(t.i,"t",r),n.C=0,t=n.l.H,n.h=new cP,n.g=zP(n.l,t?e:null,!n.s),0<n.N&&(n.L=new oU(ei(n.La,n,n.g),n.N)),tP(n.S,n.g,"readystatechange",n.ib),e=n.H?jk(n.H):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.da(n.A,n.u,n.s,e)):(n.u="GET",n.g.da(n.A,n.u,null,e)),V_(),function aU(n,e,t,r,i,u){n.info(function(){if(n.g)if(u)for(var c="",g=u.split("&"),_=0;_<g.length;_++){var D=g[_].split("=");if(1<D.length){var C=D[0];D=D[1];var T=C.split("_");c=2<=T.length&&"type"==T[1]?c+(C+"=")+D+"&":c+(C+"=redacted&")}}else c=null;else c=u;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.U,n.s)}function hP(n){return!!n.g&&"GET"==n.u&&2!=n.K&&n.l.Da}function fP(n,e,t){let i,r=!0;for(;!n.I&&n.C<t.length;){if(i=hU(n,t),i==SI){4==e&&(n.o=4,hi(14),r=!1),kp(n.j,n.m,null,"[Incomplete Response]");break}if(i==hx){n.o=4,hi(15),kp(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}kp(n.j,n.m,i,null),px(n,i)}hP(n)&&i!=SI&&i!=hx&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,hi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.$&&(n.$=!0,(e=n.l).g==n&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),Dx(e),e.K=!0,hi(11))):(kp(n.j,n.m,t,"[Invalid Chunked Response]"),wd(n),H_(n))}function hU(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?SI:(t=Number(e.substring(t,r)),isNaN(t)?hx:(r+=1)+t>e.length?SI:(e=e.substr(r,t),n.C=r+t,e))}function j_(n){n.V=Date.now()+n.O,pP(n,n.O)}function pP(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=U_(ei(n.gb,n),e)}function TI(n){n.B&&(vt.clearTimeout(n.B),n.B=null)}function H_(n){0==n.l.G||n.I||$P(n.l,n)}function wd(n){TI(n);var e=n.L;e&&"function"==typeof e.na&&e.na(),n.L=null,ox(n.T),nP(n.S),n.g&&(e=n.g,n.g=null,e.abort(),e.na())}function px(n,e){try{var t=n.l;if(0!=t.G&&(t.g==n||gx(t.h,n)))if(!n.J&&gx(t.h,n)&&3==t.G){try{var r=t.Fa.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.F+3e3<n.F))break e;FI(t),PI(t)}Ex(t),hi(18)}}else t.Ba=i[1],0<t.Ba-t.T&&37500>i[2]&&t.L&&0==t.A&&!t.v&&(t.v=U_(ei(t.cb,t),6e3));if(1>=CP(t.h)&&t.ja){try{t.ja()}catch{}t.ja=void 0}}else Dd(t,11)}else if((n.J||t.g==n)&&FI(t),!gI(e))for(i=t.Fa.g.parse(e),e=0;e<i.length;e++){let D=i[e];if(t.T=D[0],D=D[1],2==t.G)if("c"==D[0]){t.I=D[1],t.ka=D[2];const C=D[3];null!=C&&(t.ma=C,t.j.info("VER="+t.ma));const T=D[4];null!=T&&(t.Ca=T,t.j.info("SVER="+t.Ca));const P=D[5];null!=P&&"number"==typeof P&&0<P&&(t.J=r=1.5*P,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const $=n.g;if($){const Y=$.g?$.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Y){var u=r.h;u.g||-1==Y.indexOf("spdy")&&-1==Y.indexOf("quic")&&-1==Y.indexOf("h2")||(u.j=u.l,u.g=new Set,u.h&&(mx(u,u.h),u.h=null))}if(r.D){const fe=$.g?$.g.getResponseHeader("X-HTTP-Session-Id"):null;fe&&(r.za=fe,pn(r.F,r.D,fe))}}t.G=3,t.l&&t.l.xa(),t.$&&(t.P=Date.now()-n.F,t.j.info("Handshake RTT: "+t.P+"ms"));var c=n;if((r=t).sa=GP(r,r.H?r.ka:null,r.V),c.J){bP(r.h,c);var g=c,_=r.J;_&&g.setTimeout(_),g.B&&(TI(g),j_(g)),r.g=c}else UP(r);0<t.i.length&&NI(t)}else"stop"!=D[0]&&"close"!=D[0]||Dd(t,7);else 3==t.G&&("stop"==D[0]||"close"==D[0]?"stop"==D[0]?Dd(t,7):wx(t):"noop"!=D[0]&&t.l&&t.l.wa(D),t.A=0)}V_()}catch{}}function gP(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(fI(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function pU(n){if(n.oa&&"function"==typeof n.oa)return n.oa();if(!n.W||"function"!=typeof n.W){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(fI(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function fU(n){if(n.W&&"function"==typeof n.W)return n.W();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(fI(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,u=0;u<i;u++)e.call(void 0,r[u],t&&t[u],n)}(qe=$_.prototype).setTimeout=function(n){this.O=n},qe.ib=function(n){n=n.target;const e=this.L;e&&3==Ga(n)?e.l():this.La(n)},qe.La=function(n){try{if(n==this.g)e:{const C=Ga(this.g);var e=this.g.Ea();if(this.g.aa(),!(3>C)&&(3!=C||HA||this.g&&(this.h.h||this.g.fa()||kP(this.g)))){this.I||4!=C||7==e||V_(),TI(this);var t=this.g.aa();this.Y=t;t:if(hP(this)){var r=kP(this.g);n="";var i=r.length,u=4==Ga(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){wd(this),H_(this);var c="";break t}this.h.i=new vt.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:u&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.fa();if(this.i=200==t,function uU(n,e,t,r,i,u,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+u+" "+c})}(this.j,this.u,this.A,this.m,this.U,C,t),this.i){if(this.Z&&!this.J){t:{if(this.g){var g,_=this.g;if((g=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!gI(g)){var D=g;break t}}D=null}if(!(t=D)){this.i=!1,this.o=3,hi(12),wd(this),H_(this);break e}kp(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,px(this,t)}this.P?(fP(this,C,c),HA&&this.i&&3==C&&(tP(this.S,this.T,"tick",this.hb),this.T.start())):(kp(this.j,this.m,c,null),px(this,c)),4==C&&wd(this),this.i&&!this.I&&(4==C?$P(this.l,this):(this.i=!1,j_(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,hi(12)):(this.o=0,hi(13)),wd(this),H_(this)}}}catch{}},qe.hb=function(){if(this.g){var n=Ga(this.g),e=this.g.fa();this.C<e.length&&(TI(this),fP(this,n,e),this.i&&4!=n&&j_(this))}},qe.cancel=function(){this.I=!0,wd(this)},qe.gb=function(){this.B=null;const n=Date.now();0<=n-this.V?(function lU(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.K&&(V_(),hi(17)),wd(this),this.o=2,H_(this)):pP(this,this.V-n)};var mP=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ed(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Ed){this.h=void 0!==e?e:n.h,AI(this,n.j),this.s=n.s,this.g=n.g,xI(this,n.m),this.l=n.l,e=n.i;var t=new W_;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),yP(this,t),this.o=n.o}else n&&(t=String(n).match(mP))?(this.h=!!e,AI(this,t[1]||"",!0),this.s=G_(t[2]||""),this.g=G_(t[3]||"",!0),xI(this,t[4]),this.l=G_(t[5]||"",!0),yP(this,t[6]||"",!0),this.o=G_(t[7]||"")):(this.h=!!e,this.i=new W_(null,this.h))}function Ha(n){return new Ed(n)}function AI(n,e,t){n.j=t?G_(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xI(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function yP(n,e,t){e instanceof W_?(n.i=e,function EU(n,e){e&&!n.j&&(pl(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(vP(this,r),EP(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=z_(e,vU)),n.i=new W_(e,n.h))}function pn(n,e,t){n.i.set(e,t)}function MI(n){return pn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function G_(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function z_(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,mU),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function mU(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Ed.prototype.toString=function(){var n=[],e=this.j;e&&n.push(z_(e,_P,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(z_(e,_P,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(z_(t,"/"==t.charAt(0)?_U:yU,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",z_(t,wU)),n.join("")};var _P=/[#\/\?@]/g,yU=/[#\?:]/g,_U=/[#\?]/g,vU=/[#\?@]/g,wU=/#/g;function W_(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function pl(n){n.g||(n.g=new Map,n.h=0,n.i&&function gU(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var u=n[t].substring(0,r);i=n[t].substring(r+1)}else u=n[t];e(u,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function vP(n,e){pl(n),e=Pp(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function wP(n,e){return pl(n),e=Pp(n,e),n.g.has(e)}function EP(n,e,t){vP(n,e),0<t.length&&(n.i=null,n.g.set(Pp(n,e),BA(t)),n.h+=t.length)}function Pp(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function DP(n){this.l=n||IU,n=vt.PerformanceNavigationTiming?0<(n=vt.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(vt.g&&vt.g.Ga&&vt.g.Ga()&&vt.g.Ga().$b),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(qe=W_.prototype).add=function(n,e){pl(this),this.i=null,n=Pp(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},qe.forEach=function(n,e){pl(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},qe.oa=function(){pl(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let u=0;u<i.length;u++)t.push(e[r])}return t},qe.W=function(n){pl(this);let e=[];if("string"==typeof n)wP(this,n)&&(e=e.concat(this.g.get(Pp(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},qe.set=function(n,e){return pl(this),this.i=null,wP(this,n=Pp(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},qe.get=function(n,e){return n&&0<(n=this.W(n)).length?String(n[0]):e},qe.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const u=encodeURIComponent(String(r)),c=this.W(r);for(r=0;r<c.length;r++){var i=u;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var IU=10;function IP(n){return!!n.h||!!n.g&&n.g.size>=n.j}function CP(n){return n.h?1:n.g?n.g.size:0}function gx(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function mx(n,e){n.g?n.g.add(e):n.h=e}function bP(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function SP(n){if(null!=n.h)return n.i.concat(n.h.D);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.D);return e}return BA(n.i)}function yx(){}function CU(){this.g=new yx}function bU(n,e,t){const r=t||"";try{gP(n,function(i,u){let c=i;P_(i)&&(c=rx(i)),e.push(r+u+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function RI(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function q_(n){this.l=n.ac||null,this.j=n.jb||!1}function OI(n,e){gr.call(this),this.D=n,this.u=e,this.m=void 0,this.readyState=_x,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}DP.prototype.cancel=function(){if(this.i=SP(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},yx.prototype.stringify=function(n){return vt.JSON.stringify(n,void 0)},yx.prototype.parse=function(n){return vt.JSON.parse(n,void 0)},Ur(q_,ux),q_.prototype.g=function(){return new OI(this.l,this.j)},q_.prototype.i=function(n){return function(){return n}}({}),Ur(OI,gr);var _x=0;function TP(n){n.j.read().then(n.Ta.bind(n)).catch(n.ga.bind(n))}function Z_(n){n.readyState=4,n.l=null,n.j=null,n.A=null,K_(n)}function K_(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(qe=OI.prototype).open=function(n,e){if(this.readyState!=_x)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,K_(this)},qe.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.D||vt).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))},qe.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Z_(this)),this.readyState=_x},qe.Wa=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,K_(this)),this.g&&(this.readyState=3,K_(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof vt.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;TP(this)}else n.text().then(this.Va.bind(this),this.ga.bind(this))},qe.Ta=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Z_(this):K_(this),3==this.readyState&&TP(this)}},qe.Va=function(n){this.g&&(this.response=this.responseText=n,Z_(this))},qe.Ua=function(n){this.g&&(this.response=n,Z_(this))},qe.ga=function(){this.g&&Z_(this)},qe.setRequestHeader=function(n,e){this.v.append(n,e)},qe.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},qe.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(OI.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var TU=vt.JSON.parse;function Mn(n){gr.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=AP,this.K=this.L=!1}Ur(Mn,gr);var AP="",AU=/^https?$/i,xU=["POST","PUT"];function xP(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,MP(n),kI(n)}function MP(n){n.D||(n.D=!0,Br(n,"complete"),Br(n,"error"))}function RP(n){if(n.h&&typeof VA<"u"&&(!n.C[1]||4!=Ga(n)||2!=n.aa()))if(n.v&&4==Ga(n))ax(n.Ha,0,n);else if(Br(n,"readystatechange"),4==Ga(n)){n.h=!1;try{const g=n.aa();e:switch(g){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===g){var i=String(n.H).match(mP)[1]||null;if(!i&&vt.self&&vt.self.location){var u=vt.self.location.protocol;i=u.substr(0,u.length-1)}r=!AU.test(i?i.toLowerCase():"")}t=r}if(t)Br(n,"complete"),Br(n,"success");else{n.m=6;try{var c=2<Ga(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.aa()+"]",MP(n)}}finally{kI(n)}}}function kI(n,e){if(n.g){OP(n);const t=n.g,r=n.C[0]?hI:null;n.g=null,n.C=null,e||Br(n,"ready");try{t.onreadystatechange=r}catch{}}}function OP(n){n.g&&n.K&&(n.g.ontimeout=null),n.A&&(vt.clearTimeout(n.A),n.A=null)}function Ga(n){return n.g?n.g.readyState:0}function kP(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.J){case AP:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function PP(n){let e="";return ZA(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function vx(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=PP(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):pn(n,e,t))}function Y_(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function NP(n){this.Ca=0,this.i=[],this.j=new DI,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Y_("failFast",!1,n),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Y_("baseRetryDelayMs",5e3,n),this.bb=Y_("retryDelaySeedMs",1e4,n),this.$a=Y_("forwardChannelMaxRetries",2,n),this.ta=Y_("forwardChannelRequestTimeoutMs",2e4,n),this.ra=n&&n.xmlHttpFactory||void 0,this.Da=n&&n.Zb||!1,this.J=void 0,this.H=n&&n.supportsCrossDomainXhr||!1,this.I="",this.h=new DP(n&&n.concurrentRequestLimit),this.Fa=new CU,this.O=n&&n.fastHandshake||!1,this.N=n&&n.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=n&&n.Xb||!1,n&&n.Aa&&this.j.Aa(),n&&n.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&n&&n.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}function wx(n){if(FP(n),3==n.G){var e=n.U++,t=Ha(n.F);pn(t,"SID",n.I),pn(t,"RID",e),pn(t,"TYPE","terminate"),Q_(n,t),(e=new $_(n,n.j,e,void 0)).K=2,e.v=MI(Ha(t)),t=!1,vt.navigator&&vt.navigator.sendBeacon&&(t=vt.navigator.sendBeacon(e.v.toString(),"")),!t&&vt.Image&&((new Image).src=e.v,t=!0),t||(e.g=zP(e.l,null),e.g.da(e.v)),e.F=Date.now(),j_(e)}HP(n)}function PI(n){n.g&&(Dx(n),n.g.cancel(),n.g=null)}function FP(n){PI(n),n.u&&(vt.clearTimeout(n.u),n.u=null),FI(n),n.h.cancel(),n.m&&("number"==typeof n.m&&vt.clearTimeout(n.m),n.m=null)}function NI(n){IP(n.h)||n.m||(n.m=!0,Qk(n.Ja,n),n.C=0)}function LP(n,e){var t;t=e?e.m:n.U++;const r=Ha(n.F);pn(r,"SID",n.I),pn(r,"RID",t),pn(r,"AID",n.T),Q_(n,r),n.o&&n.s&&vx(r,n.o,n.s),t=new $_(n,n.j,t,n.C+1),null===n.o&&(t.H=n.s),e&&(n.i=e.D.concat(n.i)),e=VP(n,t,1e3),t.setTimeout(Math.round(.5*n.ta)+Math.round(.5*n.ta*Math.random())),mx(n.h,t),fx(t,r,e)}function Q_(n,e){n.ia&&ZA(n.ia,function(t,r){pn(e,r,t)}),n.l&&gP({},function(t,r){pn(e,r,t)})}function VP(n,e,t){t=Math.min(n.i.length,t);var r=n.l?ei(n.l.Ra,n.l,n):null;e:{var i=n.i;let u=-1;for(;;){const c=["count="+t];-1==u?0<t?(u=i[0].h,c.push("ofs="+u)):u=0:c.push("ofs="+u);let g=!0;for(let _=0;_<t;_++){let D=i[_].h;const C=i[_].g;if(D-=u,0>D)u=Math.max(0,i[_].h-100),g=!1;else try{bU(C,c,"req"+D+"_")}catch{r&&r(C)}}if(g){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.D=n,r}function UP(n){n.g||n.u||(n.Z=1,Qk(n.Ia,n),n.A=0)}function Ex(n){return!(n.g||n.u||3<=n.A||(n.Z++,n.u=U_(ei(n.Ia,n),jP(n,n.A)),n.A++,0))}function Dx(n){null!=n.B&&(vt.clearTimeout(n.B),n.B=null)}function BP(n){n.g=new $_(n,n.j,"rpc",n.Z),null===n.o&&(n.g.H=n.s),n.g.N=0;var e=Ha(n.sa);pn(e,"RID","rpc"),pn(e,"SID",n.I),pn(e,"CI",n.L?"0":"1"),pn(e,"AID",n.T),pn(e,"TYPE","xmlhttp"),Q_(n,e),n.o&&n.s&&vx(e,n.o,n.s),n.J&&n.g.setTimeout(n.J);var t=n.g;n=n.ka,t.K=1,t.v=MI(Ha(e)),t.s=null,t.P=!0,dP(t,n)}function FI(n){null!=n.v&&(vt.clearTimeout(n.v),n.v=null)}function $P(n,e){var t=null;if(n.g==e){FI(n),Dx(n),n.g=null;var r=2}else{if(!gx(n.h,e))return;t=e.D,bP(n.h,e),r=1}if(0!=n.G)if(n.pa=e.Y,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.F;var i=n.C;Br(r=II(),new oP(r,t)),NI(n)}else UP(n);else if(3==(i=e.o)||0==i&&0<n.pa||!(1==r&&function RU(n,e){return!(CP(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.D.concat(n.i),0):1==n.G||2==n.G||n.C>=(n.Za?0:n.$a)||(n.m=U_(ei(n.Ja,n,e),jP(n,n.C)),n.C++,0)))}(n,e)||2==r&&Ex(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Dd(n,5);break;case 4:Dd(n,10);break;case 3:Dd(n,6);break;default:Dd(n,2)}}function jP(n,e){let t=n.Xa+Math.floor(Math.random()*n.bb);return n.l||(t*=2),t*e}function Dd(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=ei(n.kb,n);t||(t=new Ed("//www.google.com/images/cleardot.gif"),vt.location&&"http"==vt.location.protocol||AI(t,"https"),MI(t)),function SU(n,e){const t=new DI;if(vt.Image){const r=new Image;r.onload=pI(RI,t,r,"TestLoadImage: loaded",!0,e),r.onerror=pI(RI,t,r,"TestLoadImage: error",!1,e),r.onabort=pI(RI,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=pI(RI,t,r,"TestLoadImage: timeout",!1,e),vt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else hi(2);n.G=0,n.l&&n.l.va(e),HP(n),FP(n)}function HP(n){if(n.G=0,n.la=[],n.l){const e=SP(n.h);(0!=e.length||0!=n.i.length)&&(Fk(n.la,e),Fk(n.la,n.i),n.h.i.length=0,BA(n.i),n.i.length=0),n.l.ua()}}function GP(n,e,t){var r=t instanceof Ed?Ha(t):new Ed(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),xI(r,r.m);else{var i=vt.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var u=new Ed(null,void 0);r&&AI(u,r),e&&(u.g=e),i&&xI(u,i),t&&(u.l=t),r=u}return e=n.za,(t=n.D)&&e&&pn(r,t,e),pn(r,"VER",n.ma),Q_(n,r),r}function zP(n,e,t){if(e&&!n.H)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new Mn(t&&n.Da&&!n.ra?new q_({jb:!0}):n.ra)).Ka(n.H),e}function WP(){}function LI(){if(Op&&!(10<=Number(ZV)))throw Error("Environmental error: no available transport.")}function $i(n,e){gr.call(this),this.g=new NP(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(n?n["X-WebChannel-Client-Profile"]=e.ya:n={"X-WebChannel-Client-Profile":e.ya}),this.g.S=n,(n=e&&e.Yb)&&!gI(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!gI(e)&&(this.g.D=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Np(this)}function qP(n){lx.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ZP(){cx.call(this),this.status=1}function Np(n){this.g=n}(qe=Mn.prototype).Ka=function(n){this.L=n},qe.da=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+n);e=e?e.toUpperCase():"GET",this.H=n,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():dx.g(),this.C=function uP(n){return n.h||(n.h=n.i())}(this.u?this.u:dx),this.g.onreadystatechange=ei(this.Ha,this);try{this.F=!0,this.g.open(e,String(n),!0),this.F=!1}catch(u){return void xP(this,u)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const u of r.keys())t.set(u,r.get(u))}r=Array.from(t.keys()).find(u=>"content-type"==u.toLowerCase()),i=vt.FormData&&n instanceof vt.FormData,!(0<=Nk(xU,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[u,c]of t)this.g.setRequestHeader(u,c);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{OP(this),0<this.B&&((this.K=function MU(n){return Op&&function qV(){return function HV(n){var e=WV;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=n(9)}(function(){let n=0;const e=Lk(String(yI)).split("."),t=Lk("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",u=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],u=/(\d*)(\D*)(.*)/.exec(u)||["","","",""],0==i[0].length&&0==u[0].length)break;n=$A(0==i[1].length?0:parseInt(i[1],10),0==u[1].length?0:parseInt(u[1],10))||$A(0==i[2].length,0==u[2].length)||$A(i[2],u[2]),i=i[3],u=u[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=ei(this.qa,this)):this.A=ax(this.qa,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(u){xP(this,u)}},qe.qa=function(){typeof VA<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Br(this,"timeout"),this.abort(8))},qe.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,Br(this,"complete"),Br(this,"abort"),kI(this))},qe.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kI(this,!0)),Mn.X.M.call(this)},qe.Ha=function(){this.s||(this.F||this.v||this.l?RP(this):this.fb())},qe.fb=function(){RP(this)},qe.aa=function(){try{return 2<Ga(this)?this.g.status:-1}catch{return-1}},qe.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}},qe.Sa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),TU(e)}},qe.Ea=function(){return this.m},qe.Oa=function(){return"string"==typeof this.j?this.j:String(this.j)},(qe=NP.prototype).ma=8,qe.G=1,qe.Ja=function(n){if(this.m)if(this.m=null,1==this.G){if(!n){this.U=Math.floor(1e5*Math.random()),n=this.U++;const i=new $_(this,this.j,n,void 0);let u=this.s;if(this.S&&(u?(u=jk(u),Gk(u,this.S)):u=this.S),null!==this.o||this.N||(i.H=u,u=null),this.O)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=VP(this,i,e),pn(t=Ha(this.F),"RID",n),pn(t,"CVER",22),this.D&&pn(t,"X-HTTP-Session-Id",this.D),Q_(this,t),u&&(this.N?e="headers="+encodeURIComponent(String(PP(u)))+"&"+e:this.o&&vx(t,this.o,u)),mx(this.h,i),this.Ya&&pn(t,"TYPE","init"),this.O?(pn(t,"$req",e),pn(t,"SID","null"),i.Z=!0,fx(i,t,null)):fx(i,t,e),this.G=2}}else 3==this.G&&(n?LP(this,n):0==this.i.length||IP(this.h)||LP(this))},qe.Ia=function(){if(this.u=null,BP(this),this.$&&!(this.K||null==this.g||0>=this.P)){var n=2*this.P;this.j.info("BP detection timer enabled: "+n),this.B=U_(ei(this.eb,this),n)}},qe.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,hi(10),PI(this),BP(this))},qe.cb=function(){null!=this.v&&(this.v=null,PI(this),Ex(this),hi(19))},qe.kb=function(n){n?(this.j.info("Successfully pinged google.com"),hi(2)):(this.j.info("Failed to ping google.com"),hi(1))},(qe=WP.prototype).xa=function(){},qe.wa=function(){},qe.va=function(){},qe.ua=function(){},qe.Ra=function(){},LI.prototype.g=function(n,e){return new $i(n,e)},Ur($i,gr),$i.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var n=this.g,e=this.l,t=this.h||void 0;hi(0),n.V=e,n.ia=t||{},n.L=n.Y,n.F=GP(n,null,n.V),NI(n)},$i.prototype.close=function(){wx(this.g)},$i.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=rx(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.ab++,n)),3==e.G&&NI(e)},$i.prototype.M=function(){this.g.l=null,delete this.j,wx(this.g),delete this.g,$i.X.M.call(this)},Ur(qP,lx),Ur(ZP,cx),Ur(Np,WP),Np.prototype.xa=function(){Br(this.g,"a")},Np.prototype.wa=function(n){Br(this.g,new qP(n))},Np.prototype.va=function(n){Br(this.g,new ZP)},Np.prototype.ua=function(){Br(this.g,"b")},LI.prototype.createWebChannel=LI.prototype.g,$i.prototype.send=$i.prototype.u,$i.prototype.open=$i.prototype.m,$i.prototype.close=$i.prototype.close,CI.NO_ERROR=0,CI.TIMEOUT=8,CI.HTTP_ERROR=6,aP.COMPLETE="complete",lP.EventType=B_,B_.OPEN="a",B_.CLOSE="b",B_.ERROR="c",B_.MESSAGE="d",gr.prototype.listen=gr.prototype.N,Mn.prototype.listenOnce=Mn.prototype.O,Mn.prototype.getLastError=Mn.prototype.Oa,Mn.prototype.getLastErrorCode=Mn.prototype.Ea,Mn.prototype.getStatus=Mn.prototype.aa,Mn.prototype.getResponseJson=Mn.prototype.Sa,Mn.prototype.getResponseText=Mn.prototype.fa,Mn.prototype.send=Mn.prototype.da,Mn.prototype.setWithCredentials=Mn.prototype.Ka;var OU=ja.createWebChannelTransport=function(){return new LI},kU=ja.getStatEventTarget=function(){return II()},Ix=ja.ErrorCode=CI,PU=ja.EventType=aP,NU=ja.Event=vd,KP=ja.Stat={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},FU=ja.FetchXmlHttpFactory=q_,VI=ja.WebChannel=lP,LU=ja.XhrIo=Mn;const YP="@firebase/firestore";class mr{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}mr.UNAUTHENTICATED=new mr(null),mr.GOOGLE_CREDENTIALS=new mr("google-credentials-uid"),mr.FIRST_PARTY=new mr("first-party-uid"),mr.MOCK_USER=new mr("mock-user");let Fp="9.16.0";const gl=new hs.Yd("@firebase/firestore");function Cx(){return gl.logLevel}function De(n,...e){if(gl.logLevel<=hs.in.DEBUG){const t=e.map(bx);gl.debug(`Firestore (${Fp}): ${n}`,...t)}}function Vn(n,...e){if(gl.logLevel<=hs.in.ERROR){const t=e.map(bx);gl.error(`Firestore (${Fp}): ${n}`,...t)}}function Lp(n,...e){if(gl.logLevel<=hs.in.WARN){const t=e.map(bx);gl.warn(`Firestore (${Fp}): ${n}`,...t)}}function bx(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function je(n="Unexpected state"){const e=`FIRESTORE (${Fp}) INTERNAL ASSERTION FAILED: `+n;throw Vn(e),new Error(e)}function We(n,e){n||je()}function Fe(n,e){return n}const ee={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class we extends Ct.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class or{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class QP{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mr.UNAUTHENTICATED))}shutdown(){}}class UU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class BU{constructor(e){this.t=e,this.currentUser=mr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const u=D=>this.i!==i?(i=this.i,t(D)):Promise.resolve();let c=new or;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new or,e.enqueueRetryable(()=>u(this.currentUser))};const g=()=>{const D=c;e.enqueueRetryable((0,oe.Z)(function*(){yield D.promise,yield u(r.currentUser)}))},_=D=>{De("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=D,this.auth.addAuthTokenListener(this.o),g()};this.t.onInit(D=>_(D)),setTimeout(()=>{if(!this.auth){const D=this.t.getImmediate({optional:!0});D?_(D):(De("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new or)}},0),g()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(De("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(We("string"==typeof r.accessToken),new QP(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return We(null===e||"string"==typeof e),new mr(e)}}class $U{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i,this.type="FirstParty",this.user=mr.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(We(!("object"!=typeof this.h||null===this.h||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class jU{constructor(e,t,r,i){this.h=e,this.l=t,this.m=r,this.g=i}getToken(){return Promise.resolve(new $U(this.h,this.l,this.m,this.g))}start(e,t){e.enqueueRetryable(()=>t(mr.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class XP{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HU{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,t){const r=u=>{null!=u.error&&De("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const c=u.token!==this.A;return this.A=u.token,De("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>r(u))};const i=u=>{De("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.appCheck.addTokenListener(this.o)};this.T.onInit(u=>i(u)),setTimeout(()=>{if(!this.appCheck){const u=this.T.getImmediate({optional:!0});u?i(u):De("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(We("string"==typeof t.token),this.A=t.token,new XP(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function GU(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class JP{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=GU(40);for(let u=0;u<i.length;++u)r.length<20&&i[u]<t&&(r+=e.charAt(i[u]%e.length))}return r}}function wt(n,e){return n<e?-1:n>e?1:0}function Vp(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}class Dn{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new we(ee.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new we(ee.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Dn.fromMillis(Date.now())}static fromDate(e){return Dn.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Dn(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?wt(this.nanoseconds,e.nanoseconds):wt(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Je{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Je(e)}static min(){return new Je(new Dn(0,0))}static max(){return new Je(new Dn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class X_{constructor(e,t,r){void 0===t?t=0:t>e.length&&je(),void 0===r?r=e.length-t:r>e.length-t&&je(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===X_.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof X_?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const u=e.get(i),c=t.get(i);if(u<c)return-1;if(u>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class jt extends X_{construct(e,t,r){return new jt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new we(ee.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new jt(t)}static emptyPath(){return new jt([])}}const zU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Un extends X_{construct(e,t,r){return new Un(e,t,r)}static isValidIdentifier(e){return zU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Un.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Un(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const u=()=>{if(0===r.length)throw new we(ee.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const g=e[i];if("\\"===g){if(i+1===e.length)throw new we(ee.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new we(ee.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===g?(c=!c,i++):"."!==g||c?(r+=g,i++):(u(),i++)}if(u(),c)throw new we(ee.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Un(t)}static emptyPath(){return new Un([])}}class Ne{constructor(e){this.path=e}static fromPath(e){return new Ne(jt.fromString(e))}static fromName(e){return new Ne(jt.fromString(e).popFirst(5))}static empty(){return new Ne(jt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===jt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return jt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ne(new jt(e.slice()))}}function nN(n){return new ji(n.readTime,n.key,-1)}class ji{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new ji(Je.min(),Ne.empty(),-1)}static max(){return new ji(Je.max(),Ne.empty(),-1)}}function Tx(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=Ne.comparator(n.documentKey,e.documentKey),0!==t?t:wt(n.largestBatchId,e.largestBatchId))}const rN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function ml(n){return Ax.apply(this,arguments)}function Ax(){return Ax=(0,oe.Z)(function*(n){if(n.code!==ee.FAILED_PRECONDITION||n.message!==rN)throw n;De("LocalStore","Unexpectedly lost primary lease")}),Ax.apply(this,arguments)}class X{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&je(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new X((r,i)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(r,i)},this.catchCallback=u=>{this.wrapFailure(t,u).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof X?t:X.resolve(t)}catch(t){return X.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):X.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):X.reject(t)}static resolve(e){return new X((t,r)=>{t(e)})}static reject(e){return new X((t,r)=>{r(e)})}static waitFor(e){return new X((t,r)=>{let i=0,u=0,c=!1;e.forEach(g=>{++i,g.next(()=>{++u,c&&u===i&&t()},_=>r(_))}),c=!0,u===i&&t()})}static or(e){let t=X.resolve(!1);for(const r of e)t=t.next(i=>i?X.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,u)=>{r.push(t.call(this,i,u))}),this.waitFor(r)}static mapArray(e,t){return new X((r,i)=>{const u=e.length,c=new Array(u);let g=0;for(let _=0;_<u;_++){const D=_;t(e[D]).next(C=>{c[D]=C,++g,g===u&&r(c)},C=>i(C))}})}static doWhile(e,t){return new X((r,i)=>{const u=()=>{!0===e()?t().next(()=>{u()},i):r()};u()})}}function yl(n){return"IndexedDbTransactionError"===n.name}let Hi=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ut(i),this.ct=i=>r.writeSequenceNumber(i))}ut(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ct&&this.ct(t),t}}return n.at=-1,n})();class JU{constructor(e,t,r,i,u,c,g,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=u,this.forceLongPolling=c,this.autoDetectLongPolling=g,this.useFetchStreams=_}}class bd{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new bd("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof bd&&e.projectId===this.projectId&&e.database===this.database}}function sN(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function Sd(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function oN(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function tv(n){return null==n}function nv(n){return 0===n&&1/n==-1/0}class ar{constructor(e){this.binaryString=e}static fromBase64String(e){const t=atob(e);return new ar(t)}static fromUint8Array(e){const t=function(r){let i="";for(let u=0;u<r.length;++u)i+=String.fromCharCode(r[u]);return i}(e);return new ar(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return wt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ar.EMPTY_BYTE_STRING=new ar("");const eB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function _l(n){if(We(!!n),"string"==typeof n){let e=0;const t=eB.exec(n);if(We(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Rn(n.seconds),nanos:Rn(n.nanos)}}function Rn(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function Td(n){return"string"==typeof n?ar.fromBase64String(n):ar.fromUint8Array(n)}function Mx(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function uN(n){const e=n.mapValue.fields.__previous_value__;return Mx(e)?uN(e):e}function rv(n){const e=_l(n.mapValue.fields.__local_write_time__.timestampValue);return new Dn(e.seconds,e.nanos)}const vl_mapValue={fields:{__type__:{stringValue:"__max__"}}};function Ad(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Mx(n)?4:hN(n)?9007199254740991:10:je()}function Ho(n,e){if(n===e)return!0;const t=Ad(n);if(t!==Ad(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return rv(n).isEqual(rv(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const u=_l(r.timestampValue),c=_l(i.timestampValue);return u.seconds===c.seconds&&u.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,Td(n.bytesValue).isEqual(Td(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return Rn(r.geoPointValue.latitude)===Rn(i.geoPointValue.latitude)&&Rn(r.geoPointValue.longitude)===Rn(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return Rn(r.integerValue)===Rn(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const u=Rn(r.doubleValue),c=Rn(i.doubleValue);return u===c?nv(u)===nv(c):isNaN(u)&&isNaN(c)}return!1}(n,e);case 9:return Vp(n.arrayValue.values||[],e.arrayValue.values||[],Ho);case 10:return function(r,i){const u=r.mapValue.fields||{},c=i.mapValue.fields||{};if(sN(u)!==sN(c))return!1;for(const g in u)if(u.hasOwnProperty(g)&&(void 0===c[g]||!Ho(u[g],c[g])))return!1;return!0}(n,e);default:return je()}var i}function iv(n,e){return void 0!==(n.values||[]).find(t=>Ho(t,e))}function wl(n,e){if(n===e)return 0;const t=Ad(n),r=Ad(e);if(t!==r)return wt(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return wt(n.booleanValue,e.booleanValue);case 2:return function(i,u){const c=Rn(i.integerValue||i.doubleValue),g=Rn(u.integerValue||u.doubleValue);return c<g?-1:c>g?1:c===g?0:isNaN(c)?isNaN(g)?0:-1:1}(n,e);case 3:return lN(n.timestampValue,e.timestampValue);case 4:return lN(rv(n),rv(e));case 5:return wt(n.stringValue,e.stringValue);case 6:return function(i,u){const c=Td(i),g=Td(u);return c.compareTo(g)}(n.bytesValue,e.bytesValue);case 7:return function(i,u){const c=i.split("/"),g=u.split("/");for(let _=0;_<c.length&&_<g.length;_++){const D=wt(c[_],g[_]);if(0!==D)return D}return wt(c.length,g.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,u){const c=wt(Rn(i.latitude),Rn(u.latitude));return 0!==c?c:wt(Rn(i.longitude),Rn(u.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,u){const c=i.values||[],g=u.values||[];for(let _=0;_<c.length&&_<g.length;++_){const D=wl(c[_],g[_]);if(D)return D}return wt(c.length,g.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,u){if(i===vl_mapValue&&u===vl_mapValue)return 0;if(i===vl_mapValue)return 1;if(u===vl_mapValue)return-1;const c=i.fields||{},g=Object.keys(c),_=u.fields||{},D=Object.keys(_);g.sort(),D.sort();for(let C=0;C<g.length&&C<D.length;++C){const T=wt(g[C],D[C]);if(0!==T)return T;const P=wl(c[g[C]],_[D[C]]);if(0!==P)return P}return wt(g.length,D.length)}(n.mapValue,e.mapValue);default:throw je()}}function lN(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return wt(n,e);const t=_l(n),r=_l(e),i=wt(t.seconds,r.seconds);return 0!==i?i:wt(t.nanos,r.nanos)}function Up(n){return Rx(n)}function Rx(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=_l(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?Td(n.bytesValue).toBase64():"referenceValue"in n?Ne.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",u=!0;for(const c of r.values||[])u?u=!1:i+=",",i+=Rx(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let u="{",c=!0;for(const g of i)c?c=!1:u+=",",u+=`${g}:${Rx(r.fields[g])}`;return u+"}"}(n.mapValue):je();var e}function Ox(n){return!!n&&"integerValue"in n}function sv(n){return!!n&&"arrayValue"in n}function cN(n){return!!n&&"nullValue"in n}function dN(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function HI(n){return!!n&&"mapValue"in n}function ov(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return Sd(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=ov(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=ov(n.arrayValue.values[t]);return e}return Object.assign({},n)}function hN(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}class El{constructor(e,t){this.position=e,this.inclusive=t}}function gN(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const u=e[i],c=n.position[i];if(r=u.field.isKeyField()?Ne.comparator(Ne.fromName(c.referenceValue),t.key):wl(c,t.data.field(u.field)),"desc"===u.dir&&(r*=-1),0!==r)break}return r}function mN(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Ho(n.position[t],e.position[t]))return!1;return!0}class yN{}class Ut extends yN{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new rB(e,t,r):"array-contains"===t?new oB(e,r):"in"===t?new IN(e,r):"not-in"===t?new aB(e,r):"array-contains-any"===t?new uB(e,r):new Ut(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new iB(e,r):new sB(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(wl(t,this.value)):null!==t&&Ad(this.value)===Ad(t)&&this.matchesComparison(wl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return je()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class Zt extends yN{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new Zt(e,t)}matches(e){return Bp(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function Bp(n){return"and"===n.op}function Px(n){return function _N(n){for(const e of n.filters)if(e instanceof Zt)return!1;return!0}(n)&&Bp(n)}function Nx(n){if(n instanceof Ut)return n.field.canonicalString()+n.op.toString()+Up(n.value);if(Px(n))return n.filters.map(e=>Nx(e)).join(",");{const e=n.filters.map(t=>Nx(t)).join(",");return`${n.op}(${e})`}}function vN(n,e){return n instanceof Ut?(t=n,(r=e)instanceof Ut&&t.op===r.op&&t.field.isEqual(r.field)&&Ho(t.value,r.value)):n instanceof Zt?function(t,r){return r instanceof Zt&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,u,c)=>i&&vN(u,r.filters[c]),!0)}(n,e):void je();var t,r}function EN(n){return n instanceof Ut?`${(e=n).field.canonicalString()} ${e.op} ${Up(e.value)}`:n instanceof Zt?function(e){return e.op.toString()+" {"+e.getFilters().map(EN).join(" ,")+"}"}(n):"Filter";var e}class rB extends Ut{constructor(e,t,r){super(e,t,r),this.key=Ne.fromName(r.referenceValue)}matches(e){const t=Ne.comparator(e.key,this.key);return this.matchesComparison(t)}}class iB extends Ut{constructor(e,t){super(e,"in",t),this.keys=DN(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class sB extends Ut{constructor(e,t){super(e,"not-in",t),this.keys=DN(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function DN(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>Ne.fromName(r.referenceValue))}class oB extends Ut{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return sv(t)&&iv(t.arrayValue,this.value)}}class IN extends Ut{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&iv(this.value.arrayValue,t)}}class aB extends Ut{constructor(e,t){super(e,"not-in",t)}matches(e){if(iv(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!iv(this.value.arrayValue,t)}}class uB extends Ut{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!sv(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>iv(this.value.arrayValue,r))}}class $p{constructor(e,t="asc"){this.field=e,this.dir=t}}function lB(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class On{constructor(e,t){this.comparator=e,this.root=t||$r.EMPTY}insert(e,t){return new On(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,$r.BLACK,null,null))}remove(e){return new On(this.comparator,this.root.remove(e,this.comparator).copy(null,null,$r.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new GI(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new GI(this.root,e,this.comparator,!1)}getReverseIterator(){return new GI(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new GI(this.root,e,this.comparator,!0)}}class GI{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=t?r(e.key,t):1,t&&i&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(0===u){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class $r{constructor(e,t,r,i,u){this.key=e,this.value=t,this.color=r??$r.RED,this.left=i??$r.EMPTY,this.right=u??$r.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,u){return new $r(e??this.key,t??this.value,r??this.color,i??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const u=r(e,i.key);return i=u<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===u?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return $r.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return $r.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,$r.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,$r.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw je();const e=this.left.check();if(e!==this.right.check())throw je();return e+(this.isRed()?0:1)}}$r.EMPTY=null,$r.RED=!0,$r.BLACK=!1,$r.EMPTY=new class{constructor(){this.size=0}get key(){throw je()}get value(){throw je()}get color(){throw je()}get left(){throw je()}get right(){throw je()}copy(n,e,t,r,i){return this}insert(n,e,t){return new $r(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Xt{constructor(e){this.comparator=e,this.data=new On(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new CN(this.data.getIterator())}getIteratorFrom(e){return new CN(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Xt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(0!==this.comparator(i,u))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Xt(this.comparator);return t.data=e,t}}class CN{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class Ei{constructor(e){this.fields=e,e.sort(Un.comparator)}static empty(){return new Ei([])}unionWith(e){let t=new Xt(Un.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new Ei(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Vp(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class jr{constructor(e){this.value=e}static empty(){return new jr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!HI(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=ov(t)}setAll(e){let t=Un.emptyPath(),r={},i=[];e.forEach((c,g)=>{if(!t.isImmediateParentOf(g)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=g.popLast()}c?r[g.lastSegment()]=ov(c):i.push(g.lastSegment())});const u=this.getFieldsMap(t);this.applyChanges(u,r,i)}delete(e){const t=this.field(e.popLast());HI(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Ho(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];HI(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){Sd(t,(i,u)=>e[i]=u);for(const i of r)delete e[i]}clone(){return new jr(ov(this.value))}}function bN(n){const e=[];return Sd(n.fields,(t,r)=>{const i=new Un([t]);if(HI(r)){const u=bN(r.mapValue).fields;if(0===u.length)e.push(i);else for(const c of u)e.push(i.child(c))}else e.push(i)}),new Ei(e)}class un{constructor(e,t,r,i,u,c,g){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=u,this.data=c,this.documentState=g}static newInvalidDocument(e){return new un(e,0,Je.min(),Je.min(),Je.min(),jr.empty(),0)}static newFoundDocument(e,t,r,i){return new un(e,1,t,Je.min(),r,i,0)}static newNoDocument(e,t){return new un(e,2,t,Je.min(),Je.min(),jr.empty(),0)}static newUnknownDocument(e,t){return new un(e,3,t,Je.min(),Je.min(),jr.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Je.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=jr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=jr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Je.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof un&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new un(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class cB{constructor(e,t=null,r=[],i=[],u=null,c=null,g=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=u,this.startAt=c,this.endAt=g,this.ft=null}}function Fx(n,e=null,t=[],r=[],i=null,u=null,c=null){return new cB(n,e,t,r,i,u,c)}function Md(n){const e=Fe(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Nx(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),tv(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Up(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Up(r)).join(",")),e.ft=t}return e.ft}function av(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lB(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!vN(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!mN(n.startAt,e.startAt)&&mN(n.endAt,e.endAt)}function zI(n){return Ne.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}class za{constructor(e,t=null,r=[],i=[],u=null,c="F",g=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=u,this.limitType=c,this.startAt=g,this.endAt=_,this.dt=null,this._t=null}}function Hp(n){return new za(n)}function xN(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function Rd(n){const e=Fe(n);if(null===e.dt){e.dt=[];const t=function qI(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}(e),r=function Lx(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new $p(t)),e.dt.push(new $p(Un.keyField(),"asc"));else{let i=!1;for(const u of e.explicitOrderBy)e.dt.push(u),u.field.isKeyField()&&(i=!0);if(!i){const u=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new $p(Un.keyField(),u))}}}return e.dt}function fi(n){const e=Fe(n);if(!e._t)if("F"===e.limitType)e._t=Fx(e.path,e.collectionGroup,Rd(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const u of Rd(e))t.push(new $p(u.field,"desc"===u.dir?"asc":"desc"));const r=e.endAt?new El(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new El(e.startAt.position,e.startAt.inclusive):null;e._t=Fx(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function ZI(n,e,t){return new za(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function uv(n,e){return av(fi(n),fi(e))&&n.limitType===e.limitType}function MN(n){return`${Md(fi(n))}|lt:${n.limitType}`}function Bx(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>EN(r)).join(", ")}]`),tv(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Up(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Up(r)).join(",")),`Target(${t})`}(fi(n))}; limitType=${n.limitType})`}function $x(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):Ne.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of Rd(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,u,c){const g=gN(i,u,c);return i.inclusive?g<=0:g<0}(t.startAt,Rd(t),r)||t.endAt&&!function(i,u,c){const g=gN(i,u,c);return i.inclusive?g>=0:g>0}(t.endAt,Rd(t),r)));var t,r}function ON(n){return(e,t)=>{let r=!1;for(const i of Rd(n)){const u=dB(i,e,t);if(0!==u)return u;r=r||i.field.isKeyField()}return 0}}function dB(n,e,t){const r=n.field.isKeyField()?Ne.comparator(e.key,t.key):function(i,u,c){const g=u.data.field(i),_=c.data.field(i);return null!==g&&null!==_?wl(g,_):je()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return je()}}function kN(n,e){if(n.wt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:nv(e)?"-0":e}}function PN(n){return{integerValue:""+n}}function NN(n,e){return function aN(n){return"number"==typeof n&&Number.isInteger(n)&&!nv(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}(e)?PN(e):kN(n,e)}class KI{constructor(){this._=void 0}}function hB(n,e,t){return n instanceof Gp?function(r,i){const u={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&(u.fields.__previous_value__=i),{mapValue:u}}(t,e):n instanceof Od?LN(n,e):n instanceof kd?VN(n,e):function(r,i){const u=FN(r,i),c=UN(u)+UN(r.gt);return Ox(u)&&Ox(r.gt)?PN(c):kN(r.yt,c)}(n,e)}function fB(n,e,t){return n instanceof Od?LN(n,e):n instanceof kd?VN(n,e):t}function FN(n,e){return n instanceof zp?Ox(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Gp extends KI{}class Od extends KI{constructor(e){super(),this.elements=e}}function LN(n,e){const t=BN(e);for(const r of n.elements)t.some(i=>Ho(i,r))||t.push(r);return{arrayValue:{values:t}}}class kd extends KI{constructor(e){super(),this.elements=e}}function VN(n,e){let t=BN(e);for(const r of n.elements)t=t.filter(i=>!Ho(i,r));return{arrayValue:{values:t}}}class zp extends KI{constructor(e,t){super(),this.yt=e,this.gt=t}}function UN(n){return Rn(n.integerValue||n.doubleValue)}function BN(n){return sv(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class gB{constructor(e,t){this.version=e,this.transformResults=t}}class gn{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new gn}static exists(e){return new gn(void 0,e)}static updateTime(e){return new gn(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function YI(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class QI{}function $N(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new qp(n.key,gn.none()):new Wp(n.key,n.data,gn.none());{const t=n.data,r=jr.empty();let i=new Xt(Un.comparator);for(let u of e.fields)if(!i.has(u)){let c=t.field(u);null===c&&u.length>1&&(u=u.popLast(),c=t.field(u)),null===c?r.delete(u):r.set(u,c),i=i.add(u)}return new Wa(n.key,r,new Ei(i.toArray()),gn.none())}}function mB(n,e,t){n instanceof Wp?function(r,i,u){const c=r.value.clone(),g=GN(r.fieldTransforms,i,u.transformResults);c.setAll(g),i.convertToFoundDocument(u.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Wa?function(r,i,u){if(!YI(r.precondition,i))return void i.convertToUnknownDocument(u.version);const c=GN(r.fieldTransforms,i,u.transformResults),g=i.data;g.setAll(HN(r)),g.setAll(c),i.convertToFoundDocument(u.version,g).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function cv(n,e,t,r){return n instanceof Wp?function(i,u,c,g){if(!YI(i.precondition,u))return c;const _=i.value.clone(),D=zN(i.fieldTransforms,g,u);return _.setAll(D),u.convertToFoundDocument(u.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof Wa?function(i,u,c,g){if(!YI(i.precondition,u))return c;const _=zN(i.fieldTransforms,g,u),D=u.data;return D.setAll(HN(i)),D.setAll(_),u.convertToFoundDocument(u.version,D).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(C=>C.field))}(n,e,t,r):(c=t,YI(n.precondition,u=e)?(u.convertToNoDocument(u.version).setHasLocalMutations(),null):c);var u,c}function yB(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),u=FN(r.transform,i||null);null!=u&&(null===t&&(t=jr.empty()),t.set(r.field,u))}return t||null}function jN(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Vp(t,r,(i,u)=>function pB(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof Od&&r instanceof Od||t instanceof kd&&r instanceof kd?Vp(t.elements,r.elements,Ho):t instanceof zp&&r instanceof zp?Ho(t.gt,r.gt):t instanceof Gp&&r instanceof Gp);var t,r}(i,u))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class Wp extends QI{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Wa extends QI{constructor(e,t,r,i,u=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function HN(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function GN(n,e,t){const r=new Map;We(n.length===t.length);for(let i=0;i<t.length;i++){const u=n[i],c=u.transform,g=e.data.field(u.field);r.set(u.field,fB(c,g,t[i]))}return r}function zN(n,e,t){const r=new Map;for(const i of n){const u=i.transform,c=t.data.field(i.field);r.set(i.field,hB(u,c,e))}return r}class qp extends QI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class jx extends QI{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class _B{constructor(e){this.count=e}}var Yn,Ht;function WN(n){switch(n){default:return je();case ee.CANCELLED:case ee.UNKNOWN:case ee.DEADLINE_EXCEEDED:case ee.RESOURCE_EXHAUSTED:case ee.INTERNAL:case ee.UNAVAILABLE:case ee.UNAUTHENTICATED:return!1;case ee.INVALID_ARGUMENT:case ee.NOT_FOUND:case ee.ALREADY_EXISTS:case ee.PERMISSION_DENIED:case ee.FAILED_PRECONDITION:case ee.ABORTED:case ee.OUT_OF_RANGE:case ee.UNIMPLEMENTED:case ee.DATA_LOSS:return!0}}function qN(n){if(void 0===n)return Vn("GRPC error has no .code"),ee.UNKNOWN;switch(n){case Yn.OK:return ee.OK;case Yn.CANCELLED:return ee.CANCELLED;case Yn.UNKNOWN:return ee.UNKNOWN;case Yn.DEADLINE_EXCEEDED:return ee.DEADLINE_EXCEEDED;case Yn.RESOURCE_EXHAUSTED:return ee.RESOURCE_EXHAUSTED;case Yn.INTERNAL:return ee.INTERNAL;case Yn.UNAVAILABLE:return ee.UNAVAILABLE;case Yn.UNAUTHENTICATED:return ee.UNAUTHENTICATED;case Yn.INVALID_ARGUMENT:return ee.INVALID_ARGUMENT;case Yn.NOT_FOUND:return ee.NOT_FOUND;case Yn.ALREADY_EXISTS:return ee.ALREADY_EXISTS;case Yn.PERMISSION_DENIED:return ee.PERMISSION_DENIED;case Yn.FAILED_PRECONDITION:return ee.FAILED_PRECONDITION;case Yn.ABORTED:return ee.ABORTED;case Yn.OUT_OF_RANGE:return ee.OUT_OF_RANGE;case Yn.UNIMPLEMENTED:return ee.UNIMPLEMENTED;case Yn.DATA_LOSS:return ee.DATA_LOSS;default:return je()}}(Ht=Yn||(Yn={}))[Ht.OK=0]="OK",Ht[Ht.CANCELLED=1]="CANCELLED",Ht[Ht.UNKNOWN=2]="UNKNOWN",Ht[Ht.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ht[Ht.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ht[Ht.NOT_FOUND=5]="NOT_FOUND",Ht[Ht.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ht[Ht.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ht[Ht.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ht[Ht.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ht[Ht.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ht[Ht.ABORTED=10]="ABORTED",Ht[Ht.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ht[Ht.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ht[Ht.INTERNAL=13]="INTERNAL",Ht[Ht.UNAVAILABLE=14]="UNAVAILABLE",Ht[Ht.DATA_LOSS=15]="DATA_LOSS";class Dl{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,u]of r)if(this.equalsFn(i,e))return u}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let u=0;u<i.length;u++)if(this.equalsFn(i[u][0],e))return void(i[u]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){Sd(this.inner,(t,r)=>{for(const[i,u]of r)e(i,u)})}isEmpty(){return oN(this.inner)}size(){return this.innerSize}}const vB=new On(Ne.comparator);function Di(){return vB}const ZN=new On(Ne.comparator);function dv(...n){let e=ZN;for(const t of n)e=e.insert(t.key,t);return e}function KN(n){let e=ZN;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Go(){return hv()}function YN(){return hv()}function hv(){return new Dl(n=>n.toString(),(n,e)=>n.isEqual(e))}const wB=new On(Ne.comparator),EB=new Xt(Ne.comparator);function Tt(...n){let e=EB;for(const t of n)e=e.add(t);return e}const DB=new Xt(wt);function XI(){return DB}class fv{constructor(e,t,r,i,u){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,pv.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new fv(Je.min(),i,XI(),Di(),Tt())}}class pv{constructor(e,t,r,i,u){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pv(r,t,Tt(),Tt(),Tt())}}class JI{constructor(e,t,r,i){this.It=e,this.removedTargetIds=t,this.key=r,this.Tt=i}}class QN{constructor(e,t){this.targetId=e,this.Et=t}}class XN{constructor(e,t,r=ar.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class JN{constructor(){this.At=0,this.Rt=t1(),this.bt=ar.EMPTY_BYTE_STRING,this.Pt=!1,this.vt=!0}get current(){return this.Pt}get resumeToken(){return this.bt}get Vt(){return 0!==this.At}get St(){return this.vt}Dt(e){e.approximateByteSize()>0&&(this.vt=!0,this.bt=e)}Ct(){let e=Tt(),t=Tt(),r=Tt();return this.Rt.forEach((i,u)=>{switch(u){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:je()}}),new pv(this.bt,this.Pt,e,t,r)}xt(){this.vt=!1,this.Rt=t1()}Nt(e,t){this.vt=!0,this.Rt=this.Rt.insert(e,t)}kt(e){this.vt=!0,this.Rt=this.Rt.remove(e)}Ot(){this.At+=1}Mt(){this.At-=1}Ft(){this.vt=!0,this.Pt=!0}}class IB{constructor(e){this.$t=e,this.Bt=new Map,this.Lt=Di(),this.qt=e1(),this.Ut=new Xt(wt)}Kt(e){for(const t of e.It)e.Tt&&e.Tt.isFoundDocument()?this.Gt(t,e.Tt):this.Qt(t,e.key,e.Tt);for(const t of e.removedTargetIds)this.Qt(t,e.key,e.Tt)}jt(e){this.forEachTarget(e,t=>{const r=this.Wt(t);switch(e.state){case 0:this.zt(t)&&r.Dt(e.resumeToken);break;case 1:r.Mt(),r.Vt||r.xt(),r.Dt(e.resumeToken);break;case 2:r.Mt(),r.Vt||this.removeTarget(t);break;case 3:this.zt(t)&&(r.Ft(),r.Dt(e.resumeToken));break;case 4:this.zt(t)&&(this.Ht(t),r.Dt(e.resumeToken));break;default:je()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Bt.forEach((r,i)=>{this.zt(i)&&t(i)})}Jt(e){const t=e.targetId,r=e.Et.count,i=this.Yt(t);if(i){const u=i.target;if(zI(u))if(0===r){const c=new Ne(u.path);this.Qt(t,c,un.newNoDocument(c,Je.min()))}else We(1===r);else this.Xt(t)!==r&&(this.Ht(t),this.Ut=this.Ut.add(t))}}Zt(e){const t=new Map;this.Bt.forEach((u,c)=>{const g=this.Yt(c);if(g){if(u.current&&zI(g.target)){const _=new Ne(g.target.path);null!==this.Lt.get(_)||this.te(c,_)||this.Qt(c,_,un.newNoDocument(_,e))}u.St&&(t.set(c,u.Ct()),u.xt())}});let r=Tt();this.qt.forEach((u,c)=>{let g=!0;c.forEachWhile(_=>{const D=this.Yt(_);return!D||2===D.purpose||(g=!1,!1)}),g&&(r=r.add(u))}),this.Lt.forEach((u,c)=>c.setReadTime(e));const i=new fv(e,t,this.Ut,this.Lt,r);return this.Lt=Di(),this.qt=e1(),this.Ut=new Xt(wt),i}Gt(e,t){if(!this.zt(e))return;const r=this.te(e,t.key)?2:0;this.Wt(e).Nt(t.key,r),this.Lt=this.Lt.insert(t.key,t),this.qt=this.qt.insert(t.key,this.ee(t.key).add(e))}Qt(e,t,r){if(!this.zt(e))return;const i=this.Wt(e);this.te(e,t)?i.Nt(t,1):i.kt(t),this.qt=this.qt.insert(t,this.ee(t).delete(e)),r&&(this.Lt=this.Lt.insert(t,r))}removeTarget(e){this.Bt.delete(e)}Xt(e){const t=this.Wt(e).Ct();return this.$t.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ot(e){this.Wt(e).Ot()}Wt(e){let t=this.Bt.get(e);return t||(t=new JN,this.Bt.set(e,t)),t}ee(e){let t=this.qt.get(e);return t||(t=new Xt(wt),this.qt=this.qt.insert(e,t)),t}zt(e){const t=null!==this.Yt(e);return t||De("WatchChangeAggregator","Detected inactive target",e),t}Yt(e){const t=this.Bt.get(e);return t&&t.Vt?null:this.$t.ne(e)}Ht(e){this.Bt.set(e,new JN),this.$t.getRemoteKeysForTarget(e).forEach(t=>{this.Qt(e,t,null)})}te(e,t){return this.$t.getRemoteKeysForTarget(e).has(t)}}function e1(){return new On(Ne.comparator)}function t1(){return new On(Ne.comparator)}const CB={asc:"ASCENDING",desc:"DESCENDING"},bB={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},SB={and:"AND",or:"OR"};class TB{constructor(e,t){this.databaseId=e,this.wt=t}}function Zp(n,e){return n.wt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function n1(n,e){return n.wt?e.toBase64():e.toUint8Array()}function AB(n,e){return Zp(n,e.toTimestamp())}function Bn(n){return We(!!n),Je.fromTimestamp(function(e){const t=_l(e);return new Dn(t.seconds,t.nanos)}(n))}function Hx(n,e){return(t=n,new jt(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function r1(n){const e=jt.fromString(n);return We(f1(e)),e}function gv(n,e){return Hx(n.databaseId,e.path)}function zo(n,e){const t=r1(e);if(t.get(1)!==n.databaseId.projectId)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new we(ee.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Ne(o1(t))}function Gx(n,e){return Hx(n.databaseId,e)}function mv(n){return new jt(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function o1(n){return We(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function a1(n,e,t){return{name:gv(n,e),fields:t.value.mapValue.fields}}function l1(n,e){return{documents:[Gx(n,e.path)]}}function Wx(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=Gx(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=Gx(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return h1(Zt.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const u=function(_){if(0!==_.length)return _.map(D=>{return{field:Kp((C=D).field),direction:kB(C.dir)};var C})}(e.orderBy);u&&(t.structuredQuery.orderBy=u);const c=(D=e.limit,n.wt||tv(D)?D:{value:D});var D,g,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(g=e.startAt).inclusive,values:g.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function c1(n){let e=function s1(n){const e=r1(n);return 4===e.length?jt.emptyPath():o1(e)}(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){We(1===r);const C=t.from[0];C.allDescendants?i=C.collectionId:e=e.child(C.collectionId)}let u=[];t.where&&(u=function(C){const T=d1(C);return T instanceof Zt&&Px(T)?T.getFilters():[T]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(C=>{return new $p(Yp((T=C).field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction));var T}));let g=null;t.limit&&(g=function(C){let T;return T="object"==typeof C?C.value:C,tv(T)?null:T}(t.limit));let _=null;var C;t.startAt&&(_=new El((C=t.startAt).values||[],!!C.before));let D=null;return t.endAt&&(D=function(C){return new El(C.values||[],!C.before)}(t.endAt)),function AN(n,e,t,r,i,u,c,g){return new za(n,e,t,r,i,u,c,g)}(e,i,c,u,g,"F",_,D)}function d1(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Yp(e.unaryFilter.field);return Ut.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Yp(e.unaryFilter.field);return Ut.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Yp(e.unaryFilter.field);return Ut.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const u=Yp(e.unaryFilter.field);return Ut.create(u,"!=",{nullValue:"NULL_VALUE"});default:return je()}}(n):void 0!==n.fieldFilter?Ut.create(Yp((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return je()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return Zt.create(e.compositeFilter.filters.map(t=>d1(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return je()}}(e.compositeFilter.op))}(n):je();var e}function kB(n){return CB[n]}function PB(n){return bB[n]}function NB(n){return SB[n]}function Kp(n){return{fieldPath:n.canonicalString()}}function Yp(n){return Un.fromServerFormat(n.fieldPath)}function h1(n){return n instanceof Ut?function(e){if("=="===e.op){if(dN(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NAN"}};if(cN(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(dN(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NOT_NAN"}};if(cN(e.value))return{unaryFilter:{field:Kp(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Kp(e.field),op:PB(e.op),value:e.value}}}(n):n instanceof Zt?function(e){const t=e.getFilters().map(r=>h1(r));return 1===t.length?t[0]:{compositeFilter:{op:NB(e.op),filters:t}}}(n):je()}function FB(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function f1(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Zx{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const u=this.mutations[i];u.key.isEqual(e.key)&&mB(u,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=cv(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=cv(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=YN();return this.mutations.forEach(i=>{const u=e.get(i.key),c=u.overlayedDocument;let g=this.applyToLocalView(c,u.mutatedFields);g=t.has(i.key)?null:g;const _=$N(c,g);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Je.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Tt())}isEqual(e){return this.batchId===e.batchId&&Vp(this.mutations,e.mutations,(t,r)=>jN(t,r))&&Vp(this.baseMutations,e.baseMutations,(t,r)=>jN(t,r))}}class Kx{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){We(e.mutations.length===r.length);let i=wB;const u=e.mutations;for(let c=0;c<u.length;c++)i=i.insert(u[c].key,r[c].version);return new Kx(e,t,r,i)}}class Yx{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class Il{constructor(e,t,r,i,u=Je.min(),c=Je.min(),g=ar.EMPTY_BYTE_STRING){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=g}withSequenceNumber(e){return new Il(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,t){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Il(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}class w1{constructor(e){this.ie=e}}function Qx(n){const e=c1({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?ZI(e,e.limit,"L"):e}class Ld{constructor(){}ue(e,t){this.ce(e,t),t.ae()}ce(e,t){if("nullValue"in e)this.he(t,5);else if("booleanValue"in e)this.he(t,10),t.le(e.booleanValue?1:0);else if("integerValue"in e)this.he(t,15),t.le(Rn(e.integerValue));else if("doubleValue"in e){const r=Rn(e.doubleValue);isNaN(r)?this.he(t,13):(this.he(t,15),nv(r)?t.le(0):t.le(r))}else if("timestampValue"in e){const r=e.timestampValue;this.he(t,20),"string"==typeof r?t.fe(r):(t.fe(`${r.seconds||""}`),t.le(r.nanos||0))}else if("stringValue"in e)this.de(e.stringValue,t),this._e(t);else if("bytesValue"in e)this.he(t,30),t.we(Td(e.bytesValue)),this._e(t);else if("referenceValue"in e)this.me(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.he(t,45),t.le(r.latitude||0),t.le(r.longitude||0)}else"mapValue"in e?hN(e)?this.he(t,Number.MAX_SAFE_INTEGER):(this.ge(e.mapValue,t),this._e(t)):"arrayValue"in e?(this.ye(e.arrayValue,t),this._e(t)):je()}de(e,t){this.he(t,25),this.pe(e,t)}pe(e,t){t.fe(e)}ge(e,t){const r=e.fields||{};this.he(t,55);for(const i of Object.keys(r))this.de(i,t),this.ce(r[i],t)}ye(e,t){const r=e.values||[];this.he(t,50);for(const i of r)this.ce(i,t)}me(e,t){this.he(t,37),Ne.fromName(e).path.forEach(r=>{this.he(t,60),this.pe(r,t)})}he(e,t){e.le(t)}_e(e){e.le(2)}}Ld.Ie=new Ld;class c2{constructor(){this.Je=new rM}addToCollectionParentIndex(e,t){return this.Je.add(t),X.resolve()}getCollectionParents(e,t){return X.resolve(this.Je.getEntries(t))}addFieldIndex(e,t){return X.resolve()}deleteFieldIndex(e,t){return X.resolve()}getDocumentsMatchingTarget(e,t){return X.resolve(null)}getIndexType(e,t){return X.resolve(0)}getFieldIndexes(e,t){return X.resolve([])}getNextCollectionGroupToUpdate(e){return X.resolve(null)}getMinOffset(e,t){return X.resolve(ji.min())}getMinOffsetFromCollectionGroup(e,t){return X.resolve(ji.min())}updateCollectionGroup(e,t,r){return X.resolve()}updateIndexEntries(e,t){return X.resolve()}}class rM{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Xt(jt.comparator),u=!i.has(r);return this.index[t]=i.add(r),u}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Xt(jt.comparator)).toArray()}}new Uint8Array(0);class Ii{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ii(e,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}Ii.DEFAULT_COLLECTION_PERCENTILE=10,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ii.DEFAULT=new Ii(41943040,Ii.DEFAULT_COLLECTION_PERCENTILE,Ii.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ii.DISABLED=new Ii(-1,0,0);class Ud{constructor(e){this.bn=e}next(){return this.bn+=2,this.bn}static Pn(){return new Ud(0)}static vn(){return new Ud(-1)}}class y2{constructor(){this.changes=new Dl(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,un.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?X.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class w2{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class G1{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&cv(r.mutation,i,Ei.empty(),Dn.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Tt()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Tt()){const i=Go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(u=>{let c=dv();return u.forEach((g,_)=>{c=c.insert(g,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=Go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Tt()))}populateOverlays(e,t,r){const i=[];return r.forEach(u=>{t.has(u)||i.push(u)}),this.documentOverlayCache.getOverlays(e,i).next(u=>{u.forEach((c,g)=>{t.set(c,g)})})}computeViews(e,t,r,i){let u=Di();const c=hv(),g=hv();return t.forEach((_,D)=>{const C=r.get(D.key);i.has(D.key)&&(void 0===C||C.mutation instanceof Wa)?u=u.insert(D.key,D):void 0!==C?(c.set(D.key,C.mutation.getFieldMask()),cv(C.mutation,D,C.mutation.getFieldMask(),Dn.now())):c.set(D.key,Ei.empty())}),this.recalculateAndSaveOverlays(e,u).next(_=>(_.forEach((D,C)=>c.set(D,C)),t.forEach((D,C)=>{var T;return g.set(D,new w2(C,null!==(T=c.get(D))&&void 0!==T?T:null))}),g))}recalculateAndSaveOverlays(e,t){const r=hv();let i=new On((c,g)=>c-g),u=Tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const g of c)g.keys().forEach(_=>{const D=t.get(_);if(null===D)return;let C=r.get(_)||Ei.empty();C=g.applyToLocalView(D,C),r.set(_,C);const T=(i.get(g.batchId)||Tt()).add(_);i=i.insert(g.batchId,T)})}).next(()=>{const c=[],g=i.getReverseIterator();for(;g.hasNext();){const _=g.getNext(),D=_.key,C=_.value,T=YN();C.forEach(P=>{if(!u.has(P)){const $=$N(t.get(P),r.get(P));null!==$&&T.set(P,$),u=u.add(P)}}),c.push(this.documentOverlayCache.saveOverlays(e,D,T))}return X.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return Ne.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):function Vx(n){return null!==n.collectionGroup}(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(u=>{const c=i-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-u.size):X.resolve(Go());let g=-1,_=u;return c.next(D=>X.forEach(D,(C,T)=>(g<T.largestBatchId&&(g=T.largestBatchId),u.get(C)?X.resolve():this.remoteDocumentCache.getEntry(e,C).next(P=>{_=_.insert(C,P)}))).next(()=>this.populateOverlays(e,D,u)).next(()=>this.computeViews(e,_,D,Tt())).next(C=>({batchId:g,changes:KN(C)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Ne(t)).next(r=>{let i=dv();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let u=dv();return this.indexManager.getCollectionParents(e,i).next(c=>X.forEach(c,g=>{const _=(D=t,C=g.child(i),new za(C,null,D.explicitOrderBy.slice(),D.filters.slice(),D.limit,D.limitType,D.startAt,D.endAt));var D,C;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(D=>{D.forEach((C,T)=>{u=u.insert(C,T)})})}).next(()=>u))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.remoteDocumentCache.getAllFromCollection(e,t.path,r).next(u=>(i=u,this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId))).next(u=>{u.forEach((g,_)=>{const D=_.getKey();null===i.get(D)&&(i=i.insert(D,un.newInvalidDocument(D)))});let c=dv();return i.forEach((g,_)=>{const D=u.get(g);void 0!==D&&cv(D.mutation,_,Ei.empty(),Dn.now()),$x(t,_)&&(c=c.insert(g,_))}),c})}}class E2{constructor(e){this.yt=e,this.Zn=new Map,this.ts=new Map}getBundleMetadata(e,t){return X.resolve(this.Zn.get(t))}saveBundleMetadata(e,t){var r;return this.Zn.set(t.id,{id:(r=t).id,version:r.version,createTime:Bn(r.createTime)}),X.resolve()}getNamedQuery(e,t){return X.resolve(this.ts.get(t))}saveNamedQuery(e,t){return this.ts.set(t.name,{name:(r=t).name,query:Qx(r.bundledQuery),readTime:Bn(r.readTime)}),X.resolve();var r}}class D2{constructor(){this.overlays=new On(Ne.comparator),this.es=new Map}getOverlay(e,t){return X.resolve(this.overlays.get(t))}getOverlays(e,t){const r=Go();return X.forEach(t,i=>this.getOverlay(e,i).next(u=>{null!==u&&r.set(i,u)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,u)=>{this.oe(e,t,u)}),X.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.es.get(r);return void 0!==i&&(i.forEach(u=>this.overlays=this.overlays.remove(u)),this.es.delete(r)),X.resolve()}getOverlaysForCollection(e,t,r){const i=Go(),u=t.length+1,c=new Ne(t.child("")),g=this.overlays.getIteratorFrom(c);for(;g.hasNext();){const _=g.getNext().value,D=_.getKey();if(!t.isPrefixOf(D.path))break;D.path.length===u&&_.largestBatchId>r&&i.set(_.getKey(),_)}return X.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let u=new On((D,C)=>D-C);const c=this.overlays.getIterator();for(;c.hasNext();){const D=c.getNext().value;if(D.getKey().getCollectionGroup()===t&&D.largestBatchId>r){let C=u.get(D.largestBatchId);null===C&&(C=Go(),u=u.insert(D.largestBatchId,C)),C.set(D.getKey(),D)}}const g=Go(),_=u.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((D,C)=>g.set(D,C)),!(g.size()>=i)););return X.resolve(g)}oe(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.es.get(i.largestBatchId).delete(r.key);this.es.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new Yx(t,r));let u=this.es.get(t);void 0===u&&(u=Tt(),this.es.set(t,u)),this.es.set(t,u.add(r.key))}}class iM{constructor(){this.ns=new Xt(_r.ss),this.rs=new Xt(_r.os)}isEmpty(){return this.ns.isEmpty()}addReference(e,t){const r=new _r(e,t);this.ns=this.ns.add(r),this.rs=this.rs.add(r)}us(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.cs(new _r(e,t))}hs(e,t){e.forEach(r=>this.removeReference(r,t))}ls(e){const t=new Ne(new jt([])),r=new _r(t,e),i=new _r(t,e+1),u=[];return this.rs.forEachInRange([r,i],c=>{this.cs(c),u.push(c.key)}),u}fs(){this.ns.forEach(e=>this.cs(e))}cs(e){this.ns=this.ns.delete(e),this.rs=this.rs.delete(e)}ds(e){const t=new Ne(new jt([])),r=new _r(t,e),i=new _r(t,e+1);let u=Tt();return this.rs.forEachInRange([r,i],c=>{u=u.add(c.key)}),u}containsKey(e){const t=new _r(e,0),r=this.ns.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class _r{constructor(e,t){this.key=e,this._s=t}static ss(e,t){return Ne.comparator(e.key,t.key)||wt(e._s,t._s)}static os(e,t){return wt(e._s,t._s)||Ne.comparator(e.key,t.key)}}class I2{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.ws=1,this.gs=new Xt(_r.ss)}checkEmpty(e){return X.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const u=this.ws;this.ws++;const c=new Zx(u,t,r,i);this.mutationQueue.push(c);for(const g of i)this.gs=this.gs.add(new _r(g.key,u)),this.indexManager.addToCollectionParentIndex(e,g.key.path.popLast());return X.resolve(c)}lookupMutationBatch(e,t){return X.resolve(this.ys(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.ps(t+1),u=i<0?0:i;return X.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return X.resolve(0===this.mutationQueue.length?-1:this.ws-1)}getAllMutationBatches(e){return X.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new _r(t,0),i=new _r(t,Number.POSITIVE_INFINITY),u=[];return this.gs.forEachInRange([r,i],c=>{const g=this.ys(c._s);u.push(g)}),X.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Xt(wt);return t.forEach(i=>{const u=new _r(i,0),c=new _r(i,Number.POSITIVE_INFINITY);this.gs.forEachInRange([u,c],g=>{r=r.add(g._s)})}),X.resolve(this.Is(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let u=r;Ne.isDocumentKey(u)||(u=u.child(""));const c=new _r(new Ne(u),0);let g=new Xt(wt);return this.gs.forEachWhile(_=>{const D=_.key.path;return!!r.isPrefixOf(D)&&(D.length===i&&(g=g.add(_._s)),!0)},c),X.resolve(this.Is(g))}Is(e){const t=[];return e.forEach(r=>{const i=this.ys(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){We(0===this.Ts(t.batchId,"removed")),this.mutationQueue.shift();let r=this.gs;return X.forEach(t.mutations,i=>{const u=new _r(i.key,t.batchId);return r=r.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.gs=r})}An(e){}containsKey(e,t){const r=new _r(t,0),i=this.gs.firstAfterOrEqual(r);return X.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return X.resolve()}Ts(e,t){return this.ps(e)}ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}ys(e){const t=this.ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class C2{constructor(e){this.Es=e,this.docs=new On(Ne.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),u=i?i.size:0,c=this.Es(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-u,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return X.resolve(r?r.document.mutableCopy():un.newInvalidDocument(t))}getEntries(e,t){let r=Di();return t.forEach(i=>{const u=this.docs.get(i);r=r.insert(i,u?u.document.mutableCopy():un.newInvalidDocument(i))}),X.resolve(r)}getAllFromCollection(e,t,r){let i=Di();const u=new Ne(t.child("")),c=this.docs.getIteratorFrom(u);for(;c.hasNext();){const{key:g,value:{document:_}}=c.getNext();if(!t.isPrefixOf(g.path))break;g.path.length>t.length+1||Tx(nN(_),r)<=0||(i=i.insert(_.key,_.mutableCopy()))}return X.resolve(i)}getAllFromCollectionGroup(e,t,r,i){je()}As(e,t){return X.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new b2(this)}getSize(e){return X.resolve(this.size)}}class b2 extends y2{constructor(e){super(),this.Yn=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.Yn.addEntry(e,i)):this.Yn.removeEntry(r)}),X.waitFor(t)}getFromCache(e,t){return this.Yn.getEntry(e,t)}getAllFromCache(e,t){return this.Yn.getEntries(e,t)}}class S2{constructor(e){this.persistence=e,this.Rs=new Dl(t=>Md(t),av),this.lastRemoteSnapshotVersion=Je.min(),this.highestTargetId=0,this.bs=0,this.Ps=new iM,this.targetCount=0,this.vs=Ud.Pn()}forEachTarget(e,t){return this.Rs.forEach((r,i)=>t(i)),X.resolve()}getLastRemoteSnapshotVersion(e){return X.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return X.resolve(this.bs)}allocateTargetId(e){return this.highestTargetId=this.vs.next(),X.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.bs&&(this.bs=t),X.resolve()}Dn(e){this.Rs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.vs=new Ud(t),this.highestTargetId=t),e.sequenceNumber>this.bs&&(this.bs=e.sequenceNumber)}addTargetData(e,t){return this.Dn(t),this.targetCount+=1,X.resolve()}updateTargetData(e,t){return this.Dn(t),X.resolve()}removeTargetData(e,t){return this.Rs.delete(t.target),this.Ps.ls(t.targetId),this.targetCount-=1,X.resolve()}removeTargets(e,t,r){let i=0;const u=[];return this.Rs.forEach((c,g)=>{g.sequenceNumber<=t&&null===r.get(g.targetId)&&(this.Rs.delete(c),u.push(this.removeMatchingKeysForTargetId(e,g.targetId)),i++)}),X.waitFor(u).next(()=>i)}getTargetCount(e){return X.resolve(this.targetCount)}getTargetData(e,t){const r=this.Rs.get(t)||null;return X.resolve(r)}addMatchingKeys(e,t,r){return this.Ps.us(t,r),X.resolve()}removeMatchingKeys(e,t,r){this.Ps.hs(t,r);const i=this.persistence.referenceDelegate,u=[];return i&&t.forEach(c=>{u.push(i.markPotentiallyOrphaned(e,c))}),X.waitFor(u)}removeMatchingKeysForTargetId(e,t){return this.Ps.ls(t),X.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ps.ds(t);return X.resolve(r)}containsKey(e,t){return X.resolve(this.Ps.containsKey(t))}}class z1{constructor(e,t){this.Vs={},this.overlays={},this.Ss=new Hi(0),this.Ds=!1,this.Ds=!0,this.referenceDelegate=e(this),this.Cs=new S2(this),this.indexManager=new c2,this.remoteDocumentCache=new C2(r=>this.referenceDelegate.xs(r)),this.yt=new w1(t),this.Ns=new E2(this.yt)}start(){return Promise.resolve()}shutdown(){return this.Ds=!1,Promise.resolve()}get started(){return this.Ds}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new D2,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Vs[e.toKey()];return r||(r=new I2(t,this.referenceDelegate),this.Vs[e.toKey()]=r),r}getTargetCache(){return this.Cs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ns}runTransaction(e,t,r){De("MemoryPersistence","Starting transaction:",e);const i=new T2(this.Ss.next());return this.referenceDelegate.ks(),r(i).next(u=>this.referenceDelegate.Os(i).next(()=>u)).toPromise().then(u=>(i.raiseOnCommittedEvent(),u))}Ms(e,t){return X.or(Object.values(this.Vs).map(r=>()=>r.containsKey(e,t)))}}class T2 extends ZU{constructor(e){super(),this.currentSequenceNumber=e}}class lC{constructor(e){this.persistence=e,this.Fs=new iM,this.$s=null}static Bs(e){return new lC(e)}get Ls(){if(this.$s)return this.$s;throw je()}addReference(e,t,r){return this.Fs.addReference(r,t),this.Ls.delete(r.toString()),X.resolve()}removeReference(e,t,r){return this.Fs.removeReference(r,t),this.Ls.add(r.toString()),X.resolve()}markPotentiallyOrphaned(e,t){return this.Ls.add(t.toString()),X.resolve()}removeTarget(e,t){this.Fs.ls(t.targetId).forEach(i=>this.Ls.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(u=>this.Ls.add(u.toString()))}).next(()=>r.removeTargetData(e,t))}ks(){this.$s=new Set}Os(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return X.forEach(this.Ls,r=>{const i=Ne.fromPath(r);return this.qs(e,i).next(u=>{u||t.removeEntry(i,Je.min())})}).next(()=>(this.$s=null,t.apply(e)))}updateLimboDocument(e,t){return this.qs(e,t).next(r=>{r?this.Ls.delete(t.toString()):this.Ls.add(t.toString())})}xs(e){return 0}qs(e,t){return X.or([()=>X.resolve(this.Fs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ms(e,t)])}}class uM{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Si=r,this.Di=i}static Ci(e,t){let r=Tt(),i=Tt();for(const u of t.docChanges)switch(u.type){case 0:r=r.add(u.doc.key);break;case 1:i=i.add(u.doc.key)}return new uM(e,t.fromCache,r,i)}}class q1{constructor(){this.xi=!1}initialize(e,t){this.Ni=e,this.indexManager=t,this.xi=!0}getDocumentsMatchingQuery(e,t,r,i){return this.ki(e,t).next(u=>u||this.Oi(e,t,i,r)).next(u=>u||this.Mi(e,t))}ki(e,t){if(xN(t))return X.resolve(null);let r=fi(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=ZI(t,null,"F"),r=fi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(u=>{const c=Tt(...u);return this.Ni.getDocuments(e,c).next(g=>this.indexManager.getMinOffset(e,r).next(_=>{const D=this.Fi(t,g);return this.$i(t,D,c,_.readTime)?this.ki(e,ZI(t,null,"F")):this.Bi(e,D,t,_)}))})))}Oi(e,t,r,i){return xN(t)||i.isEqual(Je.min())?this.Mi(e,t):this.Ni.getDocuments(e,r).next(u=>{const c=this.Fi(t,u);return this.$i(t,c,r,i)?this.Mi(e,t):(Cx()<=hs.in.DEBUG&&De("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Bx(t)),this.Bi(e,c,t,function tN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Je.fromTimestamp(1e9===r?new Dn(t+1,0):new Dn(t,r));return new ji(i,Ne.empty(),e)}(i,-1)))})}Fi(e,t){let r=new Xt(ON(e));return t.forEach((i,u)=>{$x(e,u)&&(r=r.add(u))}),r}$i(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const u="F"===e.limitType?t.last():t.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(i)>0)}Mi(e,t){return Cx()<=hs.in.DEBUG&&De("QueryEngine","Using full collection scan to execute query:",Bx(t)),this.Ni.getDocumentsMatchingQuery(e,t,ji.min())}Bi(e,t,r,i){return this.Ni.getDocumentsMatchingQuery(e,r,i).next(u=>(t.forEach(c=>{u=u.insert(c.key,c)}),u))}}class x2{constructor(e,t,r,i){this.persistence=e,this.Li=t,this.yt=i,this.qi=new On(wt),this.Ui=new Dl(u=>Md(u),av),this.Ki=new Map,this.Gi=e.getRemoteDocumentCache(),this.Cs=e.getTargetCache(),this.Ns=e.getBundleCache(),this.Qi(r)}Qi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new G1(this.Gi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Gi.setIndexManager(this.indexManager),this.Li.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.qi))}}function K1(n,e){return lM.apply(this,arguments)}function lM(){return lM=(0,oe.Z)(function*(n,e){const t=Fe(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(u=>(i=u,t.Qi(e),t.mutationQueue.getAllMutationBatches(r))).next(u=>{const c=[],g=[];let _=Tt();for(const D of i){c.push(D.batchId);for(const C of D.mutations)_=_.add(C.key)}for(const D of u){g.push(D.batchId);for(const C of D.mutations)_=_.add(C.key)}return t.localDocuments.getDocuments(r,_).next(D=>({ji:D,removedBatchIds:c,addedBatchIds:g}))})})}),lM.apply(this,arguments)}function M2(n,e){const t=Fe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),u=t.Gi.newChangeBuffer({trackRemovals:!0});return function(c,g,_,D){const C=_.batch,T=C.keys();let P=X.resolve();return T.forEach($=>{P=P.next(()=>D.getEntry(g,$)).next(Y=>{const fe=_.docVersions.get($);We(null!==fe),Y.version.compareTo(fe)<0&&(C.applyToRemoteDocument(Y,_),Y.isValidDocument()&&(Y.setReadTime(_.commitVersion),D.addEntry(Y)))})}),P.next(()=>c.mutationQueue.removeMutationBatch(g,C))}(t,r,e,u).next(()=>u.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let g=Tt();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(g=g.add(c.batch.mutations[_].key));return g}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function Y1(n){const e=Fe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Cs.getLastRemoteSnapshotVersion(t))}function R2(n,e){const t=Fe(n),r=e.snapshotVersion;let i=t.qi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const c=t.Gi.newChangeBuffer({trackRemovals:!0});i=t.qi;const g=[];e.targetChanges.forEach((C,T)=>{const P=i.get(T);if(!P)return;g.push(t.Cs.removeMatchingKeys(u,C.removedDocuments,T).next(()=>t.Cs.addMatchingKeys(u,C.addedDocuments,T)));let $=P.withSequenceNumber(u.currentSequenceNumber);var Y,fe,Ie;e.targetMismatches.has(T)?$=$.withResumeToken(ar.EMPTY_BYTE_STRING,Je.min()).withLastLimboFreeSnapshotVersion(Je.min()):C.resumeToken.approximateByteSize()>0&&($=$.withResumeToken(C.resumeToken,r)),i=i.insert(T,$),fe=$,Ie=C,(0===(Y=P).resumeToken.approximateByteSize()||fe.snapshotVersion.toMicroseconds()-Y.snapshotVersion.toMicroseconds()>=3e8||Ie.addedDocuments.size+Ie.modifiedDocuments.size+Ie.removedDocuments.size>0)&&g.push(t.Cs.updateTargetData(u,$))});let _=Di(),D=Tt();if(e.documentUpdates.forEach(C=>{e.resolvedLimboDocuments.has(C)&&g.push(t.persistence.referenceDelegate.updateLimboDocument(u,C))}),g.push(function Q1(n,e,t){let r=Tt(),i=Tt();return t.forEach(u=>r=r.add(u)),e.getEntries(n,r).next(u=>{let c=Di();return t.forEach((g,_)=>{const D=u.get(g);_.isFoundDocument()!==D.isFoundDocument()&&(i=i.add(g)),_.isNoDocument()&&_.version.isEqual(Je.min())?(e.removeEntry(g,_.readTime),c=c.insert(g,_)):!D.isValidDocument()||_.version.compareTo(D.version)>0||0===_.version.compareTo(D.version)&&D.hasPendingWrites?(e.addEntry(_),c=c.insert(g,_)):De("LocalStore","Ignoring outdated watch update for ",g,". Current version:",D.version," Watch version:",_.version)}),{Wi:c,zi:i}})}(u,c,e.documentUpdates).next(C=>{_=C.Wi,D=C.zi})),!r.isEqual(Je.min())){const C=t.Cs.getLastRemoteSnapshotVersion(u).next(T=>t.Cs.setTargetsMetadata(u,u.currentSequenceNumber,r));g.push(C)}return X.waitFor(g).next(()=>c.apply(u)).next(()=>t.localDocuments.getLocalViewOfDocuments(u,_,D)).next(()=>_)}).then(u=>(t.qi=i,u))}function O2(n,e){const t=Fe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Jp(n,e){const t=Fe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Cs.getTargetData(r,e).next(u=>u?(i=u,X.resolve(i)):t.Cs.allocateTargetId(r).next(c=>(i=new Il(e,c,0,r.currentSequenceNumber),t.Cs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.qi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.qi=t.qi.insert(r.targetId,r),t.Ui.set(e,r.targetId)),r})}function eg(n,e,t){return cM.apply(this,arguments)}function cM(){return cM=(0,oe.Z)(function*(n,e,t){const r=Fe(n),i=r.qi.get(e),u=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",u,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!yl(c))throw c;De("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.qi=r.qi.remove(e),r.Ui.delete(i.target)}),cM.apply(this,arguments)}function dC(n,e,t){const r=Fe(n);let i=Je.min(),u=Tt();return r.persistence.runTransaction("Execute query","readonly",c=>function(g,_,D){const C=Fe(g),T=C.Ui.get(D);return void 0!==T?X.resolve(C.qi.get(T)):C.Cs.getTargetData(_,D)}(r,c,fi(e)).next(g=>{if(g)return i=g.lastLimboFreeSnapshotVersion,r.Cs.getMatchingKeysForTargetId(c,g.targetId).next(_=>{u=_})}).next(()=>r.Li.getDocumentsMatchingQuery(c,e,t?i:Je.min(),t?u:Tt())).next(g=>(function eF(n,e,t){let r=n.Ki.get(e)||Je.min();t.forEach((i,u)=>{u.readTime.compareTo(r)>0&&(r=u.readTime)}),n.Ki.set(e,r)}(r,function RN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}(e),g),{documents:g,Hi:u})))}class gM{constructor(){this.activeTargetIds=XI()}er(e){this.activeTargetIds=this.activeTargetIds.add(e)}nr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}tr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rF{constructor(){this.Lr=new gM,this.qr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Lr.er(e),this.qr[e]||"not-current"}updateQueryState(e,t,r){this.qr[e]=t}removeLocalQueryTarget(e){this.Lr.nr(e)}isLocalQueryTarget(e){return this.Lr.activeTargetIds.has(e)}clearQueryState(e){delete this.qr[e]}getAllActiveQueryTargets(){return this.Lr.activeTargetIds}isActiveQueryTarget(e){return this.Lr.activeTargetIds.has(e)}start(){return this.Lr=new gM,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class N2{Ur(e){}shutdown(){}}class iF{constructor(){this.Kr=()=>this.Gr(),this.Qr=()=>this.jr(),this.Wr=[],this.zr()}Ur(e){this.Wr.push(e)}shutdown(){window.removeEventListener("online",this.Kr),window.removeEventListener("offline",this.Qr)}zr(){window.addEventListener("online",this.Kr),window.addEventListener("offline",this.Qr)}Gr(){De("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Wr)e(0)}jr(){De("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Wr)e(1)}static C(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}const F2={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class L2{constructor(e){this.Hr=e.Hr,this.Jr=e.Jr}Yr(e){this.Xr=e}Zr(e){this.eo=e}onMessage(e){this.no=e}close(){this.Jr()}send(e){this.Hr(e)}so(){this.Xr()}io(e){this.eo(e)}ro(e){this.no(e)}}class V2 extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.oo=(e.ssl?"https":"http")+"://"+e.host,this.uo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get co(){return!1}ao(e,t,r,i,u){const c=this.ho(e,t);De("RestConnection","Sending: ",c,r);const g={};return this.lo(g,i,u),this.fo(e,c,g,r).then(_=>(De("RestConnection","Received: ",_),_),_=>{throw Lp("RestConnection",`${e} failed with error: `,_,"url: ",c,"request:",r),_})}_o(e,t,r,i,u,c){return this.ao(e,t,r,i,u)}lo(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Fp,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,u)=>e[u]=i),r&&r.headers.forEach((i,u)=>e[u]=i)}ho(e,t){return`${this.oo}/v1/${t}:${F2[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}fo(e,t,r,i){return new Promise((u,c)=>{const g=new LU;g.setWithCredentials(!0),g.listenOnce(PU.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Ix.NO_ERROR:const D=g.getResponseJson();De("Connection","XHR received:",JSON.stringify(D)),u(D);break;case Ix.TIMEOUT:De("Connection",'RPC "'+e+'" timed out'),c(new we(ee.DEADLINE_EXCEEDED,"Request time out"));break;case Ix.HTTP_ERROR:const C=g.getStatus();if(De("Connection",'RPC "'+e+'" failed with status:',C,"response text:",g.getResponseText()),C>0){let T=g.getResponseJson();Array.isArray(T)&&(T=T[0]);const P=T?.error;if(P&&P.status&&P.message){const $=function(Y){const fe=Y.toLowerCase().replace(/_/g,"-");return Object.values(ee).indexOf(fe)>=0?fe:ee.UNKNOWN}(P.status);c(new we($,P.message))}else c(new we(ee.UNKNOWN,"Server responded with status "+g.getStatus()))}else c(new we(ee.UNAVAILABLE,"Connection failed."));break;default:je()}}finally{De("Connection",'RPC "'+e+'" completed.')}});const _=JSON.stringify(i);g.send(t,"POST",_,r,15)})}wo(e,t,r){const i=[this.oo,"/","google.firestore.v1.Firestore","/",e,"/channel"],u=OU(),c=kU(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(g.xmlHttpFactory=new FU({})),this.lo(g.initMessageHeaders,t,r),g.encodeInitMessageHeaders=!0;const _=i.join("");De("Connection","Creating WebChannel: "+_,g);const D=u.createWebChannel(_,g);let C=!1,T=!1;const P=new L2({Hr:Y=>{T?De("Connection","Not sending because WebChannel is closed:",Y):(C||(De("Connection","Opening WebChannel transport."),D.open(),C=!0),De("Connection","WebChannel sending:",Y),D.send(Y))},Jr:()=>D.close()}),$=(Y,fe,Ie)=>{Y.listen(fe,at=>{try{Ie(at)}catch(pt){setTimeout(()=>{throw pt},0)}})};return $(D,VI.EventType.OPEN,()=>{T||De("Connection","WebChannel transport opened.")}),$(D,VI.EventType.CLOSE,()=>{T||(T=!0,De("Connection","WebChannel transport closed"),P.io())}),$(D,VI.EventType.ERROR,Y=>{T||(T=!0,Lp("Connection","WebChannel transport errored:",Y),P.io(new we(ee.UNAVAILABLE,"The operation could not be completed")))}),$(D,VI.EventType.MESSAGE,Y=>{var fe;if(!T){const Ie=Y.data[0];We(!!Ie);const pt=Ie.error||(null===(fe=Ie[0])||void 0===fe?void 0:fe.error);if(pt){De("Connection","WebChannel received error:",pt);const bt=pt.status;let At=function(Pt){const Gr=Yn[Pt];if(void 0!==Gr)return qN(Gr)}(bt),Mt=pt.message;void 0===At&&(At=ee.INTERNAL,Mt="Unknown error status: "+bt+" with message "+pt.message),T=!0,P.io(new we(At,Mt)),D.close()}else De("Connection","WebChannel received:",Ie),P.ro(Ie)}}),$(c,NU.STAT_EVENT,Y=>{Y.stat===KP.PROXY?De("Connection","Detected buffering proxy"):Y.stat===KP.NOPROXY&&De("Connection","Detected no buffering proxy")}),setTimeout(()=>{P.so()},0),P}}function pC(){return typeof document<"u"?document:null}function Sv(n){return new TB(n,!0)}class yM{constructor(e,t,r=1e3,i=1.5,u=6e4){this.Hs=e,this.timerId=t,this.mo=r,this.yo=i,this.po=u,this.Io=0,this.To=null,this.Eo=Date.now(),this.reset()}reset(){this.Io=0}Ao(){this.Io=this.po}Ro(e){this.cancel();const t=Math.floor(this.Io+this.bo()),r=Math.max(0,Date.now()-this.Eo),i=Math.max(0,t-r);i>0&&De("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Io} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.To=this.Hs.enqueueAfterDelay(this.timerId,i,()=>(this.Eo=Date.now(),e())),this.Io*=this.yo,this.Io<this.mo&&(this.Io=this.mo),this.Io>this.po&&(this.Io=this.po)}Po(){null!==this.To&&(this.To.skipDelay(),this.To=null)}cancel(){null!==this.To&&(this.To.cancel(),this.To=null)}bo(){return(Math.random()-.5)*this.Io}}class oF{constructor(e,t,r,i,u,c,g,_){this.Hs=e,this.vo=r,this.Vo=i,this.connection=u,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=g,this.listener=_,this.state=0,this.So=0,this.Do=null,this.Co=null,this.stream=null,this.xo=new yM(e,t)}No(){return 1===this.state||5===this.state||this.ko()}ko(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Oo()}stop(){var e=this;return(0,oe.Z)(function*(){e.No()&&(yield e.close(0))})()}Mo(){this.state=0,this.xo.reset()}Fo(){this.ko()&&null===this.Do&&(this.Do=this.Hs.enqueueAfterDelay(this.vo,6e4,()=>this.$o()))}Bo(e){this.Lo(),this.stream.send(e)}$o(){var e=this;return(0,oe.Z)(function*(){if(e.ko())return e.close(0)})()}Lo(){this.Do&&(this.Do.cancel(),this.Do=null)}qo(){this.Co&&(this.Co.cancel(),this.Co=null)}close(e,t){var r=this;return(0,oe.Z)(function*(){r.Lo(),r.qo(),r.xo.cancel(),r.So++,4!==e?r.xo.reset():t&&t.code===ee.RESOURCE_EXHAUSTED?(Vn(t.toString()),Vn("Using maximum backoff delay to prevent overloading the backend."),r.xo.Ao()):t&&t.code===ee.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Uo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.Zr(t)})()}Uo(){}auth(){this.state=1;const e=this.Ko(this.So),t=this.So;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.So===t&&this.Go(r,i)},r=>{e(()=>{const i=new we(ee.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Qo(i)})})}Go(e,t){const r=this.Ko(this.So);this.stream=this.jo(e,t),this.stream.Yr(()=>{r(()=>(this.state=2,this.Co=this.Hs.enqueueAfterDelay(this.Vo,1e4,()=>(this.ko()&&(this.state=3),Promise.resolve())),this.listener.Yr()))}),this.stream.Zr(i=>{r(()=>this.Qo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Oo(){var e=this;this.state=5,this.xo.Ro((0,oe.Z)(function*(){e.state=0,e.start()}))}Qo(e){return De("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Ko(e){return t=>{this.Hs.enqueueAndForget(()=>this.So===e?t():(De("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class U2 extends oF{constructor(e,t,r,i,u,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.yt=u}jo(e,t){return this.connection.wo("Listen",e,t)}onMessage(e){this.xo.reset();const t=function MB(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:je(),i=e.targetChange.targetIds||[],u=function(_,D){return _.wt?(We(void 0===D||"string"==typeof D),ar.fromBase64String(D||"")):(We(void 0===D||D instanceof Uint8Array),ar.fromUint8Array(D||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,g=c&&function(_){const D=void 0===_.code?ee.UNKNOWN:qN(_.code);return new we(D,_.message||"")}(c);t=new XN(r,i,u,g||null)}else if("documentChange"in e){const r=e.documentChange,i=zo(n,r.document.name),u=Bn(r.document.updateTime),c=r.document.createTime?Bn(r.document.createTime):Je.min(),g=new jr({mapValue:{fields:r.document.fields}}),_=un.newFoundDocument(i,u,c,g);t=new JI(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=zo(n,r.document),u=r.readTime?Bn(r.readTime):Je.min(),c=un.newNoDocument(i,u);t=new JI([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=zo(n,r.document);t=new JI([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return je();{const r=e.filter,u=new _B(r.count||0);t=new QN(r.targetId,u)}}var _;return t}(this.yt,e),r=function(i){if(!("targetChange"in i))return Je.min();const u=i.targetChange;return u.targetIds&&u.targetIds.length?Je.min():u.readTime?Bn(u.readTime):Je.min()}(e);return this.listener.Wo(t,r)}zo(e){const t={};t.database=mv(this.yt),t.addTarget=function(i,u){let c;const g=u.target;return c=zI(g)?{documents:l1(i,g)}:{query:Wx(i,g)},c.targetId=u.targetId,u.resumeToken.approximateByteSize()>0?c.resumeToken=n1(i,u.resumeToken):u.snapshotVersion.compareTo(Je.min())>0&&(c.readTime=Zp(i,u.snapshotVersion.toTimestamp())),c}(this.yt,e);const r=function OB(n,e){const t=function(r,i){switch(i){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return je()}}(0,e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.Bo(t)}Ho(e){const t={};t.database=mv(this.yt),t.removeTarget=e,this.Bo(t)}}class B2 extends oF{constructor(e,t,r,i,u,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.yt=u,this.Jo=!1}get Yo(){return this.Jo}start(){this.Jo=!1,this.lastStreamToken=void 0,super.start()}Uo(){this.Jo&&this.Xo([])}jo(e,t){return this.connection.wo("Write",e,t)}onMessage(e){if(We(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Jo){this.xo.reset();const t=function RB(n,e){return n&&n.length>0?(We(void 0!==e),n.map(t=>function(r,i){let u=Bn(r.updateTime?r.updateTime:i);return u.isEqual(Je.min())&&(u=Bn(i)),new gB(u,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Bn(e.commitTime);return this.listener.Zo(r,t)}return We(!e.writeResults||0===e.writeResults.length),this.Jo=!0,this.listener.tu()}eu(){const e={};e.database=mv(this.yt),this.Bo(e)}Xo(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>function yv(n,e){let t;if(e instanceof Wp)t={update:a1(n,e.key,e.value)};else if(e instanceof qp)t={delete:gv(n,e.key)};else if(e instanceof Wa)t={update:a1(n,e.key,e.data),updateMask:FB(e.fieldMask)};else{if(!(e instanceof jx))return je();t={verify:gv(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,u){const c=u.transform;if(c instanceof Gp)return{fieldPath:u.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof Od)return{fieldPath:u.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof kd)return{fieldPath:u.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof zp)return{fieldPath:u.field.canonicalString(),increment:c.gt};throw je()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:AB(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:je()),t;var i}(this.yt,r))};this.Bo(t)}}class $2 extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.yt=i,this.nu=!1}su(){if(this.nu)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.")}ao(e,t,r){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,u])=>this.connection.ao(e,t,r,i,u)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new we(ee.UNKNOWN,i.toString())})}_o(e,t,r,i){return this.su(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,c])=>this.connection._o(e,t,r,u,c,i)).catch(u=>{throw"FirebaseError"===u.name?(u.code===ee.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new we(ee.UNKNOWN,u.toString())})}terminate(){this.nu=!0}}class H2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.iu=0,this.ru=null,this.ou=!0}uu(){0===this.iu&&(this.cu("Unknown"),this.ru=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.ru=null,this.au("Backend didn't respond within 10 seconds."),this.cu("Offline"),Promise.resolve())))}hu(e){"Online"===this.state?this.cu("Unknown"):(this.iu++,this.iu>=1&&(this.lu(),this.au(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.cu("Offline")))}set(e){this.lu(),this.iu=0,"Online"===e&&(this.ou=!1),this.cu(e)}cu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}au(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ou?(Vn(t),this.ou=!1):De("OnlineStateTracker",t)}lu(){null!==this.ru&&(this.ru.cancel(),this.ru=null)}}class G2{constructor(e,t,r,i,u){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.fu=[],this.du=new Map,this._u=new Set,this.wu=[],this.mu=u,this.mu.Ur(g=>{r.enqueueAndForget((0,oe.Z)(function*(){var _;qa(c)&&(De("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,oe.Z)(function*(D){const C=Fe(D);C._u.add(4),yield tg(C),C.gu.set("Unknown"),C._u.delete(4),yield Tv(C)}),function(D){return _.apply(this,arguments)})(c))}))}),this.gu=new H2(r,i)}}function Tv(n){return vM.apply(this,arguments)}function vM(){return vM=(0,oe.Z)(function*(n){if(qa(n))for(const e of n.wu)yield e(!0)}),vM.apply(this,arguments)}function tg(n){return wM.apply(this,arguments)}function wM(){return wM=(0,oe.Z)(function*(n){for(const e of n.wu)yield e(!1)}),wM.apply(this,arguments)}function gC(n,e){const t=Fe(n);t.du.has(e.targetId)||(t.du.set(e.targetId,e),IM(t)?DM(t):rg(t).ko()&&EM(t,e))}function Av(n,e){const t=Fe(n),r=rg(t);t.du.delete(e),r.ko()&&aF(t,e),0===t.du.size&&(r.ko()?r.Fo():qa(t)&&t.gu.set("Unknown"))}function EM(n,e){n.yu.Ot(e.targetId),rg(n).zo(e)}function aF(n,e){n.yu.Ot(e),rg(n).Ho(e)}function DM(n){n.yu=new IB({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ne:e=>n.du.get(e)||null}),rg(n).start(),n.gu.uu()}function IM(n){return qa(n)&&!rg(n).No()&&n.du.size>0}function qa(n){return 0===Fe(n)._u.size}function uF(n){n.yu=void 0}function z2(n){return CM.apply(this,arguments)}function CM(){return CM=(0,oe.Z)(function*(n){n.du.forEach((e,t)=>{EM(n,e)})}),CM.apply(this,arguments)}function W2(n,e){return bM.apply(this,arguments)}function bM(){return bM=(0,oe.Z)(function*(n,e){uF(n),IM(n)?(n.gu.hu(e),DM(n)):n.gu.set("Unknown")}),bM.apply(this,arguments)}function q2(n,e,t){return SM.apply(this,arguments)}function SM(){return SM=(0,oe.Z)(function*(n,e,t){if(n.gu.set("Online"),e instanceof XN&&2===e.state&&e.cause)try{yield(r=(0,oe.Z)(function*(i,u){const c=u.cause;for(const g of u.targetIds)i.du.has(g)&&(yield i.remoteSyncer.rejectListen(g,c),i.du.delete(g),i.yu.removeTarget(g))}),function(i,u){return r.apply(this,arguments)})(n,e)}catch(r){De("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield mC(n,r)}else if(e instanceof JI?n.yu.Kt(e):e instanceof QN?n.yu.Jt(e):n.yu.jt(e),!t.isEqual(Je.min()))try{const r=yield Y1(n.localStore);t.compareTo(r)>=0&&(yield function(i,u){const c=i.yu.Zt(u);return c.targetChanges.forEach((g,_)=>{if(g.resumeToken.approximateByteSize()>0){const D=i.du.get(_);D&&i.du.set(_,D.withResumeToken(g.resumeToken,u))}}),c.targetMismatches.forEach(g=>{const _=i.du.get(g);if(!_)return;i.du.set(g,_.withResumeToken(ar.EMPTY_BYTE_STRING,_.snapshotVersion)),aF(i,g);const D=new Il(_.target,g,1,_.sequenceNumber);EM(i,D)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){De("RemoteStore","Failed to raise snapshot:",r),yield mC(n,r)}var r}),SM.apply(this,arguments)}function mC(n,e,t){return TM.apply(this,arguments)}function TM(){return TM=(0,oe.Z)(function*(n,e,t){if(!yl(e))throw e;n._u.add(1),yield tg(n),n.gu.set("Offline"),t||(t=()=>Y1(n.localStore)),n.asyncQueue.enqueueRetryable((0,oe.Z)(function*(){De("RemoteStore","Retrying IndexedDB access"),yield t(),n._u.delete(1),yield Tv(n)}))}),TM.apply(this,arguments)}function lF(n,e){return e().catch(t=>mC(n,t,e))}function ng(n){return AM.apply(this,arguments)}function AM(){return AM=(0,oe.Z)(function*(n){const e=Fe(n),t=Tl(e);let r=e.fu.length>0?e.fu[e.fu.length-1].batchId:-1;for(;Z2(e);)try{const i=yield O2(e.localStore,r);if(null===i){0===e.fu.length&&t.Fo();break}r=i.batchId,K2(e,i)}catch(i){yield mC(e,i)}cF(e)&&dF(e)}),AM.apply(this,arguments)}function Z2(n){return qa(n)&&n.fu.length<10}function K2(n,e){n.fu.push(e);const t=Tl(n);t.ko()&&t.Yo&&t.Xo(e.mutations)}function cF(n){return qa(n)&&!Tl(n).No()&&n.fu.length>0}function dF(n){Tl(n).start()}function Y2(n){return xM.apply(this,arguments)}function xM(){return xM=(0,oe.Z)(function*(n){Tl(n).eu()}),xM.apply(this,arguments)}function Q2(n){return MM.apply(this,arguments)}function MM(){return MM=(0,oe.Z)(function*(n){const e=Tl(n);for(const t of n.fu)e.Xo(t.mutations)}),MM.apply(this,arguments)}function X2(n,e,t){return RM.apply(this,arguments)}function RM(){return RM=(0,oe.Z)(function*(n,e,t){const r=n.fu.shift(),i=Kx.from(r,e,t);yield lF(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield ng(n)}),RM.apply(this,arguments)}function J2(n,e){return OM.apply(this,arguments)}function OM(){return OM=(0,oe.Z)(function*(n,e){var t;e&&Tl(n).Yo&&(yield(t=(0,oe.Z)(function*(r,i){if(WN(u=i.code)&&u!==ee.ABORTED){const c=r.fu.shift();Tl(r).Mo(),yield lF(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield ng(r)}var u}),function(r,i){return t.apply(this,arguments)})(n,e)),cF(n)&&dF(n)}),OM.apply(this,arguments)}function hF(n,e){return kM.apply(this,arguments)}function kM(){return kM=(0,oe.Z)(function*(n,e){const t=Fe(n);t.asyncQueue.verifyOperationInProgress(),De("RemoteStore","RemoteStore received new credentials");const r=qa(t);t._u.add(3),yield tg(t),r&&t.gu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t._u.delete(3),yield Tv(t)}),kM.apply(this,arguments)}function NM(){return NM=(0,oe.Z)(function*(n,e){const t=Fe(n);e?(t._u.delete(2),yield Tv(t)):e||(t._u.add(2),yield tg(t),t.gu.set("Unknown"))}),NM.apply(this,arguments)}function rg(n){return n.pu||(n.pu=function(e,t,r){const i=Fe(e);return i.su(),new U2(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:z2.bind(null,n),Zr:W2.bind(null,n),Wo:q2.bind(null,n)}),n.wu.push(function(){var e=(0,oe.Z)(function*(t){t?(n.pu.Mo(),IM(n)?DM(n):n.gu.set("Unknown")):(yield n.pu.stop(),uF(n))});return function(t){return e.apply(this,arguments)}}())),n.pu}function Tl(n){return n.Iu||(n.Iu=function(e,t,r){const i=Fe(e);return i.su(),new B2(t,i.connection,i.authCredentials,i.appCheckCredentials,i.yt,r)}(n.datastore,n.asyncQueue,{Yr:Y2.bind(null,n),Zr:J2.bind(null,n),tu:Q2.bind(null,n),Zo:X2.bind(null,n)}),n.wu.push(function(){var e=(0,oe.Z)(function*(t){t?(n.Iu.Mo(),yield ng(n)):(yield n.Iu.stop(),n.fu.length>0&&(De("RemoteStore",`Stopping write stream with ${n.fu.length} pending writes`),n.fu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Iu}class FM{constructor(e,t,r,i,u){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=u,this.deferred=new or,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,u){const c=Date.now()+r,g=new FM(e,t,c,i,u);return g.start(r),g}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new we(ee.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function ig(n,e){if(Vn("AsyncQueue",`${e}: ${n}`),yl(n))return new we(ee.UNAVAILABLE,`${e}: ${n}`);throw n}class sg{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Ne.comparator(t.key,r.key):(t,r)=>Ne.comparator(t.key,r.key),this.keyedMap=dv(),this.sortedSet=new On(this.comparator)}static emptySet(e){return new sg(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof sg)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,u=r.getNext().key;if(!i.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new sg;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class fF{constructor(){this.Tu=new On(Ne.comparator)}track(e){const t=e.doc.key,r=this.Tu.get(t);r?0!==e.type&&3===r.type?this.Tu=this.Tu.insert(t,e):3===e.type&&1!==r.type?this.Tu=this.Tu.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Tu=this.Tu.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Tu=this.Tu.remove(t):1===e.type&&2===r.type?this.Tu=this.Tu.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Tu=this.Tu.insert(t,{type:2,doc:e.doc}):je():this.Tu=this.Tu.insert(t,e)}Eu(){const e=[];return this.Tu.inorderTraversal((t,r)=>{e.push(r)}),e}}class og{constructor(e,t,r,i,u,c,g,_,D){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=u,this.fromCache=c,this.syncStateChanged=g,this.excludesMetadataChanges=_,this.hasCachedResults=D}static fromInitialDocuments(e,t,r,i,u){const c=[];return t.forEach(g=>{c.push({type:0,doc:g})}),new og(e,t,sg.emptySet(t),c,r,i,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&uv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class e${constructor(){this.Au=void 0,this.listeners=[]}}class t${constructor(){this.queries=new Dl(e=>MN(e),uv),this.onlineState="Unknown",this.Ru=new Set}}function VM(){return VM=(0,oe.Z)(function*(n,e){const t=Fe(n),r=e.query;let i=!1,u=t.queries.get(r);if(u||(i=!0,u=new e$),i)try{u.Au=yield t.onListen(r)}catch(c){const g=ig(c,`Initialization of query '${Bx(e.query)}' failed`);return void e.onError(g)}t.queries.set(r,u),u.listeners.push(e),e.bu(t.onlineState),u.Au&&e.Pu(u.Au)&&$M(t)}),VM.apply(this,arguments)}function BM(){return BM=(0,oe.Z)(function*(n,e){const t=Fe(n),r=e.query;let i=!1;const u=t.queries.get(r);if(u){const c=u.listeners.indexOf(e);c>=0&&(u.listeners.splice(c,1),i=0===u.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),BM.apply(this,arguments)}function n$(n,e){const t=Fe(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const g of c.listeners)g.Pu(i)&&(r=!0);c.Au=i}}r&&$M(t)}function r$(n,e,t){const r=Fe(n),i=r.queries.get(e);if(i)for(const u of i.listeners)u.onError(t);r.queries.delete(e)}function $M(n){n.Ru.forEach(e=>{e.next()})}class jM{constructor(e,t,r){this.query=e,this.vu=t,this.Vu=!1,this.Su=null,this.onlineState="Unknown",this.options=r||{}}Pu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new og(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Vu?this.Du(e)&&(this.vu.next(e),t=!0):this.Cu(e,this.onlineState)&&(this.xu(e),t=!0),this.Su=e,t}onError(e){this.vu.error(e)}bu(e){this.onlineState=e;let t=!1;return this.Su&&!this.Vu&&this.Cu(this.Su,e)&&(this.xu(this.Su),t=!0),t}Cu(e,t){return!e.fromCache||(!this.options.Nu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Du(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Su&&this.Su.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}xu(e){e=og.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Vu=!0,this.vu.next(e)}}class mF{constructor(e){this.key=e}}class yF{constructor(e){this.key=e}}class _F{constructor(e,t){this.query=e,this.qu=t,this.Uu=null,this.hasCachedResults=!1,this.current=!1,this.Ku=Tt(),this.mutatedKeys=Tt(),this.Gu=ON(e),this.Qu=new sg(this.Gu)}get ju(){return this.qu}Wu(e,t){const r=t?t.zu:new fF,i=t?t.Qu:this.Qu;let u=t?t.mutatedKeys:this.mutatedKeys,c=i,g=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,D="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((C,T)=>{const P=i.get(C),$=$x(this.query,T)?T:null,Y=!!P&&this.mutatedKeys.has(P.key),fe=!!$&&($.hasLocalMutations||this.mutatedKeys.has($.key)&&$.hasCommittedMutations);let Ie=!1;P&&$?P.data.isEqual($.data)?Y!==fe&&(r.track({type:3,doc:$}),Ie=!0):this.Hu(P,$)||(r.track({type:2,doc:$}),Ie=!0,(_&&this.Gu($,_)>0||D&&this.Gu($,D)<0)&&(g=!0)):!P&&$?(r.track({type:0,doc:$}),Ie=!0):P&&!$&&(r.track({type:1,doc:P}),Ie=!0,(_||D)&&(g=!0)),Ie&&($?(c=c.add($),u=fe?u.add(C):u.delete(C)):(c=c.delete(C),u=u.delete(C)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const C="F"===this.query.limitType?c.last():c.first();c=c.delete(C.key),u=u.delete(C.key),r.track({type:1,doc:C})}return{Qu:c,zu:r,$i:g,mutatedKeys:u}}Hu(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.Qu;this.Qu=e.Qu,this.mutatedKeys=e.mutatedKeys;const u=e.zu.Eu();u.sort((D,C)=>function(T,P){const $=Y=>{switch(Y){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return je()}};return $(T)-$(P)}(D.type,C.type)||this.Gu(D.doc,C.doc)),this.Ju(r);const c=t?this.Yu():[],g=0===this.Ku.size&&this.current?1:0,_=g!==this.Uu;return this.Uu=g,0!==u.length||_?{snapshot:new og(this.query,e.Qu,i,u,e.mutatedKeys,0===g,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),Xu:c}:{Xu:c}}bu(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({Qu:this.Qu,zu:new fF,mutatedKeys:this.mutatedKeys,$i:!1},!1)):{Xu:[]}}Zu(e){return!this.qu.has(e)&&!!this.Qu.has(e)&&!this.Qu.get(e).hasLocalMutations}Ju(e){e&&(e.addedDocuments.forEach(t=>this.qu=this.qu.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.qu=this.qu.delete(t)),this.current=e.current)}Yu(){if(!this.current)return[];const e=this.Ku;this.Ku=Tt(),this.Qu.forEach(r=>{this.Zu(r.key)&&(this.Ku=this.Ku.add(r.key))});const t=[];return e.forEach(r=>{this.Ku.has(r)||t.push(new yF(r))}),this.Ku.forEach(r=>{e.has(r)||t.push(new mF(r))}),t}tc(e){this.qu=e.Hi,this.Ku=Tt();const t=this.Wu(e.documents);return this.applyChanges(t,!0)}ec(){return og.fromInitialDocuments(this.query,this.Qu,this.mutatedKeys,0===this.Uu,this.hasCachedResults)}}class o${constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class a${constructor(e){this.key=e,this.nc=!1}}class u${constructor(e,t,r,i,u,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=u,this.maxConcurrentLimboResolutions=c,this.sc={},this.ic=new Dl(g=>MN(g),uv),this.rc=new Map,this.oc=new Set,this.uc=new On(Ne.comparator),this.cc=new Map,this.ac=new iM,this.hc={},this.lc=new Map,this.fc=Ud.vn(),this.onlineState="Unknown",this.dc=void 0}get isPrimaryClient(){return!0===this.dc}}function l$(n,e){return HM.apply(this,arguments)}function HM(){return HM=(0,oe.Z)(function*(n,e){const t=hR(n);let r,i;const u=t.ic.get(e);if(u)r=u.targetId,t.sharedClientState.addLocalQueryTarget(r),i=u.view.ec();else{const c=yield Jp(t.localStore,fi(e));t.isPrimaryClient&&gC(t.remoteStore,c);const g=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield GM(t,e,r,"current"===g,c.resumeToken)}return i}),HM.apply(this,arguments)}function GM(n,e,t,r,i){return zM.apply(this,arguments)}function zM(){return zM=(0,oe.Z)(function*(n,e,t,r,i){n._c=(T,P,$)=>{return(Y=(0,oe.Z)(function*(fe,Ie,at,pt){let bt=Ie.view.Wu(at);bt.$i&&(bt=yield dC(fe.localStore,Ie.query,!1).then(({documents:Pt})=>Ie.view.Wu(Pt,bt)));const At=pt&&pt.targetChanges.get(Ie.targetId),Mt=Ie.view.applyChanges(bt,fe.isPrimaryClient,At);return tR(fe,Ie.targetId,Mt.Xu),Mt.snapshot}),function(fe,Ie,at,pt){return Y.apply(this,arguments)})(n,T,P,$);var Y};const u=yield dC(n.localStore,e,!0),c=new _F(e,u.Hi),g=c.Wu(u.documents),_=pv.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),D=c.applyChanges(g,n.isPrimaryClient,_);tR(n,t,D.Xu);const C=new o$(e,t,c);return n.ic.set(e,C),n.rc.has(t)?n.rc.get(t).push(e):n.rc.set(t,[e]),D.snapshot}),zM.apply(this,arguments)}function c$(n,e){return WM.apply(this,arguments)}function WM(){return WM=(0,oe.Z)(function*(n,e){const t=Fe(n),r=t.ic.get(e),i=t.rc.get(r.targetId);if(i.length>1)return t.rc.set(r.targetId,i.filter(u=>!uv(u,e))),void t.ic.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield eg(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),Av(t.remoteStore,r.targetId),ag(t,r.targetId)}).catch(ml))):(ag(t,r.targetId),yield eg(t.localStore,r.targetId,!0))}),WM.apply(this,arguments)}function qM(){return qM=(0,oe.Z)(function*(n,e,t){const r=fR(n);try{const i=yield function(u,c){const g=Fe(u),_=Dn.now(),D=c.reduce((P,$)=>P.add($.key),Tt());let C,T;return g.persistence.runTransaction("Locally write mutations","readwrite",P=>{let $=Di(),Y=Tt();return g.Gi.getEntries(P,D).next(fe=>{$=fe,$.forEach((Ie,at)=>{at.isValidDocument()||(Y=Y.add(Ie))})}).next(()=>g.localDocuments.getOverlayedDocuments(P,$)).next(fe=>{C=fe;const Ie=[];for(const at of c){const pt=yB(at,C.get(at.key).overlayedDocument);null!=pt&&Ie.push(new Wa(at.key,pt,bN(pt.value.mapValue),gn.exists(!0)))}return g.mutationQueue.addMutationBatch(P,_,Ie,c)}).next(fe=>{T=fe;const Ie=fe.applyToLocalDocumentSet(C,Y);return g.documentOverlayCache.saveOverlays(P,fe.batchId,Ie)})}).then(()=>({batchId:T.batchId,changes:KN(C)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(u,c,g){let _=u.hc[u.currentUser.toKey()];_||(_=new On(wt)),_=_.insert(c,g),u.hc[u.currentUser.toKey()]=_}(r,i.batchId,t),yield Za(r,i.changes),yield ng(r.remoteStore)}catch(i){const u=ig(i,"Failed to persist write");t.reject(u)}}),qM.apply(this,arguments)}function vF(n,e){return ZM.apply(this,arguments)}function ZM(){return ZM=(0,oe.Z)(function*(n,e){const t=Fe(n);try{const r=yield R2(t.localStore,e);e.targetChanges.forEach((i,u)=>{const c=t.cc.get(u);c&&(We(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.nc=!0:i.modifiedDocuments.size>0?We(c.nc):i.removedDocuments.size>0&&(We(c.nc),c.nc=!1))}),yield Za(t,r,e)}catch(r){yield ml(r)}}),ZM.apply(this,arguments)}function wF(n,e,t){const r=Fe(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.ic.forEach((u,c)=>{const g=c.view.bu(e);g.snapshot&&i.push(g.snapshot)}),function(u,c){const g=Fe(u);g.onlineState=c;let _=!1;g.queries.forEach((D,C)=>{for(const T of C.listeners)T.bu(c)&&(_=!0)}),_&&$M(g)}(r.eventManager,e),i.length&&r.sc.Wo(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function h$(n,e,t){return KM.apply(this,arguments)}function KM(){return KM=(0,oe.Z)(function*(n,e,t){const r=Fe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.cc.get(e),u=i&&i.key;if(u){let c=new On(Ne.comparator);c=c.insert(u,un.newNoDocument(u,Je.min()));const g=Tt().add(u),_=new fv(Je.min(),new Map,new Xt(wt),c,g);yield vF(r,_),r.uc=r.uc.remove(u),r.cc.delete(e),nR(r)}else yield eg(r.localStore,e,!1).then(()=>ag(r,e,t)).catch(ml)}),KM.apply(this,arguments)}function f$(n,e){return YM.apply(this,arguments)}function YM(){return YM=(0,oe.Z)(function*(n,e){const t=Fe(n),r=e.batch.batchId;try{const i=yield M2(t.localStore,e);eR(t,r,null),JM(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Za(t,i)}catch(i){yield ml(i)}}),YM.apply(this,arguments)}function p$(n,e,t){return QM.apply(this,arguments)}function QM(){return QM=(0,oe.Z)(function*(n,e,t){const r=Fe(n);try{const i=yield function(u,c){const g=Fe(u);return g.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let D;return g.mutationQueue.lookupMutationBatch(_,c).next(C=>(We(null!==C),D=C.keys(),g.mutationQueue.removeMutationBatch(_,C))).next(()=>g.mutationQueue.performConsistencyCheck(_)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(_,D,c)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,D)).next(()=>g.localDocuments.getDocuments(_,D))})}(r.localStore,e);eR(r,e,t),JM(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Za(r,i)}catch(i){yield ml(i)}}),QM.apply(this,arguments)}function JM(n,e){(n.lc.get(e)||[]).forEach(t=>{t.resolve()}),n.lc.delete(e)}function eR(n,e,t){const r=Fe(n);let i=r.hc[r.currentUser.toKey()];if(i){const u=i.get(e);u&&(t?u.reject(t):u.resolve(),i=i.remove(e)),r.hc[r.currentUser.toKey()]=i}}function ag(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.rc.get(e))n.ic.delete(r),t&&n.sc.wc(r,t);n.rc.delete(e),n.isPrimaryClient&&n.ac.ls(e).forEach(r=>{n.ac.containsKey(r)||EF(n,r)})}function EF(n,e){n.oc.delete(e.path.canonicalString());const t=n.uc.get(e);null!==t&&(Av(n.remoteStore,t),n.uc=n.uc.remove(e),n.cc.delete(t),nR(n))}function tR(n,e,t){for(const r of t)r instanceof mF?(n.ac.addReference(r.key,e),m$(n,r)):r instanceof yF?(De("SyncEngine","Document no longer in limbo: "+r.key),n.ac.removeReference(r.key,e),n.ac.containsKey(r.key)||EF(n,r.key)):je()}function m$(n,e){const t=e.key,r=t.path.canonicalString();n.uc.get(t)||n.oc.has(r)||(De("SyncEngine","New document in limbo: "+t),n.oc.add(r),nR(n))}function nR(n){for(;n.oc.size>0&&n.uc.size<n.maxConcurrentLimboResolutions;){const e=n.oc.values().next().value;n.oc.delete(e);const t=new Ne(jt.fromString(e)),r=n.fc.next();n.cc.set(r,new a$(t)),n.uc=n.uc.insert(t,r),gC(n.remoteStore,new Il(fi(Hp(t.path)),r,2,Hi.at))}}function Za(n,e,t){return rR.apply(this,arguments)}function rR(){return rR=(0,oe.Z)(function*(n,e,t){const r=Fe(n),i=[],u=[],c=[];var g;r.ic.isEmpty()||(r.ic.forEach((g,_)=>{c.push(r._c(_,e,t).then(D=>{if((D||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,D?.fromCache?"not-current":"current"),D){i.push(D);const C=uM.Ci(_.targetId,D);u.push(C)}}))}),yield Promise.all(c),r.sc.Wo(i),yield(g=(0,oe.Z)(function*(_,D){const C=Fe(_);try{yield C.persistence.runTransaction("notifyLocalViewChanges","readwrite",T=>X.forEach(D,P=>X.forEach(P.Si,$=>C.persistence.referenceDelegate.addReference(T,P.targetId,$)).next(()=>X.forEach(P.Di,$=>C.persistence.referenceDelegate.removeReference(T,P.targetId,$)))))}catch(T){if(!yl(T))throw T;De("LocalStore","Failed to update sequence numbers: "+T)}for(const T of D){const P=T.targetId;if(!T.fromCache){const $=C.qi.get(P),fe=$.withLastLimboFreeSnapshotVersion($.snapshotVersion);C.qi=C.qi.insert(P,fe)}}}),function(_,D){return g.apply(this,arguments)})(r.localStore,u))}),rR.apply(this,arguments)}function y$(n,e){return iR.apply(this,arguments)}function iR(){return iR=(0,oe.Z)(function*(n,e){const t=Fe(n);if(!t.currentUser.isEqual(e)){De("SyncEngine","User change. New user:",e.toKey());const r=yield K1(t.localStore,e);t.currentUser=e,(i=t).lc.forEach(c=>{c.forEach(g=>{g.reject(new we(ee.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.lc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Za(t,r.ji)}var i}),iR.apply(this,arguments)}function _$(n,e){const t=Fe(n),r=t.cc.get(e);if(r&&r.nc)return Tt().add(r.key);{let i=Tt();const u=t.rc.get(e);if(!u)return i;for(const c of u){const g=t.ic.get(c);i=i.unionWith(g.view.ju)}return i}}function hR(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=vF.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=_$.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=h$.bind(null,e),e.sc.Wo=n$.bind(null,e.eventManager),e.sc.wc=r$.bind(null,e.eventManager),e}function fR(n){const e=Fe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=f$.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=p$.bind(null,e),e}class T${constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,oe.Z)(function*(){t.yt=Sv(e.databaseInfo.databaseId),t.sharedClientState=t.gc(e),t.persistence=t.yc(e),yield t.persistence.start(),t.localStore=t.Ic(e),t.gcScheduler=t.Tc(e,t.localStore),t.indexBackfillerScheduler=t.Ec(e,t.localStore)})()}Tc(e,t){return null}Ec(e,t){return null}Ic(e){return function Z1(n,e,t,r){return new x2(n,e,t,r)}(this.persistence,new q1,e.initialUser,this.yt)}yc(e){return new z1(lC.Bs,this.yt)}gc(e){return new rF}terminate(){var e=this;return(0,oe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class pR{initialize(e,t){var r=this;return(0,oe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>wF(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=y$.bind(null,r.syncEngine),yield function PM(n,e){return NM.apply(this,arguments)}(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new t$}createDatastore(e){const t=Sv(e.databaseInfo.databaseId),r=new V2(e.databaseInfo);return new $2(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,u=g=>wF(this.syncEngine,g,0),c=iF.C()?new iF:new N2,new G2(t,r,i,u,c);var t,r,i,u,c}createSyncEngine(e,t){return function(r,i,u,c,g,_,D){const C=new u$(r,i,u,c,g,_);return D&&(C.dc=!0),C}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,oe.Z)(function*(t){const r=Fe(t);De("RemoteStore","RemoteStore shutting down."),r._u.add(5),yield tg(r),r.mu.shutdown(),r.gu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function gR(n,e,t){if(!t)throw new we(ee.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function CF(n){if(!Ne.isDocumentKey(n))throw new we(ee.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function bF(n){if(Ne.isDocumentKey(n))throw new we(ee.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function yC(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":je()}function Bt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new we(ee.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=yC(n);throw new we(ee.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}const TF=new Map;class AF{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new we(ee.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new we(ee.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,function M$(n,e,t,r){if(!0===e&&!0===r)throw new we(ee.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xv{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new AF({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new we(ee.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new we(ee.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new AF(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new VU;switch(t.type){case"gapi":return new jU(t.client,t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new we(ee.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=TF.get(e);t&&(De("ComponentProvider","Removing Datastore"),TF.delete(e),t.terminate())}(this),Promise.resolve()}}class $n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $n(this.firestore,e,this._key)}}class Hr{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Hr(this.firestore,e,this._query)}}class qo extends Hr{constructor(e,t,r){super(e,t,Hp(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $n(this.firestore,null,new Ne(e))}withConverter(e){return new qo(this.firestore,e,this._path)}}function xF(n,e,...t){if(n=(0,Ct.m9)(n),gR("collection","path",e),n instanceof xv){const r=jt.fromString(e,...t);return bF(r),new qo(n,null,r)}{if(!(n instanceof $n||n instanceof qo))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jt.fromString(e,...t));return bF(r),new qo(n.firestore,null,r)}}function MF(n,e,...t){if(n=(0,Ct.m9)(n),1===arguments.length&&(e=JP.R()),gR("doc","path",e),n instanceof xv){const r=jt.fromString(e,...t);return CF(r),new $n(n,null,new Ne(r))}{if(!(n instanceof $n||n instanceof qo))throw new we(ee.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(jt.fromString(e,...t));return CF(r),new $n(n.firestore,n instanceof qo?n.converter:null,new Ne(r))}}class _C{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Rc(this.observer.next,e)}error(e){this.observer.error?this.Rc(this.observer.error,e):Vn("Uncaught Error in snapshot listener:",e.toString())}bc(){this.muted=!0}Rc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class L${constructor(e,t,r,i){var u=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mr.UNAUTHENTICATED,this.clientId=JP.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,oe.Z)(function*(g){De("FirestoreClient","Received user=",g.uid),yield u.authCredentialListener(g),u.user=g});return function(g){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(De("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,oe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new we(ee.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new or;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,oe.Z)(function*(){try{e.onlineComponents&&(yield e.onlineComponents.terminate()),e.offlineComponents&&(yield e.offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=ig(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function kF(n,e){return mR.apply(this,arguments)}function mR(){return mR=(0,oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),De("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,oe.Z)(function*(u){r.isEqual(u)||(yield K1(e.localStore,u),r=u)});return function(u){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n.offlineComponents=e}),mR.apply(this,arguments)}function PF(n,e){return yR.apply(this,arguments)}function yR(){return yR=(0,oe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield _R(n);De("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>hF(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,u)=>hF(e.remoteStore,u)),n.onlineComponents=e}),yR.apply(this,arguments)}function _R(n){return vR.apply(this,arguments)}function vR(){return vR=(0,oe.Z)(function*(n){return n.offlineComponents||(De("FirestoreClient","Using default OfflineComponentProvider"),yield kF(n,new T$)),n.offlineComponents}),vR.apply(this,arguments)}function vC(n){return wR.apply(this,arguments)}function wR(){return wR=(0,oe.Z)(function*(n){return n.onlineComponents||(De("FirestoreClient","Using default OnlineComponentProvider"),yield PF(n,new pR)),n.onlineComponents}),wR.apply(this,arguments)}function ug(n){return IR.apply(this,arguments)}function IR(){return IR=(0,oe.Z)(function*(n){const e=yield vC(n),t=e.eventManager;return t.onListen=l$.bind(null,e.syncEngine),t.onUnlisten=c$.bind(null,e.syncEngine),t}),IR.apply(this,arguments)}class z${constructor(){this.Bc=Promise.resolve(),this.Lc=[],this.qc=!1,this.Uc=[],this.Kc=null,this.Gc=!1,this.Qc=!1,this.jc=[],this.xo=new yM(this,"async_queue_retry"),this.Wc=()=>{const t=pC();t&&De("AsyncQueue","Visibility state changed to "+t.visibilityState),this.xo.Po()};const e=pC();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Wc)}get isShuttingDown(){return this.qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.zc(),this.Hc(e)}enterRestrictedMode(e){if(!this.qc){this.qc=!0,this.Qc=e||!1;const t=pC();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Wc)}}enqueue(e){if(this.zc(),this.qc)return new Promise(()=>{});const t=new or;return this.Hc(()=>this.qc&&this.Qc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Lc.push(e),this.Jc()))}Jc(){var e=this;return(0,oe.Z)(function*(){if(0!==e.Lc.length){try{yield e.Lc[0](),e.Lc.shift(),e.xo.reset()}catch(t){if(!yl(t))throw t;De("AsyncQueue","Operation failed with retryable error: "+t)}e.Lc.length>0&&e.xo.Ro(()=>e.Jc())}})()}Hc(e){const t=this.Bc.then(()=>(this.Gc=!0,e().catch(r=>{throw this.Kc=r,this.Gc=!1,Vn("INTERNAL UNHANDLED ERROR: ",function(u){let c=u.message||"";return u.stack&&(c=u.stack.includes(u.message)?u.stack:u.message+"\n"+u.stack),c}(r)),r}).then(r=>(this.Gc=!1,r))));return this.Bc=t,t}enqueueAfterDelay(e,t,r){this.zc(),this.jc.indexOf(e)>-1&&(t=0);const i=FM.createAndSchedule(this,e,t,r,u=>this.Yc(u));return this.Uc.push(i),i}zc(){this.Kc&&je()}verifyOperationInProgress(){}Xc(){var e=this;return(0,oe.Z)(function*(){let t;do{t=e.Bc,yield t}while(t!==e.Bc)})()}Zc(e){for(const t of this.Uc)if(t.timerId===e)return!0;return!1}ta(e){return this.Xc().then(()=>{this.Uc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Uc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.Xc()})}ea(e){this.jc.push(e)}Yc(e){const t=this.Uc.indexOf(e);this.Uc.splice(t,1)}}function CR(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class ln extends xv{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new z$,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||UF(this),this._firestoreClient.terminate()}}function q$(n,e){const t="object"==typeof n?n:(0,xt.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,xt._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const u=(0,Ct.P0)("firestore");u&&function R$(n,e,t,r={}){var i;const u=(n=Bt(n,xv))._getSettings();if("firestore.googleapis.com"!==u.host&&u.host!==e&&Lp("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},u),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,g;if("string"==typeof r.mockUserToken)c=r.mockUserToken,g=mr.MOCK_USER;else{c=(0,Ct.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new we(ee.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new mr(_)}n._authCredentials=new UU(new QP(c,g))}}(i,...u)}return i}function Qn(n){return n._firestoreClient||UF(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function UF(n){var e;const t=n._freezeSettings(),r=(u=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new JU(n._databaseId,u,n._persistenceKey,(g=t).host,g.ssl,g.experimentalForceLongPolling,g.experimentalAutoDetectLongPolling,g.useFetchStreams));var u,g;n._firestoreClient=new L$(n._authCredentials,n._appCheckCredentials,n._queue,r)}class $d{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $d(ar.fromBase64String(e))}catch(t){throw new we(ee.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new $d(ar.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class lg{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new we(ee.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Un(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class jF{constructor(e){this._methodName=e}}class bR{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new we(ee.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new we(ee.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return wt(this._lat,e._lat)||wt(this._long,e._long)}}const Z$=/^__.*__$/;class K${constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new Wa(e,this.data,this.fieldMask,t,this.fieldTransforms):new Wp(e,this.data,t,this.fieldTransforms)}}function GF(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw je()}}class EC{constructor(e,t,r,i,u,c){this.settings=e,this.databaseId=t,this.yt=r,this.ignoreUndefinedProperties=i,void 0===u&&this.na(),this.fieldTransforms=u||[],this.fieldMask=c||[]}get path(){return this.settings.path}get sa(){return this.settings.sa}ia(e){return new EC(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.yt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ra(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.ua(e),i}ca(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ia({path:r,oa:!1});return i.na(),i}aa(e){return this.ia({path:void 0,oa:!0})}ha(e){return IC(e,this.settings.methodName,this.settings.la||!1,this.path,this.settings.fa)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}na(){if(this.path)for(let e=0;e<this.path.length;e++)this.ua(this.path.get(e))}ua(e){if(0===e.length)throw this.ha("Document fields must not be empty");if(GF(this.sa)&&Z$.test(e))throw this.ha('Document fields cannot begin and end with "__"')}}class Y${constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.yt=r||Sv(e)}da(e,t,r,i=!1){return new EC({sa:e,methodName:t,fa:r,path:Un.emptyPath(),oa:!1,la:i},this.databaseId,this.yt,this.ignoreUndefinedProperties)}}function cg(n){const e=n._freezeSettings(),t=Sv(n._databaseId);return new Y$(n._databaseId,!!e.ignoreUndefinedProperties,t)}function SR(n,e,t,r,i,u={}){const c=n.da(u.merge||u.mergeFields?2:0,e,t,i);AR("Data must be an object, but it was:",c,r);const g=KF(r,c);let _,D;if(u.merge)_=new Ei(c.fieldMask),D=c.fieldTransforms;else if(u.mergeFields){const C=[];for(const T of u.mergeFields){const P=xR(e,T,t);if(!c.contains(P))throw new we(ee.INVALID_ARGUMENT,`Field '${P}' is specified in your field mask but missing from your input data.`);QF(C,P)||C.push(P)}_=new Ei(C),D=c.fieldTransforms.filter(T=>_.covers(T.field))}else _=null,D=c.fieldTransforms;return new K$(new jr(g),_,D)}function jd(n,e){if(YF(n=(0,Ct.m9)(n)))return AR("Unsupported field value:",e,n),KF(n,e);if(n instanceof jF)return function(t,r){if(!GF(r.sa))throw r.ha(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r.ha(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.oa&&4!==e.sa)throw e.ha("Nested arrays are not supported");return function(t,r){const i=[];let u=0;for(const c of t){let g=jd(c,r.aa(u));null==g&&(g={nullValue:"NULL_VALUE"}),i.push(g),u++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Ct.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return NN(r.yt,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Dn.fromDate(t);return{timestampValue:Zp(r.yt,i)}}if(t instanceof Dn){const i=new Dn(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Zp(r.yt,i)}}if(t instanceof bR)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof $d)return{bytesValue:n1(r.yt,t._byteString)};if(t instanceof $n){const i=r.databaseId,u=t.firestore._databaseId;if(!u.isEqual(i))throw r.ha(`Document reference is for database ${u.projectId}/${u.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Hx(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r.ha(`Unsupported field value: ${yC(t)}`)}(n,e)}function KF(n,e){const t={};return oN(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Sd(n,(r,i)=>{const u=jd(i,e.ra(r));null!=u&&(t[r]=u)}),{mapValue:{fields:t}}}function YF(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Dn||n instanceof bR||n instanceof $d||n instanceof $n||n instanceof jF)}function AR(n,e,t){if(!YF(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=yC(t);throw e.ha("an object"===r?n+" a custom object":n+" "+r)}var r}function xR(n,e,t){if((e=(0,Ct.m9)(e))instanceof lg)return e._internalPath;if("string"==typeof e)return DC(n,e);throw IC("Field path arguments must be of type string or ",n,!1,void 0,t)}const ej=new RegExp("[~\\*/\\[\\]]");function DC(n,e,t){if(e.search(ej)>=0)throw IC(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new lg(...e.split("."))._internalPath}catch{throw IC(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function IC(n,e,t,r,i){const u=r&&!r.isEmpty(),c=void 0!==i;let g=`Function ${e}() called with invalid data`;t&&(g+=" (via `toFirestore()`)"),g+=". ";let _="";return(u||c)&&(_+=" (found",u&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new we(ee.INVALID_ARGUMENT,g+n+_)}function QF(n,e){return n.some(t=>t.isEqual(e))}class MR{constructor(e,t,r,i,u){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new $n(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new tj(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(CC("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class tj extends MR{data(){return super.data()}}function CC(n,e){return"string"==typeof e?DC(n,e):e instanceof lg?e._internalPath:e._delegate._internalPath}class rj{convertValue(e,t="none"){switch(Ad(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Rn(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Td(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw je()}}convertObject(e,t){const r={};return Sd(e.fields,(i,u)=>{r[i]=this.convertValue(u,t)}),r}convertGeoPoint(e){return new bR(Rn(e.latitude),Rn(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=uN(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(rv(e));default:return null}}convertTimestamp(e){const t=_l(e);return new Dn(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=jt.fromString(e);We(f1(r));const i=new bd(r.get(1),r.get(3)),u=new Ne(r.popFirst(5));return i.isEqual(t)||Vn(`Document ${u} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),u}}class Hd{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hg extends MR{constructor(e,t,r,i,u,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new AC(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(CC("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class AC extends hg{data(e={}){return super.data(e)}}class fg{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Hd(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new AC(this._firestore,this._userDataWriter,r.key,r,new Hd(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new we(ee.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let u=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new AC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Hd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:u++}))}{let u=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const g=new AC(r._firestore,r._userDataWriter,c.doc.key,c.doc,new Hd(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,D=-1;return 0!==c.type&&(_=u.indexOf(c.doc.key),u=u.delete(c.doc.key)),1!==c.type&&(u=u.add(c.doc),D=u.indexOf(c.doc.key)),{type:ij(c.type),doc:g,oldIndex:_,newIndex:D}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function ij(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return je()}}class Al extends rj{constructor(e){super(),this.firestore=e}convertBytes(e){return new $d(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new $n(this.firestore,null,t)}}function Ov(n,e){return function(t,r){const i=new or;return t.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function d$(n,e,t){return qM.apply(this,arguments)}(yield function DR(n){return vC(n).then(e=>e.syncEngine)}(t),r,i)})),i.promise}(Qn(n),e)}!function(n,e=!0){Fp=xt.SDK_VERSION,(0,xt._registerComponent)(new ds.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const u=t.getProvider("app").getImmediate(),c=new ln(new BU(t.getProvider("auth-internal")),new HU(t.getProvider("app-check-internal")),function(g,_){if(!Object.prototype.hasOwnProperty.apply(g.options,["projectId"]))throw new we(ee.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bd(g.options.projectId,_)}(u,r),u);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,xt.registerVersion)(YP,"3.8.1",n),(0,xt.registerVersion)(YP,"3.8.1","esm2017")}();var dj={includeMetadataChanges:!1};function PR(n,e){return void 0===e&&(e=dj),new zn.y(function(t){var r=function aj(n,...e){var t,r,i;n=(0,Ct.m9)(n);let u={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||CR(e[c])||(u=e[c],c++);const g={includeMetadataChanges:u.includeMetadataChanges};if(CR(e[c])){const T=e[c];e[c]=null===(t=T.next)||void 0===t?void 0:t.bind(T),e[c+1]=null===(r=T.error)||void 0===r?void 0:r.bind(T),e[c+2]=null===(i=T.complete)||void 0===i?void 0:i.bind(T)}let _,D,C;if(n instanceof $n)D=Bt(n.firestore,ln),C=Hp(n._key.path),_={next:T=>{e[c]&&e[c](function kR(n,e,t){const r=t.docs.get(e._key),i=new Al(n);return new hg(n,i,e._key,r,new Hd(t.hasPendingWrites,t.fromCache),e.converter)}(D,n,T))},error:e[c+1],complete:e[c+2]};else{const T=Bt(n,Hr);D=Bt(T.firestore,ln),C=T._query;const P=new Al(D);_={next:$=>{e[c]&&e[c](new fg(D,P,T,$))},error:e[c+1],complete:e[c+2]},function XF(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new we(ee.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}(n._query)}return function(T,P,$,Y){const fe=new _C(Y),Ie=new jM(P,fe,$);return T.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function LM(n,e){return VM.apply(this,arguments)}(yield ug(T),Ie)})),()=>{fe.bc(),T.asyncQueue.enqueueAndForget((0,oe.Z)(function*(){return function UM(n,e){return BM.apply(this,arguments)}(yield ug(T),Ie)}))}}(Qn(D),C,g,_)}(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function _j(n,e){return void 0===e&&(e={}),function yj(n){return PR(n,{includeMetadataChanges:!0}).pipe((0,it.U)(function(e){return e.docs}))}(n).pipe((0,it.U)(function(t){return t.map(function(r){return function oL(n,e){void 0===e&&(e={});var t=n.data();return!n.exists()||"object"!=typeof t||null===t||e.idField&&(t[e.idField]=n.id),t}(r,e)})}))}class MC{constructor(e){return e}}const cL="firestore",LR=new h.OlP("angularfire2.firestore-instances");function Ej(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new MC(r)}}const Dj={provide:class vj{constructor(){return gA(cL)}},deps:[[new h.FiY,LR]]},Ij={provide:MC,useFactory:function wj(n,e){const t=pA(cL,n,e);return t&&new MC(t)},deps:[[new h.FiY,LR],Mp]};let Cj=(()=>{class n{constructor(){(0,xt.registerVersion)("angularfire",ht.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=h.oAB({type:n}),n.\u0275inj=h.cJS({providers:[Ij,Dj]}),n})();const Sj=xp(_j,!0),Tj=xp(q$,!0);class Gd{constructor(e){this.firestore=e}addProduct(e){return function oj(n,e){const t=Bt(n.firestore,ln),r=MF(n),i=function OR(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}(n.converter,e);return Ov(t,[SR(cg(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,gn.exists(!1))]).then(()=>r)}(xF(this.firestore,"medicamentos"),e)}getProductos(){const e=xF(this.firestore,"medicamentos");return Sj(e,{idField:"id"})}deleteProducto(e){return function sj(n){return Ov(Bt(n.firestore,ln),[new qp(n._key,gn.none())])}(MF(this.firestore,`medicamentos/${e.id}`))}}function Aj(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1," El nombre del medicamento es requerido "),h.qZA())}function xj(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1," El nombre del medicamento como min\xedmo es de 5 caracteres "),h.qZA())}function Mj(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1," El costo del producto es requerido "),h.qZA())}function Rj(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1," El valor minimo es de S/0.50 "),h.qZA())}function Oj(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1," La URL de la imagen es requerida "),h.qZA())}function kj(n,e){1&n&&(h.TgZ(0,"p",16),h._uU(1," La url no es v\xe1lida. Ejemplo: https://www.example.com/images/my-image.jpg "),h._UZ(2,"br"),h._uU(3,"Se aceptan los siguientes formatos: jpeg|png|svg "),h.qZA())}Gd.\u0275fac=function(e){return new(e||Gd)(h.LFG(MC))},Gd.\u0275prov=h.Yz7({token:Gd,factory:Gd.\u0275fac,providedIn:"root"});const VR=function(n){return{"border-red-600 focus:ring-red-600":n}};class kv{constructor(e,t,r){this.overlayService=e,this.fb=t,this.farmaciaService=r,this.regexImagen=/https?:\/\/(www\.)?[-a-zA-Z0-9@:%._\+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_\+.~#?&//=]*\.(jpg|jpeg|png|svg))/}ngOnInit(){this.formProducto=this.fb.group({nombre:["",[Pr.required,Pr.minLength(5)]],costo:["",[Pr.required,Pr.min(.5)]],imagen:["",[Pr.required,Pr.pattern(this.regexImagen)]]})}guardar(){const{nombre:e,costo:t,imagen:r}=this.formProducto.value,i={nombre:String(e.trim()),costo:t,imagen:String(r.trim())};this.farmaciaService.addProduct(i).then(()=>{this.overlayService.close("addProduct")})}close(){this.overlayService.close("addProduct")}get form(){return this.formProducto.controls}campoNoValido(e){return this.formProducto.get(e)?.invalid&&this.formProducto.get(e)?.touched}}kv.\u0275fac=function(e){return new(e||kv)(h.Y36(Pa),h.Y36(qu),h.Y36(Gd))},kv.\u0275cmp=h.Xpm({type:kv,selectors:[["app-add-product"]],decls:33,vars:17,consts:[[1,"bg-white","rounded-lg"],[3,"formGroup","submit"],[1,"px-4","py-8","sm:px-10"],[1,"relative"],[1,"relative","flex","justify-center","text-sm"],[1,"px-2","text-gray-500","bg-white","text-2xl","font-semibold"],[1,"mt-6"],[1,"w-full","space-y-4"],[1,"w-full"],["type","text","formControlName","nombre","placeholder","Nombre del Producto",1,"rounded-lg","border-transparent","flex-1","appearance-none","border","border-gray-300","w-full","py-2","px-4","bg-white","text-gray-700","placeholder-gray-400","shadow-sm","text-base","focus:outline-none","focus:ring-2","focus:ring-purple-600","focus:border-transparent",3,"ngClass"],["class","text-sm text-red-600",4,"ngIf"],["type","number","formControlName","costo","placeholder","Costo del producto",1,"rounded-lg","border-transparent","flex-1","appearance-none","border","border-gray-300","w-full","py-2","px-4","bg-white","text-gray-700","placeholder-gray-400","shadow-sm","text-base","focus:outline-none","focus:ring-2","focus:ring-purple-600","focus:border-transparent",3,"ngClass"],["type","text","formControlName","imagen","placeholder","URL de la imagen",1,"rounded-lg","border-transparent","flex-1","appearance-none","border","border-gray-300","w-full","py-2","px-4","bg-white","text-gray-700","placeholder-gray-400","shadow-sm","text-base","focus:outline-none","focus:ring-2","focus:ring-purple-600","focus:border-transparent",3,"ngClass"],[1,"flex","justify-between","gap-4","w-full","rounded-md","shadow-sm"],["type","submit",1,"bg-indigo-500","text-white","px-4","py-2","rounded-lg","hover:bg-indigo-700","disabled:bg-indigo-200",3,"disabled"],["type","button",1,"bg-red-500","text-white","px-4","py-2","rounded-lg","hover:bg-red-700",3,"click"],[1,"text-sm","text-red-600"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("submit",function(){return t.guardar()}),h.TgZ(2,"div",0)(3,"div",2)(4,"div",3)(5,"div",4)(6,"span",5),h._uU(7," Nuevo Producto "),h.qZA()()(),h.TgZ(8,"div",6)(9,"div",7)(10,"div",8)(11,"div",3),h._UZ(12,"input",9),h.TgZ(13,"div"),h.YNc(14,Aj,2,0,"p",10),h.YNc(15,xj,2,0,"p",10),h.qZA()()(),h.TgZ(16,"div",8)(17,"div",3),h._UZ(18,"input",11),h.TgZ(19,"div"),h.YNc(20,Mj,2,0,"p",10),h.YNc(21,Rj,2,0,"p",10),h.qZA()()(),h.TgZ(22,"div",8)(23,"div",3),h._UZ(24,"input",12),h.TgZ(25,"div"),h.YNc(26,Oj,2,0,"p",10),h.YNc(27,kj,4,0,"p",10),h.qZA()()(),h.TgZ(28,"div",13)(29,"button",14),h._uU(30," Guardar "),h.qZA(),h.TgZ(31,"button",15),h.NdJ("click",function(){return t.close()}),h._uU(32," Cerrar "),h.qZA()()()()()()()()),2&e&&(h.xp6(1),h.Q6J("formGroup",t.formProducto),h.xp6(11),h.Q6J("ngClass",h.VKq(11,VR,t.campoNoValido("nombre"))),h.xp6(2),h.Q6J("ngIf",(null==t.form.nombre||null==t.form.nombre.errors?null:t.form.nombre.errors.required)&&t.form.nombre.touched),h.xp6(1),h.Q6J("ngIf",(null==t.form.nombre||null==t.form.nombre.errors?null:t.form.nombre.errors.minlength)&&t.form.nombre.touched),h.xp6(3),h.Q6J("ngClass",h.VKq(13,VR,t.campoNoValido("costo"))),h.xp6(2),h.Q6J("ngIf",(null==t.form.costo||null==t.form.costo.errors?null:t.form.costo.errors.required)&&t.form.costo.touched),h.xp6(1),h.Q6J("ngIf",(null==t.form.costo||null==t.form.costo.errors?null:t.form.costo.errors.min)&&t.form.costo.touched),h.xp6(3),h.Q6J("ngClass",h.VKq(15,VR,t.campoNoValido("imagen"))),h.xp6(2),h.Q6J("ngIf",(null==t.form.imagen||null==t.form.imagen.errors?null:t.form.imagen.errors.required)&&t.form.imagen.touched),h.xp6(1),h.Q6J("ngIf",(null==t.form.imagen||null==t.form.imagen.errors?null:t.form.imagen.errors.pattern)&&t.form.imagen.touched),h.xp6(2),h.Q6J("disabled",t.formProducto.invalid))},dependencies:[lt,Ti,Zc,xo,ny,Sa,$u,ko,Wu]});class xl{constructor(e,t){this.auth=e,this.router=t}registerUser({email:e,password:t}){return kV(this.auth,e,t)}login({email:e,password:t}){return NV(this.auth,e,t)}logout(){this.auth.signOut().then(()=>{this.router.navigate(["/login"])}).catch(e=>console.log(e))}}xl.\u0275fac=function(e){return new(e||xl)(h.LFG(dI),h.LFG(Zn))},xl.\u0275prov=h.Yz7({token:xl,factory:xl.\u0275fac,providedIn:"root"});class Pv{constructor(e,t){this.userService=e,this.router=t}logout(){this.userService.logout(),this.router.navigate(["/auth"])}}function Pj(n,e){if(1&n){const t=h.EpF();h.TgZ(0,"tr",8)(1,"td",9),h._uU(2),h.qZA(),h.TgZ(3,"td",10),h._uU(4),h.qZA(),h.TgZ(5,"td",10),h._uU(6),h.ALo(7,"currency"),h.qZA(),h.TgZ(8,"td",10),h._UZ(9,"img",11),h.qZA(),h.TgZ(10,"td",10)(11,"button",12),h.NdJ("click",function(){const u=h.CHM(t).$implicit,c=h.oxw();return h.KtG(c.onDelete(u))}),h._uU(12," Eliminar "),h.qZA()()()}if(2&n){const t=e.$implicit,r=e.index;h.Q6J("ngClass",e.odd?"bg-white":"bg-gray-100"),h.xp6(2),h.hij(" ",r+1," "),h.xp6(2),h.hij(" ",t.nombre," "),h.xp6(2),h.hij(" ",h.xi3(7,5,t.costo.toString(),"S/.")," "),h.xp6(3),h.Q6J("src",t.imagen,h.LSH)}}Pv.\u0275fac=function(e){return new(e||Pv)(h.Y36(xl),h.Y36(Zn))},Pv.\u0275cmp=h.Xpm({type:Pv,selectors:[["app-header"]],decls:8,vars:0,consts:[[1,"relative","w-full","flex","flex-wrap","items-center","justify-between","py-3","bg-gray-100","text-gray-500","hover:text-gray-700","focus:text-gray-700","shadow-lg"],[1,"w-full","flex","flex-wrap","items-center","justify-between","px-6"],[1,"text-xl","text-black","font-semibold"],[1,"bg-slate-300","px-4","py-2","rounded-lg","hover:bg-slate-600","hover:text-white",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"nav",0)(1,"div",1)(2,"div")(3,"a",2),h._uU(4,"Dashboard"),h.qZA()(),h.TgZ(5,"div")(6,"button",3),h.NdJ("click",function(){return t.logout()}),h._uU(7," Logout "),h.qZA()()()())}});class Nv{constructor(e){this.farmaciaService=e}ngOnInit(){this.farmaciaService.getProductos().subscribe(e=>{this.medicamentos=e})}onDelete(e){this.farmaciaService.deleteProducto(e)}}Nv.\u0275fac=function(e){return new(e||Nv)(h.Y36(Gd))},Nv.\u0275cmp=h.Xpm({type:Nv,selectors:[["app-tabla"]],decls:19,vars:1,consts:[[1,"flex","flex-col"],[1,"overflow-x-auto","sm:-mx-6","lg:-mx-8"],[1,"py-2","inline-block","min-w-full","sm:px-6","lg:px-8"],[1,"overflow-hidden"],[1,"min-w-full"],[1,"bg-white","border-b"],["scope","col",1,"text-sm","font-medium","text-gray-900","px-6","py-4","text-left"],["class","border-b",3,"ngClass",4,"ngFor","ngForOf"],[1,"border-b",3,"ngClass"],[1,"px-6","py-2","whitespace-nowrap","text-sm","font-medium","text-gray-900"],[1,"text-sm","text-gray-900","font-light","px-6","py-2","whitespace-nowrap"],["alt","",1,"w-12",3,"src"],[1,"bg-red-500","text-white","px-4","py-2","rounded-lg",3,"click"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3)(4,"table",4)(5,"thead",5)(6,"tr")(7,"th",6),h._uU(8," # "),h.qZA(),h.TgZ(9,"th",6),h._uU(10," Producto "),h.qZA(),h.TgZ(11,"th",6),h._uU(12," Costo "),h.qZA(),h.TgZ(13,"th",6),h._uU(14," Imagen "),h.qZA(),h.TgZ(15,"th",6),h._uU(16," Tools "),h.qZA()()(),h.TgZ(17,"tbody"),h.YNc(18,Pj,13,8,"tr",7),h.qZA()()()()()()),2&e&&(h.xp6(18),h.Q6J("ngForOf",t.medicamentos))},dependencies:[lt,Ds,oo]});class Fv{constructor(e){this.overlayService=e}open(){this.overlayService.open(kv,"addProduct")}}Fv.\u0275fac=function(e){return new(e||Fv)(h.Y36(Pa))},Fv.\u0275cmp=h.Xpm({type:Fv,selectors:[["app-home"]],decls:5,vars:0,consts:[[1,"w-10/12","my-6","mx-auto"],[1,"bg-indigo-500","py-2","px-4","rounded-lg","text-white",3,"click"]],template:function(e,t){1&e&&(h._UZ(0,"app-header"),h.TgZ(1,"div",0)(2,"button",1),h.NdJ("click",function(){return t.open()}),h._uU(3," Agregar Producto "),h.qZA(),h._UZ(4,"app-tabla"),h.qZA())},dependencies:[Pv,Nv]});const dL=/^[A-Za-z0-9._%+-]+@[A-Za-z0-9.-]+.[A-Z|a-z]{2,}$/;function Nj(n,e){1&n&&(h.TgZ(0,"h3",13),h._uU(1,"Credenciales Incorrectas"),h.qZA())}function Fj(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El email es requerido "),h.qZA())}function Lj(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El formato del campo email es incorrecto "),h.qZA())}function Vj(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El password es requerido "),h.qZA())}function Uj(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El tama\xf1o m\xednimo de la contrase\xf1a es de 8 car\xe1cteres "),h.qZA())}const hL=function(n){return{"border-red-500":n}};class Lv{constructor(e,t){this.router=e,this.userService=t,this.failLogin=!1,this.formLogin=new Ta({email:new Qr("",[Pr.required,Pr.pattern(dL)]),password:new Qr("",[Pr.required,Pr.minLength(8)])})}get form(){return this.formLogin.controls}campoNoValido(e){return this.formLogin.get(e)?.invalid&&this.formLogin.get(e)?.touched}loginUser(){this.userService.login(this.formLogin.value).then(e=>{this.router.navigate(["home"]),console.log(e)}).catch(e=>{console.log(e),this.failLogin=!0,this.timeoutId=setTimeout(()=>{this.failLogin=!1},3e3)})}ngOnDestroy(){this.timeoutId&&clearTimeout(this.timeoutId)}}function Bj(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El email es requerido "),h.qZA())}function $j(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El formato del campo email es incorrecto "),h.qZA())}function jj(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El password es requerido "),h.qZA())}function Hj(n,e){1&n&&(h.TgZ(0,"span"),h._uU(1," El tama\xf1o m\xednimo de la contrase\xf1a es de 8 car\xe1cteres "),h.qZA())}Lv.\u0275fac=function(e){return new(e||Lv)(h.Y36(Zn),h.Y36(xl))},Lv.\u0275cmp=h.Xpm({type:Lv,selectors:[["app-login"]],decls:25,vars:13,consts:[[1,"w-4/5","mx-auto","flex","justify-center","items-center","min-h-screen","bg-transparent"],[1,"flex","flex-col","gap-4","justify-center","items-center","bg-white","p-6","rounded-xl","w-96",3,"formGroup","submit"],[1,"font-bold","text-3xl","uppercase"],["class","text-red-500",4,"ngIf"],[1,"flex","flex-col","w-full"],["for","email",1,"mb-2","font-semibold"],["id","email","type","text","formControlName","email","name","email",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"text-red-500","text-sm"],[4,"ngIf"],["for","",1,"mb-2","font-semibold"],["type","password","formControlName","password","name","password",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"bg-black","text-white","p-3","rounded-lg","mt-6","hover:bg-blue-600","disabled:opacity-25","hover:disabled:bg-black",3,"disabled"],["routerLink","/register",1,"font-bold","text-blue-500"],[1,"text-red-500"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("submit",function(){return t.loginUser()}),h.TgZ(2,"h1",2),h._uU(3,"Login"),h.qZA(),h.YNc(4,Nj,2,0,"h3",3),h.TgZ(5,"div",4)(6,"label",5),h._uU(7,"Correo"),h.qZA(),h._UZ(8,"input",6),h.TgZ(9,"div",7),h.YNc(10,Fj,2,0,"span",8),h.YNc(11,Lj,2,0,"span",8),h.qZA()(),h.TgZ(12,"div",4)(13,"label",9),h._uU(14,"Contrase\xf1a"),h.qZA(),h._UZ(15,"input",10),h.TgZ(16,"div",7),h.YNc(17,Vj,2,0,"span",8),h.YNc(18,Uj,2,0,"span",8),h.qZA()(),h.TgZ(19,"button",11),h._uU(20," Iniciar Sesi\xf3n "),h.qZA(),h.TgZ(21,"span"),h._uU(22,"No tienes una cuenta? "),h.TgZ(23,"a",12),h._uU(24,"Registrate"),h.qZA()()()()),2&e&&(h.xp6(1),h.Q6J("formGroup",t.formLogin),h.xp6(3),h.Q6J("ngIf",t.failLogin),h.xp6(4),h.Q6J("ngClass",h.VKq(9,hL,t.campoNoValido("email"))),h.xp6(2),h.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.required)&&t.form.email.touched),h.xp6(1),h.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.pattern)&&t.form.email.touched),h.xp6(4),h.Q6J("ngClass",h.VKq(11,hL,t.campoNoValido("password"))),h.xp6(2),h.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.required)&&t.form.password.touched),h.xp6(1),h.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.pattern)&&t.form.password.touched),h.xp6(1),h.Q6J("disabled",t.formLogin.invalid))},dependencies:[lt,Ti,Zc,xo,Sa,$u,ko,Wu,pf]});const fL=function(n){return{"border-red-500":n}};class Vv{constructor(e,t){this.userService=e,this.router=t,this.formReg=new Ta({email:new Qr("",[Pr.required,Pr.pattern(dL)]),password:new Qr("",[Pr.required,Pr.minLength(8)])})}registerUser(){this.userService.registerUser(this.formReg.value).then(e=>{this.router.navigate(["home"]),console.log(e)}).catch(e=>console.log(e))}get form(){return this.formReg.controls}campoNoValido(e){return this.formReg.get(e)?.invalid&&this.formReg.get(e)?.touched}}Vv.\u0275fac=function(e){return new(e||Vv)(h.Y36(xl),h.Y36(Zn))},Vv.\u0275cmp=h.Xpm({type:Vv,selectors:[["app-register"]],decls:24,vars:12,consts:[[1,"w-4/5","mx-auto","flex","justify-center","items-center","min-h-screen","bg-transparent"],[1,"flex","flex-col","gap-4","justify-center","items-center","bg-white","p-6","rounded-xl","w-96",3,"formGroup","submit"],[1,"font-bold","text-2xl","mb-3","uppercase"],[1,"flex","flex-col","w-full"],["for","email",1,"mb-2","font-semibold"],["id","email","type","text","formControlName","email","name","email",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"text-red-500","text-sm"],[4,"ngIf"],["for","",1,"mb-2","font-semibold"],["type","password","formControlName","password","name","password",1,"border","p-2","rounded-lg",3,"ngClass"],[1,"bg-black","text-white","p-3","rounded-lg","mt-6","hover:bg-blue-600","disabled:opacity-25","hover:disabled:bg-black",3,"disabled"],["routerLink","/login",1,"font-bold","text-blue-500"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0)(1,"form",1),h.NdJ("submit",function(){return t.registerUser()}),h.TgZ(2,"h1",2),h._uU(3,"Crear Nueva Cuenta"),h.qZA(),h.TgZ(4,"div",3)(5,"label",4),h._uU(6,"Correo"),h.qZA(),h._UZ(7,"input",5),h.TgZ(8,"div",6),h.YNc(9,Bj,2,0,"span",7),h.YNc(10,$j,2,0,"span",7),h.qZA()(),h.TgZ(11,"div",3)(12,"label",8),h._uU(13,"Contrase\xf1a"),h.qZA(),h._UZ(14,"input",9),h.TgZ(15,"div",6),h.YNc(16,jj,2,0,"span",7),h.YNc(17,Hj,2,0,"span",7),h.qZA()(),h.TgZ(18,"button",10),h._uU(19," Registrar "),h.qZA(),h.TgZ(20,"span"),h._uU(21,"Ya tienes una cuenta? "),h.TgZ(22,"a",11),h._uU(23,"Iniciar Sesi\xf3n"),h.qZA()()()()),2&e&&(h.xp6(1),h.Q6J("formGroup",t.formReg),h.xp6(6),h.Q6J("ngClass",h.VKq(8,fL,t.campoNoValido("email"))),h.xp6(2),h.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.required)&&t.form.email.touched),h.xp6(1),h.Q6J("ngIf",(null==t.form.email||null==t.form.email.errors?null:t.form.email.errors.pattern)&&t.form.email.touched),h.xp6(4),h.Q6J("ngClass",h.VKq(10,fL,t.campoNoValido("password"))),h.xp6(2),h.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.required)&&t.form.password.touched),h.xp6(1),h.Q6J("ngIf",(null==t.form.password||null==t.form.password.errors?null:t.form.password.errors.pattern)&&t.form.password.touched),h.xp6(1),h.Q6J("disabled",t.formReg.invalid))},dependencies:[lt,Ti,Zc,xo,Sa,$u,ko,Wu,pf]});const pL=(0,it.U)(n=>!!n);class Zj extends hn.x{constructor(e=1/0,t=1/0,r=Ku){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:u,_windowTime:c}=this;t||(r.push(e),!i&&r.push(u.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,u=i.slice();for(let c=0;c<u.length&&!e.closed;c+=r?1:2)e.next(u[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,u=(i?1:2)*e;if(e<1/0&&u<r.length&&r.splice(0,r.length-u),!i){const c=t.now();let g=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)g=_;g&&r.splice(0,g+1)}}}var Kj=R(3099);function gL(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,Kj.B)({connector:()=>new Zj(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function mL(n,e){return(0,qr.m)(e)?En(()=>n,e):En(()=>n)}var zd=R(2011);R(9260);const Qj=new h.OlP("angularfire2.auth.use-emulator"),Xj=new h.OlP("angularfire2.auth.settings"),Jj=new h.OlP("angularfire2.auth.tenant-id"),eH=new h.OlP("angularfire2.auth.langugage-code"),tH=new h.OlP("angularfire2.auth.use-device-language"),nH=new h.OlP("angularfire.auth.persistence");let yL=(()=>{class n{constructor(t,r,i,u,c,g,_,D,C,T,P,$){const Y=new hn.x,fe=Ze(void 0).pipe((0,de.Q)(c.outsideAngular),En(()=>u.runOutsideAngular(()=>R.e(568).then(R.bind(R,9568)))),(0,it.U)(()=>(0,zd.on)(t,u,r)),(0,it.U)(Ie=>((n,e,t,r,i,u,c,g)=>(0,zd.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,u&&_.useDeviceLanguage(),c)for(const[D,C]of Object.entries(c))_.settings[D]=C;return g&&_.setPersistence(g),_},[t,r,i,u,c,g]))(Ie,u,g,D,C,T,_,P)),gL({bufferSize:1,refCount:!1}));if(function Eg(n){return"server"===n}(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=Ze(null);else{fe.pipe(is()).subscribe();const at=fe.pipe(En(At=>At.getRedirectResult().then(Mt=>Mt,()=>null)),ck,gL({bufferSize:1,refCount:!1})),pt=fe.pipe(En(At=>new zn.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>At.onAuthStateChanged(Pt=>Mt.next(Pt),Pt=>Mt.error(Pt),()=>Mt.complete()))})))),bt=fe.pipe(En(At=>new zn.y(Mt=>({unsubscribe:u.runOutsideAngular(()=>At.onIdTokenChanged(Pt=>Mt.next(Pt),Pt=>Mt.error(Pt),()=>Mt.complete()))}))));this.authState=at.pipe(mL(pt),(0,Xe.R)(c.outsideAngular),(0,de.Q)(c.insideAngular)),this.user=at.pipe(mL(bt),(0,Xe.R)(c.outsideAngular),(0,de.Q)(c.insideAngular)),this.idToken=this.user.pipe(En(At=>At?(0,tn.D)(At.getIdToken()):Ze(null))),this.idTokenResult=this.user.pipe(En(At=>At?(0,tn.D)(At.getIdTokenResult()):Ze(null))),this.credential=(0,US.T)(at,Y,this.authState.pipe(Rr(At=>!At))).pipe((0,it.U)(At=>At?.user?At:null),(0,Xe.R)(c.outsideAngular),(0,de.Q)(c.insideAngular))}return(0,zd.pX)(this,fe,u,{spy:{apply:(Ie,at,pt)=>{(Ie.startsWith("signIn")||Ie.startsWith("createUser"))&&pt.then(bt=>Y.next(bt))}}})}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(zd.Dh),h.LFG(zd.xv,8),h.LFG(h.Lbi),h.LFG(h.R0b),h.LFG(rI),h.LFG(Qj,8),h.LFG(Xj,8),h.LFG(Jj,8),h.LFG(eH,8),h.LFG(tH,8),h.LFG(nH,8),h.LFG(cI,8))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const UR=(0,it.U)(n=>!!n);let RC=(()=>{class n{constructor(t,r){this.router=t,this.auth=r,this.canActivate=(i,u)=>{const c=i.data.authGuardPipe||(()=>UR);return this.auth.user.pipe(Vs(1),c(i,u),(0,it.U)(g=>"boolean"==typeof g?g:Array.isArray(g)?this.router.createUrlTree(g):this.router.parseUrl(g)))}}}return n.\u0275fac=function(t){return new(t||n)(h.LFG(Zn),h.LFG(yL))},n.\u0275prov=h.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();const _L=()=>(n=>(0,tc.z)(pL,(0,it.U)(e=>e&&n||!0)))(["home"]),sH=[{path:"login",component:Lv,canActivate:[RC],data:{authGuardPipe:_L}},{path:"register",component:Vv,canActivate:[RC],data:{authGuardPipe:_L}},{path:"home",component:Fv,canActivate:[RC],data:{authGuardPipe:()=>(n=>(0,tc.z)(pL,(0,it.U)(e=>e||n)))(["login"])}},{path:"**",redirectTo:"login"}];class pg{}pg.\u0275fac=function(e){return new(e||pg)},pg.\u0275mod=h.oAB({type:pg}),pg.\u0275inj=h.cJS({imports:[gf.forRoot(sH),gf]});class Uv{constructor(){this.title="autenticacion_firebase"}}Uv.\u0275fac=function(e){return new(e||Uv)},Uv.\u0275cmp=h.Xpm({type:Uv,selectors:[["app-root"]],decls:2,vars:0,consts:[[1,"w-full","min-h-screen","bg-blue-200"]],template:function(e,t){1&e&&(h.TgZ(0,"div",0),h._UZ(1,"router-outlet"),h.qZA())},dependencies:[am]});class gg{}gg.\u0275fac=function(e){return new(e||gg)},gg.\u0275mod=h.oAB({type:gg}),gg.\u0275inj=h.cJS({imports:[tu,rT,VS,py]});class mg{}mg.\u0275fac=function(e){return new(e||mg)},mg.\u0275mod=h.oAB({type:mg}),mg.\u0275inj=h.cJS({imports:[tu,gg,py]});const vL={firebase:{projectId:"angular-991fb",appId:"1:302755098527:web:f05e282c47b3dfb1d117aa",storageBucket:"angular-991fb.appspot.com",apiKey:"AIzaSyCTtZuw_Un_w1A3tCoZChaSeoA8OHDq5es",authDomain:"angular-991fb.firebaseapp.com",messagingSenderId:"302755098527"}};class yg{}yg.\u0275fac=function(e){return new(e||yg)},yg.\u0275mod=h.oAB({type:yg,bootstrap:[Uv]}),yg.\u0275inj=h.cJS({providers:[{provide:zd.Dh,useValue:vL.firebase}],imports:[Vg,pg,mg,function FL(n,...e){return{ngModule:NL,providers:[{provide:yA,useFactory:PL(n),multi:!0,deps:[h.R0b,h.zs3,rI,...e]}]}}(()=>LL(vL.firebase)),function OV(n,...e){return{ngModule:RV,providers:[{provide:LA,useFactory:AV(n),multi:!0,deps:[h.R0b,h.zs3,rI,mA,[new h.FiY,cI],...e]}]}}(()=>PV()),function bj(n,...e){return{ngModule:Cj,providers:[{provide:LR,useFactory:Ej(n),multi:!0,deps:[h.R0b,h.zs3,rI,mA,[new h.FiY,Pk],[new h.FiY,cI],...e]}]}}(()=>Tj())]}),go().bootstrapModule(yg).catch(n=>console.error(n))},9751:(Qe,_e,R)=>{R.d(_e,{y:()=>ye});var h=R(930),k=R(727),J=R(8822),ae=R(9635),he=R(2416),ne=R(576),Re=R(2806);let ye=(()=>{class H{constructor(be){be&&(this._subscribe=be)}lift(be){const Be=new H;return Be.source=this,Be.operator=be,Be}subscribe(be,Be,He){const Z=function L(H){return H&&H instanceof h.Lv||function F(H){return H&&(0,ne.m)(H.next)&&(0,ne.m)(H.error)&&(0,ne.m)(H.complete)}(H)&&(0,k.Nn)(H)}(be)?be:new h.Hp(be,Be,He);return(0,Re.x)(()=>{const{operator:ve,source:ge}=this;Z.add(ve?ve.call(Z,ge):ge?this._subscribe(Z):this._trySubscribe(Z))}),Z}_trySubscribe(be){try{return this._subscribe(be)}catch(Be){be.error(Be)}}forEach(be,Be){return new(Be=Ce(Be))((He,Z)=>{const ve=new h.Hp({next:ge=>{try{be(ge)}catch(Ee){Z(Ee),ve.unsubscribe()}},error:Z,complete:He});this.subscribe(ve)})}_subscribe(be){var Be;return null===(Be=this.source)||void 0===Be?void 0:Be.subscribe(be)}[J.L](){return this}pipe(...be){return(0,ae.U)(be)(this)}toPromise(be){return new(be=Ce(be))((Be,He)=>{let Z;this.subscribe(ve=>Z=ve,ve=>He(ve),()=>Be(Z))})}}return H.create=ke=>new H(ke),H})();function Ce(H){var ke;return null!==(ke=H??he.v.Promise)&&void 0!==ke?ke:Promise}},7579:(Qe,_e,R)=>{R.d(_e,{x:()=>Re});var h=R(9751),k=R(727);const ae=(0,R(3888).d)(Ce=>function(){Ce(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var he=R(8737),ne=R(2806);let Re=(()=>{class Ce extends h.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(L){const H=new ye(this,this);return H.operator=L,H}_throwIfClosed(){if(this.closed)throw new ae}next(L){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const H of this.currentObservers)H.next(L)}})}error(L){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=L;const{observers:H}=this;for(;H.length;)H.shift().error(L)}})}complete(){(0,ne.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:L}=this;for(;L.length;)L.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var L;return(null===(L=this.observers)||void 0===L?void 0:L.length)>0}_trySubscribe(L){return this._throwIfClosed(),super._trySubscribe(L)}_subscribe(L){return this._throwIfClosed(),this._checkFinalizedStatuses(L),this._innerSubscribe(L)}_innerSubscribe(L){const{hasError:H,isStopped:ke,observers:be}=this;return H||ke?k.Lc:(this.currentObservers=null,be.push(L),new k.w0(()=>{this.currentObservers=null,(0,he.P)(be,L)}))}_checkFinalizedStatuses(L){const{hasError:H,thrownError:ke,isStopped:be}=this;H?L.error(ke):be&&L.complete()}asObservable(){const L=new h.y;return L.source=this,L}}return Ce.create=(F,L)=>new ye(F,L),Ce})();class ye extends Re{constructor(F,L){super(),this.destination=F,this.source=L}next(F){var L,H;null===(H=null===(L=this.destination)||void 0===L?void 0:L.next)||void 0===H||H.call(L,F)}error(F){var L,H;null===(H=null===(L=this.destination)||void 0===L?void 0:L.error)||void 0===H||H.call(L,F)}complete(){var F,L;null===(L=null===(F=this.destination)||void 0===F?void 0:F.complete)||void 0===L||L.call(F)}_subscribe(F){var L,H;return null!==(H=null===(L=this.source)||void 0===L?void 0:L.subscribe(F))&&void 0!==H?H:k.Lc}}},930:(Qe,_e,R)=>{R.d(_e,{Hp:()=>He,Lv:()=>H});var h=R(576),k=R(727),J=R(2416),ae=R(7849),he=R(5032);const ne=Ce("C",void 0,void 0);function Ce(Se,me,pe){return{kind:Se,value:me,error:pe}}var F=R(3410),L=R(2806);class H extends k.w0{constructor(me){super(),this.isStopped=!1,me?(this.destination=me,(0,k.Nn)(me)&&me.add(this)):this.destination=Ee}static create(me,pe,Me){return new He(me,pe,Me)}next(me){this.isStopped?ge(function ye(Se){return Ce("N",Se,void 0)}(me),this):this._next(me)}error(me){this.isStopped?ge(function Re(Se){return Ce("E",void 0,Se)}(me),this):(this.isStopped=!0,this._error(me))}complete(){this.isStopped?ge(ne,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(me){this.destination.next(me)}_error(me){try{this.destination.error(me)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const ke=Function.prototype.bind;function be(Se,me){return ke.call(Se,me)}class Be{constructor(me){this.partialObserver=me}next(me){const{partialObserver:pe}=this;if(pe.next)try{pe.next(me)}catch(Me){Z(Me)}}error(me){const{partialObserver:pe}=this;if(pe.error)try{pe.error(me)}catch(Me){Z(Me)}else Z(me)}complete(){const{partialObserver:me}=this;if(me.complete)try{me.complete()}catch(pe){Z(pe)}}}class He extends H{constructor(me,pe,Me){let W;if(super(),(0,h.m)(me)||!me)W={next:me??void 0,error:pe??void 0,complete:Me??void 0};else{let Q;this&&J.v.useDeprecatedNextContext?(Q=Object.create(me),Q.unsubscribe=()=>this.unsubscribe(),W={next:me.next&&be(me.next,Q),error:me.error&&be(me.error,Q),complete:me.complete&&be(me.complete,Q)}):W=me}this.destination=new Be(W)}}function Z(Se){J.v.useDeprecatedSynchronousErrorHandling?(0,L.O)(Se):(0,ae.h)(Se)}function ge(Se,me){const{onStoppedNotification:pe}=J.v;pe&&F.z.setTimeout(()=>pe(Se,me))}const Ee={closed:!0,next:he.Z,error:function ve(Se){throw Se},complete:he.Z}},727:(Qe,_e,R)=>{R.d(_e,{Lc:()=>ne,w0:()=>he,Nn:()=>Re});var h=R(576);const J=(0,R(3888).d)(Ce=>function(L){Ce(this),this.message=L?`${L.length} errors occurred during unsubscription:\n${L.map((H,ke)=>`${ke+1}) ${H.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=L});var ae=R(8737);class he{constructor(F){this.initialTeardown=F,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let F;if(!this.closed){this.closed=!0;const{_parentage:L}=this;if(L)if(this._parentage=null,Array.isArray(L))for(const be of L)be.remove(this);else L.remove(this);const{initialTeardown:H}=this;if((0,h.m)(H))try{H()}catch(be){F=be instanceof J?be.errors:[be]}const{_finalizers:ke}=this;if(ke){this._finalizers=null;for(const be of ke)try{ye(be)}catch(Be){F=F??[],Be instanceof J?F=[...F,...Be.errors]:F.push(Be)}}if(F)throw new J(F)}}add(F){var L;if(F&&F!==this)if(this.closed)ye(F);else{if(F instanceof he){if(F.closed||F._hasParent(this))return;F._addParent(this)}(this._finalizers=null!==(L=this._finalizers)&&void 0!==L?L:[]).push(F)}}_hasParent(F){const{_parentage:L}=this;return L===F||Array.isArray(L)&&L.includes(F)}_addParent(F){const{_parentage:L}=this;this._parentage=Array.isArray(L)?(L.push(F),L):L?[L,F]:F}_removeParent(F){const{_parentage:L}=this;L===F?this._parentage=null:Array.isArray(L)&&(0,ae.P)(L,F)}remove(F){const{_finalizers:L}=this;L&&(0,ae.P)(L,F),F instanceof he&&F._removeParent(this)}}he.EMPTY=(()=>{const Ce=new he;return Ce.closed=!0,Ce})();const ne=he.EMPTY;function Re(Ce){return Ce instanceof he||Ce&&"closed"in Ce&&(0,h.m)(Ce.remove)&&(0,h.m)(Ce.add)&&(0,h.m)(Ce.unsubscribe)}function ye(Ce){(0,h.m)(Ce)?Ce():Ce.unsubscribe()}},2416:(Qe,_e,R)=>{R.d(_e,{v:()=>h});const h={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(Qe,_e,R)=>{R.d(_e,{E:()=>k});const k=new(R(9751).y)(he=>he.complete())},8996:(Qe,_e,R)=>{R.d(_e,{D:()=>me});var h=R(8421),k=R(5363),J=R(9468),ne=R(9751),ye=R(2202),Ce=R(576),F=R(9672);function H(pe,Me){if(!pe)throw new Error("Iterable cannot be null");return new ne.y(W=>{(0,F.f)(W,Me,()=>{const Q=pe[Symbol.asyncIterator]();(0,F.f)(W,Me,()=>{Q.next().then(ue=>{ue.done?W.complete():W.next(ue.value)})},0,!0)})})}var ke=R(3670),be=R(8239),Be=R(1144),He=R(6495),Z=R(2206),ve=R(4532),ge=R(3260);function me(pe,Me){return Me?function Se(pe,Me){if(null!=pe){if((0,ke.c)(pe))return function ae(pe,Me){return(0,h.Xf)(pe).pipe((0,J.R)(Me),(0,k.Q)(Me))}(pe,Me);if((0,Be.z)(pe))return function Re(pe,Me){return new ne.y(W=>{let Q=0;return Me.schedule(function(){Q===pe.length?W.complete():(W.next(pe[Q++]),W.closed||this.schedule())})})}(pe,Me);if((0,be.t)(pe))return function he(pe,Me){return(0,h.Xf)(pe).pipe((0,J.R)(Me),(0,k.Q)(Me))}(pe,Me);if((0,Z.D)(pe))return H(pe,Me);if((0,He.T)(pe))return function L(pe,Me){return new ne.y(W=>{let Q;return(0,F.f)(W,Me,()=>{Q=pe[ye.h](),(0,F.f)(W,Me,()=>{let ue,j;try{({value:ue,done:j}=Q.next())}catch(B){return void W.error(B)}j?W.complete():W.next(ue)},0,!0)}),()=>(0,Ce.m)(Q?.return)&&Q.return()})}(pe,Me);if((0,ge.L)(pe))return function Ee(pe,Me){return H((0,ge.Q)(pe),Me)}(pe,Me)}throw(0,ve.z)(pe)}(pe,Me):(0,h.Xf)(pe)}},8421:(Qe,_e,R)=>{R.d(_e,{Xf:()=>ke});var h=R(655),k=R(1144),J=R(8239),ae=R(9751),he=R(3670),ne=R(2206),Re=R(4532),ye=R(6495),Ce=R(3260),F=R(576),L=R(7849),H=R(8822);function ke(Se){if(Se instanceof ae.y)return Se;if(null!=Se){if((0,he.c)(Se))return function be(Se){return new ae.y(me=>{const pe=Se[H.L]();if((0,F.m)(pe.subscribe))return pe.subscribe(me);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(Se);if((0,k.z)(Se))return function Be(Se){return new ae.y(me=>{for(let pe=0;pe<Se.length&&!me.closed;pe++)me.next(Se[pe]);me.complete()})}(Se);if((0,J.t)(Se))return function He(Se){return new ae.y(me=>{Se.then(pe=>{me.closed||(me.next(pe),me.complete())},pe=>me.error(pe)).then(null,L.h)})}(Se);if((0,ne.D)(Se))return ve(Se);if((0,ye.T)(Se))return function Z(Se){return new ae.y(me=>{for(const pe of Se)if(me.next(pe),me.closed)return;me.complete()})}(Se);if((0,Ce.L)(Se))return function ge(Se){return ve((0,Ce.Q)(Se))}(Se)}throw(0,Re.z)(Se)}function ve(Se){return new ae.y(me=>{(function Ee(Se,me){var pe,Me,W,Q;return(0,h.mG)(this,void 0,void 0,function*(){try{for(pe=(0,h.KL)(Se);!(Me=yield pe.next()).done;)if(me.next(Me.value),me.closed)return}catch(ue){W={error:ue}}finally{try{Me&&!Me.done&&(Q=pe.return)&&(yield Q.call(pe))}finally{if(W)throw W.error}}me.complete()})})(Se,me).catch(pe=>me.error(pe))})}},6451:(Qe,_e,R)=>{R.d(_e,{T:()=>ne});var h=R(8189),k=R(8421),J=R(515),ae=R(3269),he=R(8996);function ne(...Re){const ye=(0,ae.yG)(Re),Ce=(0,ae._6)(Re,1/0),F=Re;return F.length?1===F.length?(0,k.Xf)(F[0]):(0,h.J)(Ce)((0,he.D)(F,ye)):J.E}},5403:(Qe,_e,R)=>{R.d(_e,{x:()=>k});var h=R(930);function k(ae,he,ne,Re,ye){return new J(ae,he,ne,Re,ye)}class J extends h.Lv{constructor(he,ne,Re,ye,Ce,F){super(he),this.onFinalize=Ce,this.shouldUnsubscribe=F,this._next=ne?function(L){try{ne(L)}catch(H){he.error(H)}}:super._next,this._error=ye?function(L){try{ye(L)}catch(H){he.error(H)}finally{this.unsubscribe()}}:super._error,this._complete=Re?function(){try{Re()}catch(L){he.error(L)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var he;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ne}=this;super.unsubscribe(),!ne&&(null===(he=this.onFinalize)||void 0===he||he.call(this))}}}},4004:(Qe,_e,R)=>{R.d(_e,{U:()=>J});var h=R(4482),k=R(5403);function J(ae,he){return(0,h.e)((ne,Re)=>{let ye=0;ne.subscribe((0,k.x)(Re,Ce=>{Re.next(ae.call(he,Ce,ye++))}))})}},8189:(Qe,_e,R)=>{R.d(_e,{J:()=>J});var h=R(5577),k=R(4671);function J(ae=1/0){return(0,h.z)(k.y,ae)}},5577:(Qe,_e,R)=>{R.d(_e,{z:()=>ye});var h=R(4004),k=R(8421),J=R(4482),ae=R(9672),he=R(5403),Re=R(576);function ye(Ce,F,L=1/0){return(0,Re.m)(F)?ye((H,ke)=>(0,h.U)((be,Be)=>F(H,be,ke,Be))((0,k.Xf)(Ce(H,ke))),L):("number"==typeof F&&(L=F),(0,J.e)((H,ke)=>function ne(Ce,F,L,H,ke,be,Be,He){const Z=[];let ve=0,ge=0,Ee=!1;const Se=()=>{Ee&&!Z.length&&!ve&&F.complete()},me=Me=>ve<H?pe(Me):Z.push(Me),pe=Me=>{be&&F.next(Me),ve++;let W=!1;(0,k.Xf)(L(Me,ge++)).subscribe((0,he.x)(F,Q=>{ke?.(Q),be?me(Q):F.next(Q)},()=>{W=!0},void 0,()=>{if(W)try{for(ve--;Z.length&&ve<H;){const Q=Z.shift();Be?(0,ae.f)(F,Be,()=>pe(Q)):pe(Q)}Se()}catch(Q){F.error(Q)}}))};return Ce.subscribe((0,he.x)(F,me,()=>{Ee=!0,Se()})),()=>{He?.()}}(H,ke,Ce,L)))}},5363:(Qe,_e,R)=>{R.d(_e,{Q:()=>ae});var h=R(9672),k=R(4482),J=R(5403);function ae(he,ne=0){return(0,k.e)((Re,ye)=>{Re.subscribe((0,J.x)(ye,Ce=>(0,h.f)(ye,he,()=>ye.next(Ce),ne),()=>(0,h.f)(ye,he,()=>ye.complete(),ne),Ce=>(0,h.f)(ye,he,()=>ye.error(Ce),ne)))})}},3099:(Qe,_e,R)=>{R.d(_e,{B:()=>he});var h=R(8421),k=R(7579),J=R(930),ae=R(4482);function he(Re={}){const{connector:ye=(()=>new k.x),resetOnError:Ce=!0,resetOnComplete:F=!0,resetOnRefCountZero:L=!0}=Re;return H=>{let ke,be,Be,He=0,Z=!1,ve=!1;const ge=()=>{be?.unsubscribe(),be=void 0},Ee=()=>{ge(),ke=Be=void 0,Z=ve=!1},Se=()=>{const me=ke;Ee(),me?.unsubscribe()};return(0,ae.e)((me,pe)=>{He++,!ve&&!Z&&ge();const Me=Be=Be??ye();pe.add(()=>{He--,0===He&&!ve&&!Z&&(be=ne(Se,L))}),Me.subscribe(pe),!ke&&He>0&&(ke=new J.Hp({next:W=>Me.next(W),error:W=>{ve=!0,ge(),be=ne(Ee,Ce,W),Me.error(W)},complete:()=>{Z=!0,ge(),be=ne(Ee,F),Me.complete()}}),(0,h.Xf)(me).subscribe(ke))})(H)}}function ne(Re,ye,...Ce){if(!0===ye)return void Re();if(!1===ye)return;const F=new J.Hp({next:()=>{F.unsubscribe(),Re()}});return ye(...Ce).subscribe(F)}},9468:(Qe,_e,R)=>{R.d(_e,{R:()=>k});var h=R(4482);function k(J,ae=0){return(0,h.e)((he,ne)=>{ne.add(J.schedule(()=>he.subscribe(ne),ae))})}},3410:(Qe,_e,R)=>{R.d(_e,{z:()=>h});const h={setTimeout(k,J,...ae){const{delegate:he}=h;return he?.setTimeout?he.setTimeout(k,J,...ae):setTimeout(k,J,...ae)},clearTimeout(k){const{delegate:J}=h;return(J?.clearTimeout||clearTimeout)(k)},delegate:void 0}},2202:(Qe,_e,R)=>{R.d(_e,{h:()=>k});const k=function h(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(Qe,_e,R)=>{R.d(_e,{L:()=>h});const h="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(Qe,_e,R)=>{R.d(_e,{_6:()=>ne,jO:()=>ae,yG:()=>he});var h=R(576),k=R(3532);function J(Re){return Re[Re.length-1]}function ae(Re){return(0,h.m)(J(Re))?Re.pop():void 0}function he(Re){return(0,k.K)(J(Re))?Re.pop():void 0}function ne(Re,ye){return"number"==typeof J(Re)?Re.pop():ye}},8737:(Qe,_e,R)=>{function h(k,J){if(k){const ae=k.indexOf(J);0<=ae&&k.splice(ae,1)}}R.d(_e,{P:()=>h})},3888:(Qe,_e,R)=>{function h(k){const ae=k(he=>{Error.call(he),he.stack=(new Error).stack});return ae.prototype=Object.create(Error.prototype),ae.prototype.constructor=ae,ae}R.d(_e,{d:()=>h})},2806:(Qe,_e,R)=>{R.d(_e,{O:()=>ae,x:()=>J});var h=R(2416);let k=null;function J(he){if(h.v.useDeprecatedSynchronousErrorHandling){const ne=!k;if(ne&&(k={errorThrown:!1,error:null}),he(),ne){const{errorThrown:Re,error:ye}=k;if(k=null,Re)throw ye}}else he()}function ae(he){h.v.useDeprecatedSynchronousErrorHandling&&k&&(k.errorThrown=!0,k.error=he)}},9672:(Qe,_e,R)=>{function h(k,J,ae,he=0,ne=!1){const Re=J.schedule(function(){ae(),ne?k.add(this.schedule(null,he)):this.unsubscribe()},he);if(k.add(Re),!ne)return Re}R.d(_e,{f:()=>h})},4671:(Qe,_e,R)=>{function h(k){return k}R.d(_e,{y:()=>h})},1144:(Qe,_e,R)=>{R.d(_e,{z:()=>h});const h=k=>k&&"number"==typeof k.length&&"function"!=typeof k},2206:(Qe,_e,R)=>{R.d(_e,{D:()=>k});var h=R(576);function k(J){return Symbol.asyncIterator&&(0,h.m)(J?.[Symbol.asyncIterator])}},576:(Qe,_e,R)=>{function h(k){return"function"==typeof k}R.d(_e,{m:()=>h})},3670:(Qe,_e,R)=>{R.d(_e,{c:()=>J});var h=R(8822),k=R(576);function J(ae){return(0,k.m)(ae[h.L])}},6495:(Qe,_e,R)=>{R.d(_e,{T:()=>J});var h=R(2202),k=R(576);function J(ae){return(0,k.m)(ae?.[h.h])}},8239:(Qe,_e,R)=>{R.d(_e,{t:()=>k});var h=R(576);function k(J){return(0,h.m)(J?.then)}},3260:(Qe,_e,R)=>{R.d(_e,{L:()=>ae,Q:()=>J});var h=R(655),k=R(576);function J(he){return(0,h.FC)(this,arguments,function*(){const Re=he.getReader();try{for(;;){const{value:ye,done:Ce}=yield(0,h.qq)(Re.read());if(Ce)return yield(0,h.qq)(void 0);yield yield(0,h.qq)(ye)}}finally{Re.releaseLock()}})}function ae(he){return(0,k.m)(he?.getReader)}},3532:(Qe,_e,R)=>{R.d(_e,{K:()=>k});var h=R(576);function k(J){return J&&(0,h.m)(J.schedule)}},4482:(Qe,_e,R)=>{R.d(_e,{A:()=>k,e:()=>J});var h=R(576);function k(ae){return(0,h.m)(ae?.lift)}function J(ae){return he=>{if(k(he))return he.lift(function(ne){try{return ae(ne,this)}catch(Re){this.error(Re)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(Qe,_e,R)=>{function h(){}R.d(_e,{Z:()=>h})},9635:(Qe,_e,R)=>{R.d(_e,{U:()=>J,z:()=>k});var h=R(4671);function k(...ae){return J(ae)}function J(ae){return 0===ae.length?h.y:1===ae.length?ae[0]:function(ne){return ae.reduce((Re,ye)=>ye(Re),ne)}}},7849:(Qe,_e,R)=>{R.d(_e,{h:()=>J});var h=R(2416),k=R(3410);function J(ae){k.z.setTimeout(()=>{const{onUnhandledError:he}=h.v;if(!he)throw ae;he(ae)})}},4532:(Qe,_e,R)=>{function h(k){return new TypeError(`You provided ${null!==k&&"object"==typeof k?"an invalid object":`'${k}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}R.d(_e,{z:()=>h})},655:(Qe,_e,R)=>{function ae(j,B){var te={};for(var K in j)Object.prototype.hasOwnProperty.call(j,K)&&B.indexOf(K)<0&&(te[K]=j[K]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var Te=0;for(K=Object.getOwnPropertySymbols(j);Te<K.length;Te++)B.indexOf(K[Te])<0&&Object.prototype.propertyIsEnumerable.call(j,K[Te])&&(te[K[Te]]=j[K[Te]])}return te}function ye(j,B,te,K){return new(te||(te=Promise))(function(xe,Ke){function $t(St){try{ct(K.next(St))}catch(st){Ke(st)}}function Jt(St){try{ct(K.throw(St))}catch(st){Ke(st)}}function ct(St){St.done?xe(St.value):function Te(xe){return xe instanceof te?xe:new te(function(Ke){Ke(xe)})}(St.value).then($t,Jt)}ct((K=K.apply(j,B||[])).next())})}function Z(j){return this instanceof Z?(this.v=j,this):new Z(j)}function ve(j,B,te){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var Te,K=te.apply(j,B||[]),xe=[];return Te={},Ke("next"),Ke("throw"),Ke("return"),Te[Symbol.asyncIterator]=function(){return this},Te;function Ke(Wt){K[Wt]&&(Te[Wt]=function(ur){return new Promise(function(Lt,et){xe.push([Wt,ur,Lt,et])>1||$t(Wt,ur)})})}function $t(Wt,ur){try{!function Jt(Wt){Wt.value instanceof Z?Promise.resolve(Wt.value.v).then(ct,St):st(xe[0][2],Wt)}(K[Wt](ur))}catch(Lt){st(xe[0][3],Lt)}}function ct(Wt){$t("next",Wt)}function St(Wt){$t("throw",Wt)}function st(Wt,ur){Wt(ur),xe.shift(),xe.length&&$t(xe[0][0],xe[0][1])}}function Ee(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var te,B=j[Symbol.asyncIterator];return B?B.call(j):(j=function H(j){var B="function"==typeof Symbol&&Symbol.iterator,te=B&&j[B],K=0;if(te)return te.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&K>=j.length&&(j=void 0),{value:j&&j[K++],done:!j}}};throw new TypeError(B?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),te={},K("next"),K("throw"),K("return"),te[Symbol.asyncIterator]=function(){return this},te);function K(xe){te[xe]=j[xe]&&function(Ke){return new Promise(function($t,Jt){!function Te(xe,Ke,$t,Jt){Promise.resolve(Jt).then(function(ct){xe({value:ct,done:$t})},Ke)}($t,Jt,(Ke=j[xe](Ke)).done,Ke.value)})}}}R.d(_e,{FC:()=>ve,KL:()=>Ee,_T:()=>ae,mG:()=>ye,qq:()=>Z})},4650:(Qe,_e,R)=>{R.d(_e,{$8M:()=>Zl,$WT:()=>Es,$Z:()=>a0,AFp:()=>Uo,ALo:()=>rp,AaK:()=>ye,CHM:()=>bg,CRH:()=>qy,CZH:()=>hp,CqO:()=>xf,D6c:()=>M_,EJc:()=>UT,EpF:()=>H0,F$t:()=>Rf,F4k:()=>G0,FYo:()=>Im,FiY:()=>Os,Gf:()=>rD,GfV:()=>Nw,Gpc:()=>L,Hsn:()=>Z0,JOm:()=>ot,KtG:()=>Sg,LFG:()=>Oe,LSH:()=>dm,Lbi:()=>n_,Lck:()=>VE,MMx:()=>Kf,NdJ:()=>ay,OlP:()=>kt,P3R:()=>Sw,PXZ:()=>WT,Q6J:()=>ry,QGY:()=>ko,QbO:()=>r_,Qsj:()=>cb,R0b:()=>ci,RDi:()=>jC,Rgc:()=>Va,SBq:()=>Vu,Sil:()=>s_,Suo:()=>up,TTD:()=>nu,TgZ:()=>Af,Udp:()=>rE,VKq:()=>Lo,X6Q:()=>XO,XFs:()=>rt,Xpm:()=>Xs,Xts:()=>fm,Y36:()=>Bu,YKP:()=>fs,YNc:()=>Zc,Yjl:()=>Yo,Yz7:()=>et,Z0I:()=>mn,ZZ4:()=>T_,_Bn:()=>LE,_UZ:()=>iy,_Vd:()=>Lu,_c5:()=>x_,_uU:()=>lE,aQg:()=>md,c2e:()=>i_,cJS:()=>ni,cg1:()=>by,dDg:()=>HT,dqk:()=>ft,eFA:()=>m_,ekj:()=>gy,eoX:()=>_p,f3M:()=>Ue,g9A:()=>gp,h0i:()=>il,hGG:()=>oA,hij:()=>yy,iGM:()=>DT,ifc:()=>Ft,ip1:()=>CD,jDz:()=>Yf,kL8:()=>_E,lG2:()=>Zd,lqb:()=>Ca,lri:()=>ND,n5z:()=>ql,oAB:()=>Js,oxw:()=>uy,q4F:()=>Fw,qLn:()=>Tc,qOj:()=>Hu,qZA:()=>Kc,rWj:()=>h_,sBO:()=>ZT,s_b:()=>ul,soG:()=>xn,tBr:()=>da,tb:()=>mp,tp0:()=>it,uIk:()=>zc,vHH:()=>Z,vpe:()=>wi,wAp:()=>tt,xi3:()=>ip,xp6:()=>xc,z2F:()=>v_,zSh:()=>So,zs3:()=>To});var h=R(7579),k=R(727),J=R(9751),ae=R(6451),he=R(3099);function ne(s){for(let o in s)if(s[o]===ne)return o;throw Error("Could not find renamed property on target object.")}function Re(s,o){for(const a in o)o.hasOwnProperty(a)&&!s.hasOwnProperty(a)&&(s[a]=o[a])}function ye(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ye).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const a=o.indexOf("\n");return-1===a?o:o.substring(0,a)}function Ce(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const F=ne({__forward_ref__:ne});function L(s){return s.__forward_ref__=L,s.toString=function(){return ye(this())},s}function H(s){return ke(s)?s():s}function ke(s){return"function"==typeof s&&s.hasOwnProperty(F)&&s.__forward_ref__===L}function be(s){return s&&!!s.\u0275providers}const He="https://g.co/ng/security#xss";class Z extends Error{constructor(o,a){super(function ve(s,o){return`NG0${Math.abs(s)}${o?": "+o.trim():""}`}(o,a)),this.code=o}}function ge(s){return"string"==typeof s?s:null==s?"":String(s)}function Me(s,o){throw new Z(-201,!1)}function St(s,o){null==s&&function st(s,o,a,l){throw new Error(`ASSERTION ERROR: ${s}`+(null==l?"":` [Expected=> ${a} ${l} ${o} <=Actual]`))}(o,s,null,"!=")}function et(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function ni(s){return{providers:s.providers||[],imports:s.imports||[]}}function Gi(s){return ms(s,zi)||ms(s,cn)}function mn(s){return null!==Gi(s)}function ms(s,o){return s.hasOwnProperty(o)?s[o]:null}function Ci(s){return s&&(s.hasOwnProperty(_s)||s.hasOwnProperty(vr))?s[_s]:null}const zi=ne({\u0275prov:ne}),_s=ne({\u0275inj:ne}),cn=ne({ngInjectableDef:ne}),vr=ne({ngInjectorDef:ne});var rt=(()=>((rt=rt||{})[rt.Default=0]="Default",rt[rt.Host=1]="Host",rt[rt.Self=2]="Self",rt[rt.SkipSelf=4]="SkipSelf",rt[rt.Optional=8]="Optional",rt))();let bi;function Xn(s){const o=bi;return bi=s,o}function wr(s,o,a){const l=Gi(s);return l&&"root"==l.providedIn?void 0===l.value?l.value=l.factory():l.value:a&rt.Optional?null:void 0!==o?o:void Me(ye(s))}const ft=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),er={},In="__NG_DI_FLAG__",gi="ngTempTokenPath",qi=/\n/gm,Ko="__source";let Rt;function ri(s){const o=Rt;return Rt=s,o}function Zi(s,o=rt.Default){if(void 0===Rt)throw new Z(-203,!1);return null===Rt?wr(s,void 0,o):Rt.get(s,o&rt.Optional?null:void 0,o)}function Oe(s,o=rt.Default){return(function Si(){return bi}()||Zi)(H(s),o)}function Ue(s,o=rt.Default){return Oe(s,nt(o))}function nt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function mt(s){const o=[];for(let a=0;a<s.length;a++){const l=H(s[a]);if(Array.isArray(l)){if(0===l.length)throw new Z(900,!1);let d,f=rt.Default;for(let y=0;y<l.length;y++){const w=l[y],I=N(w);"number"==typeof I?-1===I?d=w.token:f|=I:d=w}o.push(Oe(d,f))}else o.push(Oe(l))}return o}function Nt(s,o){return s[In]=o,s.prototype[In]=o,s}function N(s){return s[In]}function se(s){return{toString:s}.toString()}var q=(()=>((q=q||{})[q.OnPush=0]="OnPush",q[q.Default=1]="Default",q))(),Ft=(()=>{return(s=Ft||(Ft={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Ft;var s})();const en={},ut=[],kn=ne({\u0275cmp:ne}),Dt=ne({\u0275dir:ne}),Er=ne({\u0275pipe:ne}),vs=ne({\u0275mod:ne}),Dr=ne({\u0275fac:ne}),ws=ne({__NG_ELEMENT_ID__:ne});let _g=0;function Xs(s){return se(()=>{const a=!0===s.standalone,l={},d={type:s.type,providersResolver:null,decls:s.decls,vars:s.vars,factory:null,template:s.template||null,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:l,inputs:null,outputs:null,exportAs:s.exportAs||null,onPush:s.changeDetection===q.OnPush,directiveDefs:null,pipeDefs:null,standalone:a,dependencies:a&&s.dependencies||null,getStandaloneInjector:null,selectors:s.selectors||ut,viewQuery:s.viewQuery||null,features:s.features||null,data:s.data||{},encapsulation:s.encapsulation||Ft.Emulated,id:"c"+_g++,styles:s.styles||ut,_:null,setInput:null,schemas:s.schemas||null,tView:null,findHostDirectiveDefs:null,hostDirectives:null},f=s.dependencies,y=s.features;return d.inputs=Ml(s.inputs,l),d.outputs=Ml(s.outputs),y&&y.forEach(w=>w(d)),d.directiveDefs=f?()=>("function"==typeof f?f():f).map(Wd).filter(Pn):null,d.pipeDefs=f?()=>("function"==typeof f?f():f).map(jn).filter(Pn):null,d})}function Wd(s){return Vt(s)||rn(s)}function Pn(s){return null!==s}function Js(s){return se(()=>({type:s.type,bootstrap:s.bootstrap||ut,declarations:s.declarations||ut,imports:s.imports||ut,exports:s.exports||ut,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Ml(s,o){if(null==s)return en;const a={};for(const l in s)if(s.hasOwnProperty(l)){let d=s[l],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),a[d]=l,o&&(o[d]=f)}return a}const Zd=Xs;function Yo(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Vt(s){return s[kn]||null}function rn(s){return s[Dt]||null}function jn(s){return s[Er]||null}function Es(s){const o=Vt(s)||rn(s)||jn(s);return null!==o&&o.standalone}function lr(s,o){const a=s[vs]||null;if(!a&&!0===o)throw new Error(`Type ${ye(s)} does not have '\u0275mod' property.`);return a}function br(s){return Array.isArray(s)&&"object"==typeof s[1]}function Sr(s){return Array.isArray(s)&&!0===s[1]}function xi(s){return 0!=(4&s.flags)}function Qo(s){return s.componentOffset>-1}function Ja(s){return 1==(1&s.flags)}function nr(s){return null!==s.template}function jv(s){return 0!=(256&s[2])}function Cs(s,o){return s.hasOwnProperty(Dr)?s[Dr]:null}class qv{constructor(o,a,l){this.previousValue=o,this.currentValue=a,this.firstChange=l}isFirstChange(){return this.firstChange}}function nu(){return ru}function ru(s){return s.type.prototype.ngOnChanges&&(s.setInput=Jo),Nl}function Nl(){const s=Jd(this),o=s?.current;if(o){const a=s.previous;if(a===en)s.previous=o;else for(let l in o)a[l]=o[l];s.current=null,this.ngOnChanges(o)}}function Jo(s,o,a,l){const d=this.declaredInputs[a],f=Jd(s)||function Fl(s,o){return s[iu]=o}(s,{previous:en,current:null}),y=f.current||(f.current={}),w=f.previous,I=w[d];y[d]=new qv(I&&I.currentValue,o,w===en),s[l]=o}nu.ngInherit=!0;const iu="__ngSimpleChanges__";function Jd(s){return s[iu]||null}function _n(s){for(;Array.isArray(s);)s=s[0];return s}function ao(s,o){return _n(o[s])}function Hn(s,o){return _n(o[s.index])}function eh(s,o){return s.data[o]}function Gn(s,o){const a=o[s];return br(a)?a:a[0]}function Ss(s){return 64==(64&s[2])}function Ri(s,o){return null==o?null:s[o]}function th(s){s[18]=0}function ta(s,o){s[5]+=o;let a=s,l=s[3];for(;null!==l&&(1===o&&1===a[5]||-1===o&&0===a[5]);)l[5]+=o,a=l,l=l[3]}const gt={lFrame:Rg(null),bindingsEnabled:!0};function nh(){return gt.bindingsEnabled}function re(){return gt.lFrame.lView}function Ot(){return gt.lFrame.tView}function bg(s){return gt.lFrame.contextLView=s,s[8]}function Sg(s){return gt.lFrame.contextLView=null,s}function Sn(){let s=Tg();for(;null!==s&&64===s.type;)s=s.parent;return s}function Tg(){return gt.lFrame.currentTNode}function mi(s,o){const a=gt.lFrame;a.currentTNode=s,a.isParent=o}function au(){return gt.lFrame.isParent}function ih(){gt.lFrame.isParent=!1}function rr(){const s=gt.lFrame;let o=s.bindingRootIndex;return-1===o&&(o=s.bindingRootIndex=s.tView.bindingStartIndex),o}function Ts(){return gt.lFrame.bindingIndex++}function ah(s,o){const a=gt.lFrame;a.bindingIndex=a.bindingRootIndex=s,Yi(o)}function Yi(s){gt.lFrame.currentDirectiveIndex=s}function xg(){return gt.lFrame.currentQueryIndex}function uh(s){gt.lFrame.currentQueryIndex=s}function Yv(s){const o=s[1];return 2===o.type?o.declTNode:1===o.type?s[6]:null}function Mg(s,o,a){if(a&rt.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||a&rt.Host||(d=Yv(f),null===d||(f=f[15],10&d.type))););if(null===d)return!1;o=d,s=f}const l=gt.lFrame=Qv();return l.currentTNode=o,l.lView=s,!0}function lh(s){const o=Qv(),a=s[1];gt.lFrame=o,o.currentTNode=a.firstChild,o.lView=s,o.tView=a,o.contextLView=s,o.bindingIndex=a.bindingStartIndex,o.inI18n=!1}function Qv(){const s=gt.lFrame,o=null===s?null:s.child;return null===o?Rg(s):o}function Rg(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Og(){const s=gt.lFrame;return gt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Xv=Og;function kg(){const s=Og();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function hr(){return gt.lFrame.selectedIndex}function Oi(s){gt.lFrame.selectedIndex=s}function Gt(){const s=gt.lFrame;return eh(s.tView,s.selectedIndex)}function ra(s,o){for(let a=o.directiveStart,l=o.directiveEnd;a<l;a++){const f=s.data[a].type.prototype,{ngAfterContentInit:y,ngAfterContentChecked:w,ngAfterViewInit:I,ngAfterViewChecked:b,ngOnDestroy:A}=f;y&&(s.contentHooks||(s.contentHooks=[])).push(-a,y),w&&((s.contentHooks||(s.contentHooks=[])).push(a,w),(s.contentCheckHooks||(s.contentCheckHooks=[])).push(a,w)),I&&(s.viewHooks||(s.viewHooks=[])).push(-a,I),b&&((s.viewHooks||(s.viewHooks=[])).push(a,b),(s.viewCheckHooks||(s.viewCheckHooks=[])).push(a,b)),null!=A&&(s.destroyHooks||(s.destroyHooks=[])).push(a,A)}}function cu(s,o,a){hh(s,o,3,a)}function ki(s,o,a,l){(3&s[2])===a&&hh(s,o,a,l)}function Qi(s,o){let a=s[2];(3&a)===o&&(a&=2047,a+=1,s[2]=a)}function hh(s,o,a,l){const f=l??-1,y=o.length-1;let w=0;for(let I=void 0!==l?65535&s[18]:0;I<y;I++)if("number"==typeof o[I+1]){if(w=o[I],null!=l&&w>=l)break}else o[I]<0&&(s[18]+=65536),(w<f||-1==f)&&(du(s,a,o,I),s[18]=(4294901760&s[18])+I+2),I++}function du(s,o,a,l){const d=a[l]<0,f=a[l+1],w=s[d?-a[l]:a[l]];if(d){if(s[2]>>11<s[18]>>16&&(3&s[2])===o){s[2]+=2048;try{f.call(w)}finally{}}}else try{f.call(w)}finally{}}class ia{constructor(o,a,l){this.factory=o,this.resolving=!1,this.canSeeViewProviders=a,this.injectImpl=l}}function As(s,o,a){let l=0;for(;l<a.length;){const d=a[l];if("number"==typeof d){if(0!==d)break;l++;const f=a[l++],y=a[l++],w=a[l++];s.setAttribute(o,y,w,f)}else{const f=d,y=a[++l];fu(f)?s.setProperty(o,f,y):s.setAttribute(o,f,y),l++}}return l}function oa(s){return 3===s||4===s||6===s}function fu(s){return 64===s.charCodeAt(0)}function Pi(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let a=-1;for(let l=0;l<o.length;l++){const d=o[l];"number"==typeof d?a=d:0===a||Gl(s,a,d,null,-1===a||2===a?o[++l]:null)}}return s}function Gl(s,o,a,l,d){let f=0,y=s.length;if(-1===o)y=-1;else for(;f<s.length;){const w=s[f++];if("number"==typeof w){if(w===o){y=-1;break}if(w>o){y=f-1;break}}}for(;f<s.length;){const w=s[f];if("number"==typeof w)break;if(w===a){if(null===l)return void(null!==d&&(s[f+1]=d));if(l===s[f+1])return void(s[f+2]=d)}f++,null!==l&&f++,null!==d&&f++}-1!==y&&(s.splice(y,0,o),f=y+1),s.splice(f++,0,a),null!==l&&s.splice(f++,0,l),null!==d&&s.splice(f++,0,d)}function zl(s){return-1!==s}function aa(s){return 32767&s}function xs(s,o){let a=function Ng(s){return s>>16}(s),l=o;for(;a>0;)l=l[15],a--;return l}let pu=!0;function yi(s){const o=pu;return pu=s,o}let ph=0;const Ar={};function fo(s,o){const a=mh(s,o);if(-1!==a)return a;const l=o[1];l.firstCreatePass&&(s.injectorIndex=o.length,yu(l.data,s),yu(o,null),yu(l.blueprint,null));const d=_u(s,o),f=s.injectorIndex;if(zl(d)){const y=aa(d),w=xs(d,o),I=w[1].data;for(let b=0;b<8;b++)o[f+b]=w[y+b]|I[y+b]}return o[f+8]=d,f}function yu(s,o){s.push(0,0,0,0,0,0,0,0,o)}function mh(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function _u(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let a=0,l=null,d=o;for(;null!==d;){if(l=Ug(d),null===l)return-1;if(a++,d=d[15],-1!==l.injectorIndex)return l.injectorIndex|a<<16}return-1}function yh(s,o,a){!function gh(s,o,a){let l;"string"==typeof a?l=a.charCodeAt(0)||0:a.hasOwnProperty(ws)&&(l=a[ws]),null==l&&(l=a[ws]=ph++);const d=255&l;o.data[s+(d>>5)]|=1<<d}(s,o,a)}function vh(s,o,a){if(a&rt.Optional||void 0!==s)return s;Me()}function vu(s,o,a,l){if(a&rt.Optional&&void 0===l&&(l=null),!(a&(rt.Self|rt.Host))){const d=s[9],f=Xn(void 0);try{return d?d.get(o,l,a&rt.Optional):wr(o,l,a&rt.Optional)}finally{Xn(f)}}return vh(l,0,a)}function Fg(s,o,a,l=rt.Default,d){if(null!==s){if(1024&o[2]){const y=function Vg(s,o,a,l,d){let f=s,y=o;for(;null!==f&&null!==y&&1024&y[2]&&!(256&y[2]);){const w=Wl(f,y,a,l|rt.Self,Ar);if(w!==Ar)return w;let I=f.parent;if(!I){const b=y[21];if(b){const A=b.get(a,Ar,l);if(A!==Ar)return A}I=Ug(y),y=y[15]}f=I}return d}(s,o,a,l,Ar);if(y!==Ar)return y}const f=Wl(s,o,a,l,Ar);if(f!==Ar)return f}return vu(o,a,l,d)}function Wl(s,o,a,l,d){const f=function Lg(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(ws)?s[ws]:void 0;return"number"==typeof o?o>=0?255&o:Dh:o}(a);if("function"==typeof f){if(!Mg(o,s,l))return l&rt.Host?vh(d,0,l):vu(o,a,l,d);try{const y=f(l);if(null!=y||l&rt.Optional)return y;Me()}finally{Xv()}}else if("number"==typeof f){let y=null,w=mh(s,o),I=-1,b=l&rt.Host?o[16][6]:null;for((-1===w||l&rt.SkipSelf)&&(I=-1===w?_u(s,o):o[w+8],-1!==I&&po(l,!1)?(y=o[1],w=aa(I),o=xs(I,o)):w=-1);-1!==w;){const A=o[1];if(Eh(f,w,A.data)){const M=wh(w,o,a,y,l,b);if(M!==Ar)return M}I=o[w+8],-1!==I&&po(l,o[1].data[w+8]===b)&&Eh(f,w,o)?(y=A,w=aa(I),o=xs(I,o)):w=-1}}return d}function wh(s,o,a,l,d,f){const y=o[1],w=y.data[s+8],A=wu(w,y,a,null==l?Qo(w)&&pu:l!=y&&0!=(3&w.type),d&rt.Host&&f===w);return null!==A?Ji(o,y,A,w):Ar}function wu(s,o,a,l,d){const f=s.providerIndexes,y=o.data,w=1048575&f,I=s.directiveStart,A=f>>20,V=d?w+A:s.directiveEnd;for(let z=l?w:w+A;z<V;z++){const ie=y[z];if(z<I&&a===ie||z>=I&&ie.type===a)return z}if(d){const z=y[I];if(z&&nr(z)&&z.type===a)return I}return null}function Ji(s,o,a,l){let d=s[a];const f=o.data;if(function fh(s){return s instanceof ia}(d)){const y=d;y.resolving&&function Se(s,o){const a=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Z(-200,`Circular dependency in DI detected for ${s}${a}`)}(function Ee(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():ge(s)}(f[a]));const w=yi(y.canSeeViewProviders);y.resolving=!0;const I=y.injectImpl?Xn(y.injectImpl):null;Mg(s,l,rt.Default);try{d=s[a]=y.factory(void 0,f,s,l),o.firstCreatePass&&a>=l.directiveStart&&function dh(s,o,a){const{ngOnChanges:l,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(l){const y=ru(o);(a.preOrderHooks||(a.preOrderHooks=[])).push(s,y),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,y)}d&&(a.preOrderHooks||(a.preOrderHooks=[])).push(0-s,d),f&&((a.preOrderHooks||(a.preOrderHooks=[])).push(s,f),(a.preOrderCheckHooks||(a.preOrderCheckHooks=[])).push(s,f))}(a,f[a],o)}finally{null!==I&&Xn(I),yi(w),y.resolving=!1,Xv()}}return d}function Eh(s,o,a){return!!(a[o+(s>>5)]&1<<s)}function po(s,o){return!(s&rt.Self||s&rt.Host&&o)}class go{constructor(o,a){this._tNode=o,this._lView=a}get(o,a,l){return Fg(this._tNode,this._lView,o,nt(l),a)}}function Dh(){return new go(Sn(),re())}function ql(s){return se(()=>{const o=s.prototype.constructor,a=o[Dr]||mo(o),l=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==l;){const f=d[Dr]||mo(d);if(f&&f!==a)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function mo(s){return ke(s)?()=>{const o=mo(H(s));return o&&o()}:Cs(s)}function Ug(s){const o=s[1],a=o.type;return 2===a?o.declTNode:1===a?s[6]:null}function Zl(s){return function _h(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const a=s.attrs;if(a){const l=a.length;let d=0;for(;d<l;){const f=a[d];if(oa(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<l&&"string"==typeof a[d];)d++;else{if(f===o)return a[d+1];d+=2}}}return null}(Sn(),s)}const yo="__parameters__";function la(s,o,a){return se(()=>{const l=function Kl(s){return function(...a){if(s){const l=s(...a);for(const d in l)this[d]=l[d]}}}(o);function d(...f){if(this instanceof d)return l.apply(this,f),this;const y=new d(...f);return w.annotation=y,w;function w(I,b,A){const M=I.hasOwnProperty(yo)?I[yo]:Object.defineProperty(I,yo,{value:[]})[yo];for(;M.length<=A;)M.push(null);return(M[A]=M[A]||[]).push(y),I}}return a&&(d.prototype=Object.create(a.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}class kt{constructor(o,a){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof a?this.__NG_ELEMENT_ID__=a:void 0!==a&&(this.\u0275prov=et({token:this,providedIn:a.providedIn||"root",factory:a.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function Rs(s,o){s.forEach(a=>Array.isArray(a)?Rs(a,o):o(a))}function Hg(s,o,a){o>=s.length?s.push(a):s.splice(o,0,a)}function Ql(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function _o(s,o){const a=[];for(let l=0;l<s;l++)a.push(o);return a}function fr(s,o,a){let l=ir(s,o);return l>=0?s[1|l]=a:(l=~l,function aw(s,o,a,l){let d=s.length;if(d==o)s.push(a,l);else if(1===d)s.push(l,s[0]),s[0]=a;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=a,s[o+1]=l}}(s,l,o,a)),l}function tn(s,o){const a=ir(s,o);if(a>=0)return s[1|a]}function ir(s,o){return function hn(s,o,a){let l=0,d=s.length>>a;for(;d!==l;){const f=l+(d-l>>1),y=s[f<<a];if(o===y)return f<<a;y>o?d=f:l=f+1}return~(d<<a)}(s,o,1)}const da=Nt(la("Inject",s=>({token:s})),-1),Os=Nt(la("Optional"),8),it=Nt(la("SkipSelf"),4);var ot=(()=>((ot=ot||{})[ot.Important=1]="Important",ot[ot.DashCase=2]="DashCase",ot))();const ic=new Map;let Zr=0;const Au="__ngContext__";function Ln(s,o){br(o)?(s[Au]=o[20],function sc(s){ic.set(s[20],s)}(o)):s[Au]=o}function le(s,o){return undefined(s,o)}function ze(s){const o=s[3];return Sr(o)?o[3]:o}function Or(s){return ma(s[13])}function kr(s){return ma(s[4])}function ma(s){for(;null!==s&&!Sr(s);)s=s[4];return s}function Ni(s,o,a,l,d){if(null!=l){let f,y=!1;Sr(l)?f=l:br(l)&&(y=!0,l=l[0]);const w=_n(l);0===s&&null!==a?null==d?lw(o,a,w):va(o,a,w,d||null,!0):1===s&&null!==a?va(o,a,w,d||null,!0):2===s?function Jg(s,o,a){const l=$s(s,o);l&&function hc(s,o,a,l){s.removeChild(o,a,l)}(s,l,o,a)}(o,w,y):3===s&&o.destroyNode(w),null!=f&&function mc(s,o,a,l,d){const f=a[7];f!==_n(a)&&Ni(o,s,l,f,d);for(let w=10;w<a.length;w++){const I=a[w];gc(I[1],I,s,o,l,f)}}(o,s,f,a,d)}}function ya(s,o,a){return s.createElement(o,a)}function Wh(s,o){const a=s[9],l=a.indexOf(o),d=o[3];512&o[2]&&(o[2]&=-513,ta(d,-1)),a.splice(l,1)}function Kg(s,o){if(s.length<=10)return;const a=10+o,l=s[a];if(l){const d=l[17];null!==d&&d!==s&&Wh(d,l),o>0&&(s[a-1][4]=l[4]);const f=Ql(s,10+o);!function Hh(s,o){gc(s,o,o[11],2,null,null),o[0]=null,o[6]=null}(l[1],l);const y=f[19];null!==y&&y.detachView(f[1]),l[3]=null,l[4]=null,l[2]&=-65}return l}function qh(s,o){if(!(128&o[2])){const a=o[11];a.destroyNode&&gc(s,o,a,3,null,null),function zh(s){let o=s[13];if(!o)return Mu(s[1],s);for(;o;){let a=null;if(br(o))a=o[13];else{const l=o[10];l&&(a=l)}if(!a){for(;o&&!o[4]&&o!==s;)br(o)&&Mu(o[1],o),o=o[3];null===o&&(o=s),br(o)&&Mu(o[1],o),a=o&&o[4]}o=a}}(o)}}function Mu(s,o){if(!(128&o[2])){o[2]&=-65,o[2]|=128,function _a(s,o){let a;if(null!=s&&null!=(a=s.destroyHooks))for(let l=0;l<a.length;l+=2){const d=o[a[l]];if(!(d instanceof ia)){const f=a[l+1];if(Array.isArray(f))for(let y=0;y<f.length;y+=2){const w=d[f[y]],I=f[y+1];try{I.call(w)}finally{}}else try{f.call(d)}finally{}}}}(s,o),function LC(s,o){const a=s.cleanup,l=o[7];let d=-1;if(null!==a)for(let f=0;f<a.length-1;f+=2)if("string"==typeof a[f]){const y=a[f+3];y>=0?l[d=y]():l[d=-y].unsubscribe(),f+=2}else{const y=l[d=a[f+1]];a[f].call(y)}if(null!==l){for(let f=d+1;f<l.length;f++)(0,l[f])();o[7]=null}}(s,o),1===o[1].type&&o[11].destroy();const a=o[17];if(null!==a&&Sr(o[3])){a!==o[3]&&Wh(a,o);const l=o[19];null!==l&&l.detachView(s)}!function Bh(s){ic.delete(s[20])}(o)}}function Zh(s,o,a){return function VC(s,o,a){let l=o;for(;null!==l&&40&l.type;)l=(o=l).parent;if(null===l)return a[0];{const{componentOffset:d}=l;if(d>-1){const{encapsulation:f}=s.data[l.directiveStart+d];if(f===Ft.None||f===Ft.Emulated)return null}return Hn(l,a)}}(s,o.parent,a)}function va(s,o,a,l,d){s.insertBefore(o,a,l,d)}function lw(s,o,a){s.appendChild(o,a)}function cw(s,o,a,l,d){null!==l?va(s,o,a,l,d):lw(s,o,a)}function $s(s,o){return s.parentNode(o)}function Yg(s,o,a){return wa(s,o,a)}let nm,Jh,wa=function Qg(s,o,a){return 40&s.type?Hn(s,a):null};function fc(s,o,a,l){const d=Zh(s,l,o),f=o[11],w=Yg(l.parent||o[6],l,o);if(null!=d)if(Array.isArray(a))for(let I=0;I<a.length;I++)cw(f,d,a[I],w,!1);else cw(f,d,a,w,!1)}function Yh(s,o){if(null!==o){const a=o.type;if(3&a)return Hn(o,s);if(4&a)return Ea(-1,s[o.index]);if(8&a){const l=o.child;if(null!==l)return Yh(s,l);{const d=s[o.index];return Sr(d)?Ea(-1,d):_n(d)}}if(32&a)return le(o,s)()||_n(s[o.index]);{const l=Qh(s,o);return null!==l?Array.isArray(l)?l[0]:Yh(ze(s[16]),l):Yh(s,o.next)}}return null}function Qh(s,o){return null!==o?s[16][6].projection[o.projection]:null}function Ea(s,o){const a=10+s+1;if(a<o.length){const l=o[a],d=l[1].firstChild;if(null!==d)return Yh(l,d)}return o[7]}function pc(s,o,a,l,d,f,y){for(;null!=a;){const w=l[a.index],I=a.type;if(y&&0===o&&(w&&Ln(_n(w),l),a.flags|=2),32!=(32&a.flags))if(8&I)pc(s,o,a.child,l,d,f,!1),Ni(o,s,d,w,f);else if(32&I){const b=le(a,l);let A;for(;A=b();)Ni(o,s,d,A,f);Ni(o,s,d,w,f)}else 16&I?em(s,o,l,a,d,f):Ni(o,s,d,w,f);a=y?a.projectionNext:a.next}}function gc(s,o,a,l,d,f){pc(a,l,s.firstChild,o,d,f,!1)}function em(s,o,a,l,d,f){const y=a[16],I=y[6].projection[l.projection];if(Array.isArray(I))for(let b=0;b<I.length;b++)Ni(o,s,d,I[b],f);else pc(s,o,I,y[3],d,f,!0)}function bo(s,o,a){""===a?s.removeAttribute(o,"class"):s.setAttribute(o,"class",a)}function yc(s,o,a){const{mergedAttrs:l,classes:d,styles:f}=a;null!==l&&As(s,o,l),null!==d&&bo(s,o,d),null!==f&&function tm(s,o,a){s.setAttribute(o,"style",a)}(s,o,f)}function jC(s){nm=s}function mw(s){return function rm(){if(void 0===Jh&&(Jh=null,ft.trustedTypes))try{Jh=ft.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Jh}()?.createScriptURL(s)||s}class HC{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${He})`}}function as(s){return s instanceof HC?s.changingThisBreaksApplicationSecurity:s}function oi(s,o){const a=function Ru(s){return s instanceof HC&&s.getTypeName()||null}(s);if(null!=a&&a!==o){if("ResourceURL"===a&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${a} (see ${He})`)}return a===o}const ww=/^(?:(?:https?|mailto|data|ftp|tel|file|sms):|[^&:/?#]*(?:[/?#]|$))/gi;var fn=(()=>((fn=fn||{})[fn.NONE=0]="NONE",fn[fn.HTML=1]="HTML",fn[fn.STYLE=2]="STYLE",fn[fn.SCRIPT=3]="SCRIPT",fn[fn.URL=4]="URL",fn[fn.RESOURCE_URL=5]="RESOURCE_URL",fn))();function dm(s){const o=Cc();return o?o.sanitize(fn.URL,s)||"":oi(s,"URL")?as(s):function wc(s){return(s=String(s)).match(ww)?s:"unsafe:"+s}(ge(s))}function sf(s){const o=Cc();if(o)return mw(o.sanitize(fn.RESOURCE_URL,s)||"");if(oi(s,"ResourceURL"))return mw(as(s));throw new Z(904,!1)}function Sw(s,o,a){return function tb(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?sf:dm}(o,a)(s)}function Cc(){const s=re();return s&&s[12]}const fm=new kt("ENVIRONMENT_INITIALIZER"),Ia=new kt("INJECTOR",-1),ku=new kt("INJECTOR_DEF_TYPES");class Tw{get(o,a=er){if(a===er){const l=new Error(`NullInjectorError: No provider for ${ye(o)}!`);throw l.name="NullInjectorError",l}return a}}function bc(...s){return{\u0275providers:Pu(0,s),\u0275fromNgModule:!0}}function Pu(s,...o){const a=[],l=new Set;let d;return Rs(o,f=>{const y=f;pm(y,a,[],l)&&(d||(d=[]),d.push(y))}),void 0!==d&&Aw(d,a),a}function Aw(s,o){for(let a=0;a<s.length;a++){const{providers:d}=s[a];gm(d,f=>{o.push(f)})}}function pm(s,o,a,l){if(!(s=H(s)))return!1;let d=null,f=Ci(s);const y=!f&&Vt(s);if(f||y){if(y&&!y.standalone)return!1;d=s}else{const I=s.ngModule;if(f=Ci(I),!f)return!1;d=I}const w=l.has(d);if(y){if(w)return!1;if(l.add(d),y.dependencies){const I="function"==typeof y.dependencies?y.dependencies():y.dependencies;for(const b of I)pm(b,o,a,l)}}else{if(!f)return!1;{if(null!=f.imports&&!w){let b;l.add(d);try{Rs(f.imports,A=>{pm(A,o,a,l)&&(b||(b=[]),b.push(A))})}finally{}void 0!==b&&Aw(b,o)}if(!w){const b=Cs(d)||(()=>new d);o.push({provide:d,useFactory:b,deps:ut},{provide:ku,useValue:d,multi:!0},{provide:fm,useValue:()=>Oe(d),multi:!0})}const I=f.providers;null==I||w||gm(I,A=>{o.push(A)})}}return d!==s&&void 0!==s.providers}function gm(s,o){for(let a of s)be(a)&&(a=a.\u0275providers),Array.isArray(a)?gm(a,o):o(a)}const rb=ne({provide:String,useValue:ne});function mm(s){return null!==s&&"object"==typeof s&&rb in s}function js(s){return"function"==typeof s}const So=new kt("Set Injector scope."),uf={},sb={};let ym;function lf(){return void 0===ym&&(ym=new Tw),ym}class Ca{}class Mw extends Ca{get destroyed(){return this._destroyed}constructor(o,a,l,d){super(),this.parent=a,this.source=l,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Fu(o,y=>this.processProvider(y)),this.records.set(Ia,Nu(void 0,this)),d.has("environment")&&this.records.set(Ca,Nu(void 0,this));const f=this.records.get(So);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(ku.multi,ut,rt.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const o of this._ngOnDestroyHooks)o.ngOnDestroy();for(const o of this._onDestroyHooks)o()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(o){this._onDestroyHooks.push(o)}runInContext(o){this.assertNotDestroyed();const a=ri(this),l=Xn(void 0);try{return o()}finally{ri(a),Xn(l)}}get(o,a=er,l=rt.Default){this.assertNotDestroyed(),l=nt(l);const d=ri(this),f=Xn(void 0);try{if(!(l&rt.SkipSelf)){let w=this.records.get(o);if(void 0===w){const I=function Em(s){return"function"==typeof s||"object"==typeof s&&s instanceof kt}(o)&&Gi(o);w=I&&this.injectableDefInScope(I)?Nu(_m(o),uf):null,this.records.set(o,w)}if(null!=w)return this.hydrate(o,w)}return(l&rt.Self?lf():this.parent).get(o,a=l&rt.Optional&&a===er?null:a)}catch(y){if("NullInjectorError"===y.name){if((y[gi]=y[gi]||[]).unshift(ye(o)),d)throw y;return function O(s,o,a,l){const d=s[gi];throw o[Ko]&&d.unshift(o[Ko]),s.message=function U(s,o,a,l=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=ye(o);if(Array.isArray(o))d=o.map(ye).join(" -> ");else if("object"==typeof o){let f=[];for(let y in o)if(o.hasOwnProperty(y)){let w=o[y];f.push(y+":"+("string"==typeof w?JSON.stringify(w):ye(w)))}d=`{${f.join(", ")}}`}return`${a}${l?"("+l+")":""}[${d}]: ${s.replace(qi,"\n  ")}`}("\n"+s.message,d,a,l),s.ngTokenPath=d,s[gi]=null,s}(y,o,"R3InjectorError",this.source)}throw y}finally{Xn(f),ri(d)}}resolveInjectorInitializers(){const o=ri(this),a=Xn(void 0);try{const l=this.get(fm.multi,ut,rt.Self);for(const d of l)d()}finally{ri(o),Xn(a)}}toString(){const o=[],a=this.records;for(const l of a.keys())o.push(ye(l));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Z(205,!1)}processProvider(o){let a=js(o=H(o))?o:H(o&&o.provide);const l=function ab(s){return mm(s)?Nu(void 0,s.useValue):Nu(vm(s),uf)}(o);if(js(o)||!0!==o.multi)this.records.get(a);else{let d=this.records.get(a);d||(d=Nu(void 0,uf,!0),d.factory=()=>mt(d.multi),this.records.set(a,d)),a=o,d.multi.push(o)}this.records.set(a,l)}hydrate(o,a){return a.value===uf&&(a.value=sb,a.value=a.factory()),"object"==typeof a.value&&a.value&&function Rw(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(a.value)&&this._ngOnDestroyHooks.add(a.value),a.value}injectableDefInScope(o){if(!o.providedIn)return!1;const a=H(o.providedIn);return"string"==typeof a?"any"===a||this.scopes.has(a):this.injectorDefTypes.has(a)}}function _m(s){const o=Gi(s),a=null!==o?o.factory:Cs(s);if(null!==a)return a;if(s instanceof kt)throw new Z(204,!1);if(s instanceof Function)return function ob(s){const o=s.length;if(o>0)throw _o(o,"?"),new Z(204,!1);const a=function Zo(s){const o=s&&(s[zi]||s[cn]);if(o){const a=function ys(s){if(s.hasOwnProperty("name"))return s.name;const o=(""+s).match(/^function\s*([^\s(]+)/);return null===o?"":o[1]}(s);return console.warn(`DEPRECATED: DI is instantiating a token "${a}" that inherits its @Injectable decorator but does not provide one itself.\nThis will become an error in a future version of Angular. Please add @Injectable() to the "${a}" class.`),o}return null}(s);return null!==a?()=>a.factory(s):()=>new s}(s);throw new Z(204,!1)}function vm(s,o,a){let l;if(js(s)){const d=H(s);return Cs(d)||_m(d)}if(mm(s))l=()=>H(s.useValue);else if(function xw(s){return!(!s||!s.useFactory)}(s))l=()=>s.useFactory(...mt(s.deps||[]));else if(function ib(s){return!(!s||!s.useExisting)}(s))l=()=>Oe(H(s.useExisting));else{const d=H(s&&(s.useClass||s.provide));if(!function wm(s){return!!s.deps}(s))return Cs(d)||_m(d);l=()=>new d(...mt(s.deps))}return l}function Nu(s,o,a=!1){return{factory:s,value:o,multi:a?[]:void 0}}function Fu(s,o){for(const a of s)Array.isArray(a)?Fu(a,o):a&&be(a)?Fu(a.\u0275providers,o):o(a)}class ub{}class Ow{}class Pw{resolveComponentFactory(o){throw function lb(s){const o=Error(`No component factory found for ${ye(s)}. Did you add it to @NgModule.entryComponents?`);return o.ngComponent=s,o}(o)}}let Lu=(()=>{class s{}return s.NULL=new Pw,s})();function cf(){return Hs(Sn(),re())}function Hs(s,o){return new Vu(Hn(s,o))}let Vu=(()=>{class s{constructor(a){this.nativeElement=a}}return s.__NG_ELEMENT_ID__=cf,s})();function Sc(s){return s instanceof Vu?s.nativeElement:s}class Im{}let cb=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function db(){const s=re(),a=Gn(Sn().index,s);return(br(a)?a:s)[11]}(),s})(),hb=(()=>{class s{}return s.\u0275prov=et({token:s,providedIn:"root",factory:()=>null}),s})();class Nw{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Fw=new Nw("15.1.1"),df={};function bm(s){return s.ngOriginalError}class Tc{constructor(){this._console=console}handleError(o){const a=this._findOriginalError(o);this._console.error("ERROR",o),a&&this._console.error("ORIGINAL ERROR",a)}_findOriginalError(o){let a=o&&bm(o);for(;a&&bm(a);)a=bm(a);return a||null}}function us(s){return s instanceof Function?s():s}function jw(s,o,a){let l=s.length;for(;;){const d=s.indexOf(o,a);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===l||s.charCodeAt(d+f)<=32)return d}a=d+1}}const Sm="ng-template";function Tm(s,o,a){let l=0;for(;l<s.length;){let d=s[l++];if(a&&"class"===d){if(d=s[l],-1!==jw(d.toLowerCase(),o,0))return!0}else if(1===d){for(;l<s.length&&"string"==typeof(d=s[l++]);)if(d.toLowerCase()===o)return!0;return!1}}return!1}function Hw(s){return 4===s.type&&s.value!==Sm}function Gw(s,o,a){return o===(4!==s.type||a?s.value:Sm)}function Uu(s,o,a){let l=4;const d=s.attrs||[],f=function ff(s){for(let o=0;o<s.length;o++)if(oa(s[o]))return o;return s.length}(d);let y=!1;for(let w=0;w<o.length;w++){const I=o[w];if("number"!=typeof I){if(!y)if(4&l){if(l=2|1&l,""!==I&&!Gw(s,I,a)||""===I&&1===o.length){if(ai(l))return!1;y=!0}}else{const b=8&l?I:o[++w];if(8&l&&null!==s.attrs){if(!Tm(s.attrs,b,a)){if(ai(l))return!1;y=!0}continue}const M=vb(8&l?"class":I,d,Hw(s),a);if(-1===M){if(ai(l))return!1;y=!0;continue}if(""!==b){let V;V=M>f?"":d[M+1].toLowerCase();const z=8&l?V:null;if(z&&-1!==jw(z,b,0)||2&l&&b!==V){if(ai(l))return!1;y=!0}}}}else{if(!y&&!ai(l)&&!ai(I))return!1;if(y&&ai(I))continue;y=!1,l=I|1&l}}return ai(l)||y}function ai(s){return 0==(1&s)}function vb(s,o,a,l){if(null===o)return-1;let d=0;if(l||!a){let f=!1;for(;d<o.length;){const y=o[d];if(y===s)return d;if(3===y||6===y)f=!0;else{if(1===y||2===y){let w=o[++d];for(;"string"==typeof w;)w=o[++d];continue}if(4===y)break;if(0===y){d+=4;continue}}d+=f?1:2}return-1}return function zw(s,o){let a=s.indexOf(4);if(a>-1)for(a++;a<s.length;){const l=s[a];if("number"==typeof l)return-1;if(l===o)return a;a++}return-1}(o,s)}function Am(s,o,a=!1){for(let l=0;l<o.length;l++)if(Uu(s,o[l],a))return!0;return!1}function Ww(s,o){e:for(let a=0;a<o.length;a++){const l=o[a];if(s.length===l.length){for(let d=0;d<s.length;d++)if(s[d]!==l[d])continue e;return!0}}return!1}function qw(s,o){return s?":not("+o.trim()+")":o}function wb(s){let o=s[0],a=1,l=2,d="",f=!1;for(;a<s.length;){let y=s[a];if("string"==typeof y)if(2&l){const w=s[++a];d+="["+y+(w.length>0?'="'+w+'"':"")+"]"}else 8&l?d+="."+y:4&l&&(d+=" "+y);else""!==d&&!ai(y)&&(o+=qw(f,d),d=""),l=y,f=f||!ai(l);a++}return""!==d&&(o+=qw(f,d)),o}const _t={};function xc(s){Zw(Ot(),re(),hr()+s,!1)}function Zw(s,o,a,l){if(!l)if(3==(3&o[2])){const f=s.preOrderCheckHooks;null!==f&&cu(o,f,a)}else{const f=s.preOrderHooks;null!==f&&ki(o,f,0,a)}Oi(a)}function Jw(s,o=null,a=null,l){const d=e0(s,o,a,l);return d.resolveInjectorInitializers(),d}function e0(s,o=null,a=null,l,d=new Set){const f=[a||ut,bc(s)];return l=l||("object"==typeof s?void 0:ye(s)),new Mw(f,o||lf(),l||null,d)}let To=(()=>{class s{static create(a,l){if(Array.isArray(a))return Jw({name:""},l,a,"");{const d=a.name??"";return Jw({name:d},a.parent,a.providers,d)}}}return s.THROW_IF_NOT_FOUND=er,s.NULL=new Tw,s.\u0275prov=et({token:s,providedIn:"any",factory:()=>Oe(Ia)}),s.__NG_ELEMENT_ID__=-1,s})();function Bu(s,o=rt.Default){const a=re();return null===a?Oe(s,o):Fg(Sn(),a,H(s),o)}function a0(){throw new Error("invalid")}function Nm(s,o){const a=s.contentQueries;if(null!==a)for(let l=0;l<a.length;l+=2){const f=a[l+1];if(-1!==f){const y=s.data[f];uh(a[l]),y.contentQueries(2,o[f],f)}}}function mf(s,o,a,l,d,f,y,w,I,b,A){const M=o.blueprint.slice();return M[0]=d,M[2]=76|l,(null!==A||s&&1024&s[2])&&(M[2]|=1024),th(M),M[3]=M[15]=s,M[8]=a,M[10]=y||s&&s[10],M[11]=w||s&&s[11],M[12]=I||s&&s[12]||null,M[9]=b||s&&s[9]||null,M[6]=f,M[20]=function Uh(){return Zr++}(),M[21]=A,M[16]=2==o.type?s[16]:M,M}function ba(s,o,a,l,d){let f=s.data[o];if(null===f)f=function Gs(s,o,a,l,d){const f=Tg(),y=au(),I=s.data[o]=function Fb(s,o,a,l,d,f){return{type:a,index:l,insertBeforeIndex:null,injectorIndex:o?o.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tViews:null,next:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,y?f:f&&f.parent,a,o,l,d);return null===s.firstChild&&(s.firstChild=I),null!==f&&(y?null==f.child&&null!==I.parent&&(f.child=I):null===f.next&&(f.next=I)),I}(s,o,a,l,d),function oh(){return gt.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=a,f.value=l,f.attrs=d;const y=function uo(){const s=gt.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===y?-1:y.injectorIndex}return mi(f,!0),f}function Kr(s,o,a,l){if(0===a)return-1;const d=o.length;for(let f=0;f<a;f++)o.push(l),s.blueprint.push(l),s.data.push(null);return d}function Fm(s,o,a){lh(o);try{const l=s.viewQuery;null!==l&&Wm(1,l,a);const d=s.template;null!==d&&u0(s,o,d,1,a),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Nm(s,o),s.staticViewQueries&&Wm(2,s.viewQuery,a);const f=s.components;null!==f&&function nO(s,o){for(let a=0;a<o.length;a++)rO(s,o[a])}(o,f)}catch(l){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),l}finally{o[2]&=-5,kg()}}function Pc(s,o,a,l){const d=o[2];if(128!=(128&d)){lh(o);try{th(o),function lo(s){return gt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==a&&u0(s,o,a,2,l);const y=3==(3&d);if(y){const b=s.preOrderCheckHooks;null!==b&&cu(o,b,null)}else{const b=s.preOrderHooks;null!==b&&ki(o,b,0,null),Qi(o,0)}if(function Nr(s){for(let o=Or(s);null!==o;o=kr(o)){if(!o[2])continue;const a=o[9];for(let l=0;l<a.length;l++){const d=a[l];512&d[2]||ta(d[3],1),d[2]|=512}}}(o),function D0(s){for(let o=Or(s);null!==o;o=kr(o))for(let a=10;a<o.length;a++){const l=o[a],d=l[1];Ss(l)&&Pc(d,l,d.template,l[8])}}(o),null!==s.contentQueries&&Nm(s,o),y){const b=s.contentCheckHooks;null!==b&&cu(o,b)}else{const b=s.contentHooks;null!==b&&ki(o,b,1),Qi(o,1)}!function Pb(s,o){const a=s.hostBindingOpCodes;if(null!==a)try{for(let l=0;l<a.length;l++){const d=a[l];if(d<0)Oi(~d);else{const f=d,y=a[++l],w=a[++l];ah(y,f),w(2,o[f])}}}finally{Oi(-1)}}(s,o);const w=s.components;null!==w&&function Nb(s,o){for(let a=0;a<o.length;a++)Mo(s,o[a])}(o,w);const I=s.viewQuery;if(null!==I&&Wm(2,I,l),y){const b=s.viewCheckHooks;null!==b&&cu(o,b)}else{const b=s.viewHooks;null!==b&&ki(o,b,2),Qi(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[2]&=-41,512&o[2]&&(o[2]&=-513,ta(o[3],-1))}finally{kg()}}}function u0(s,o,a,l,d){const f=hr(),y=2&l;try{Oi(-1),y&&o.length>22&&Zw(s,o,22,!1),a(l,d)}finally{Oi(f)}}function Lm(s,o,a){if(xi(o)){const d=o.directiveEnd;for(let f=o.directiveStart;f<d;f++){const y=s.data[f];y.contentQueries&&y.contentQueries(1,a[f],f)}}}function Vm(s,o,a){nh()&&(function m0(s,o,a,l){const d=a.directiveStart,f=a.directiveEnd;Qo(a)&&function w0(s,o,a){const l=Hn(o,s),d=l0(a),f=s[10],y=Sa(s,mf(s,d,null,a.onPush?32:16,l,o,f,f.createRenderer(l,a),null,null,null));s[o.index]=y}(o,a,s.data[d+a.componentOffset]),s.firstCreatePass||fo(a,o),Ln(l,o);const y=a.initialInputs;for(let w=d;w<f;w++){const I=s.data[w],b=Ji(o,s,w,a);Ln(b,o),null!==y&&vf(0,w-d,b,I,0,y),nr(I)&&(Gn(a.index,o)[8]=Ji(o,s,w,a))}}(s,o,a,Hn(a,o)),64==(64&a.flags)&&$m(s,o,a))}function xo(s,o,a=Hn){const l=o.localNames;if(null!==l){let d=o.index+1;for(let f=0;f<l.length;f+=2){const y=l[f+1],w=-1===y?a(o,s):s[y];s[d++]=w}}}function l0(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=ls(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):o}function ls(s,o,a,l,d,f,y,w,I,b){const A=22+l,M=A+d,V=function c0(s,o){const a=[];for(let l=0;l<o;l++)a.push(l<s?null:_t);return a}(A,M),z="function"==typeof b?b():b;return V[1]={type:s,blueprint:V,template:a,queries:null,viewQuery:w,declTNode:o,data:V.slice().fill(null,A),bindingStartIndex:A,expandoStartIndex:M,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof y?y():y,firstChild:null,schemas:I,consts:z,incompleteFirstPass:!1}}function zs(s,o,a,l){const d=C0(o);null===a?d.push(l):(d.push(a),s.firstCreatePass&&Ub(s).push(l,d.length-1))}function Pr(s,o,a,l){for(let d in s)if(s.hasOwnProperty(d)){a=null===a?{}:a;const f=s[d];null===l?Um(a,o,d,f):l.hasOwnProperty(d)&&Um(a,o,l[d],f)}return a}function Um(s,o,a,l){s.hasOwnProperty(a)?s[a].push(o,l):s[a]=[o,l]}function Bm(s,o){const a=Gn(o,s);16&a[2]||(a[2]|=32)}function yf(s,o,a,l){let d=!1;if(nh()){const f=null===l?null:{"":-1},y=function y0(s,o){const a=s.directiveRegistry;let l=null,d=null;if(a)for(let f=0;f<a.length;f++){const y=a[f];if(Am(o,y.selectors,!1))if(l||(l=[]),nr(y))if(null!==y.findHostDirectiveDefs){const w=[];d=d||new Map,y.findHostDirectiveDefs(y,w,d),l.unshift(...w,y),_f(s,o,w.length)}else l.unshift(y),_f(s,o,0);else d=d||new Map,y.findHostDirectiveDefs?.(y,l,d),l.push(y)}return null===l?null:[l,d]}(s,a);let w,I;null===y?w=I=null:[w,I]=y,null!==w&&(d=!0,Nc(s,o,a,w,f,I)),f&&function jm(s,o,a){if(o){const l=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=a[o[d+1]];if(null==f)throw new Z(-301,!1);l.push(o[d],f)}}}(a,l,f)}return a.mergedAttrs=Pi(a.mergedAttrs,a.attrs),d}function Nc(s,o,a,l,d,f){for(let b=0;b<l.length;b++)yh(fo(a,o),s,l[b].type);!function Hm(s,o,a){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+a,s.providerIndexes=o}(a,s.data.length,l.length);for(let b=0;b<l.length;b++){const A=l[b];A.providersResolver&&A.providersResolver(A)}let y=!1,w=!1,I=Kr(s,o,l.length,null);for(let b=0;b<l.length;b++){const A=l[b];a.mergedAttrs=Pi(a.mergedAttrs,A.hostAttrs),v0(s,a,o,I,A),_0(I,A,d),null!==A.contentQueries&&(a.flags|=4),(null!==A.hostBindings||null!==A.hostAttrs||0!==A.hostVars)&&(a.flags|=64);const M=A.type.prototype;!y&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((s.preOrderHooks||(s.preOrderHooks=[])).push(a.index),y=!0),!w&&(M.ngOnChanges||M.ngDoCheck)&&((s.preOrderCheckHooks||(s.preOrderCheckHooks=[])).push(a.index),w=!0),I++}!function d0(s,o,a){const d=o.directiveEnd,f=s.data,y=o.attrs,w=[];let I=null,b=null;for(let A=o.directiveStart;A<d;A++){const M=f[A],V=a?a.get(M):null,ie=V?V.outputs:null;I=Pr(M.inputs,A,I,V?V.inputs:null),b=Pr(M.outputs,A,b,ie);const Ae=null===I||null===y||Hw(o)?null:E0(I,A,y);w.push(Ae)}null!==I&&(I.hasOwnProperty("class")&&(o.flags|=8),I.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=w,o.inputs=I,o.outputs=b}(s,a,f)}function $m(s,o,a){const l=a.directiveStart,d=a.directiveEnd,f=a.index,y=function Kv(){return gt.lFrame.currentDirectiveIndex}();try{Oi(f);for(let w=l;w<d;w++){const I=s.data[w],b=o[w];Yi(w),(null!==I.hostBindings||0!==I.hostVars||null!==I.hostAttrs)&&Vb(I,b)}}finally{Oi(-1),Yi(y)}}function Vb(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function _f(s,o,a){o.componentOffset=a,(s.components||(s.components=[])).push(o.index)}function _0(s,o,a){if(a){if(o.exportAs)for(let l=0;l<o.exportAs.length;l++)a[o.exportAs[l]]=s;nr(o)&&(a[""]=s)}}function v0(s,o,a,l,d){s.data[l]=d;const f=d.factory||(d.factory=Cs(d.type)),y=new ia(f,nr(d),Bu);s.blueprint[l]=y,a[l]=y,function p0(s,o,a,l,d){const f=d.hostBindings;if(f){let y=s.hostBindingOpCodes;null===y&&(y=s.hostBindingOpCodes=[]);const w=~o.index;(function g0(s){let o=s.length;for(;o>0;){const a=s[--o];if("number"==typeof a&&a<0)return a}return 0})(y)!=w&&y.push(w),y.push(a,l,f)}}(s,o,l,Kr(s,a,d.hostVars,_t),d)}function Li(s,o,a,l,d,f){const y=Hn(s,o);!function Fc(s,o,a,l,d,f,y){if(null==f)s.removeAttribute(o,d,a);else{const w=null==y?ge(f):y(f,l||"",d);s.setAttribute(o,d,w,a)}}(o[11],y,f,s.value,a,l,d)}function vf(s,o,a,l,d,f){const y=f[o];if(null!==y){const w=l.setInput;for(let I=0;I<y.length;){const b=y[I++],A=y[I++],M=y[I++];null!==w?l.setInput(a,M,b,A):a[A]=M}}}function E0(s,o,a){let l=null,d=0;for(;d<a.length;){const f=a[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(s.hasOwnProperty(f)){null===l&&(l=[]);const y=s[f];for(let w=0;w<y.length;w+=2)if(y[w]===o){l.push(f,y[w+1],a[d+1]);break}}d+=2}else d+=2;else d+=4}return l}function Gm(s,o,a,l){return[s,!0,!1,o,null,0,l,a,null,null]}function Mo(s,o){const a=Gn(o,s);if(Ss(a)){const l=a[1];48&a[2]?Pc(l,a,l.template,a[8]):a[5]>0&&wf(a)}}function wf(s){for(let l=Or(s);null!==l;l=kr(l))for(let d=10;d<l.length;d++){const f=l[d];if(Ss(f))if(512&f[2]){const y=f[1];Pc(y,f,y.template,f[8])}else f[5]>0&&wf(f)}const a=s[1].components;if(null!==a)for(let l=0;l<a.length;l++){const d=Gn(a[l],s);Ss(d)&&d[5]>0&&wf(d)}}function rO(s,o){const a=Gn(o,s),l=a[1];(function iO(s,o){for(let a=o.length;a<s.blueprint.length;a++)o.push(s.blueprint[a])})(l,a),Fm(l,a,a[8])}function Sa(s,o){return s[13]?s[14][4]=o:s[13]=o,s[14]=o,o}function $u(s){for(;s;){s[2]|=32;const o=ze(s);if(jv(s)&&!o)return s;s=o}return null}function ju(s,o,a,l=!0){const d=o[10];d.begin&&d.begin();try{Pc(s,o,s.template,a)}catch(y){throw l&&$b(o,y),y}finally{d.end&&d.end()}}function Wm(s,o,a){uh(0),o(s,a)}function C0(s){return s[7]||(s[7]=[])}function Ub(s){return s.cleanup||(s.cleanup=[])}function $b(s,o){const a=s[9],l=a?a.get(Tc,null):null;l&&l.handleError(o)}function b0(s,o,a,l,d){for(let f=0;f<a.length;){const y=a[f++],w=a[f++],I=o[y],b=s.data[y];null!==b.setInput?b.setInput(I,d,l,w):I[w]=d}}function qm(s,o,a){let l=a?s.styles:null,d=a?s.classes:null,f=0;if(null!==o)for(let y=0;y<o.length;y++){const w=o[y];"number"==typeof w?f=w:1==f?d=Ce(d,w):2==f&&(l=Ce(l,w+": "+o[++y]+";"))}a?s.styles=l:s.stylesWithoutHost=l,a?s.classes=d:s.classesWithoutHost=d}function Zm(s,o,a,l,d=!1){for(;null!==a;){const f=o[a.index];if(null!==f&&l.push(_n(f)),Sr(f))for(let w=10;w<f.length;w++){const I=f[w],b=I[1].firstChild;null!==b&&Zm(I[1],I,b,l)}const y=a.type;if(8&y)Zm(s,o,a.child,l);else if(32&y){const w=le(a,o);let I;for(;I=w();)l.push(I)}else if(16&y){const w=Qh(o,a);if(Array.isArray(w))l.push(...w);else{const I=ze(o[16]);Zm(I[1],I,w,l,!0)}}a=d?a.projectionNext:a.next}return l}class Lc{get rootNodes(){const o=this._lView,a=o[1];return Zm(a,o,a.firstChild,[])}constructor(o,a){this._lView=o,this._cdRefInjectingView=a,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[8]}set context(o){this._lView[8]=o}get destroyed(){return 128==(128&this._lView[2])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[3];if(Sr(o)){const a=o[8],l=a?a.indexOf(this):-1;l>-1&&(Kg(o,l),Ql(a,l))}this._attachedToViewContainer=!1}qh(this._lView[1],this._lView)}onDestroy(o){zs(this._lView[1],this._lView,null,o)}markForCheck(){$u(this._cdRefInjectingView||this._lView)}detach(){this._lView[2]&=-65}reattach(){this._lView[2]|=64}detectChanges(){ju(this._lView[1],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Z(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Co(s,o){gc(s,o,o[11],2,null,null)}(this._lView[1],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Z(902,!1);this._appRef=o}}class S0 extends Lc{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;ju(o[1],o,o[8],!1)}checkNoChanges(){}get context(){return null}}class T0 extends Lu{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const a=Vt(o);return new Ws(a,this.ngModule)}}function A0(s){const o=[];for(let a in s)s.hasOwnProperty(a)&&o.push({propName:s[a],templateName:a});return o}class Km{constructor(o,a){this.injector=o,this.parentInjector=a}get(o,a,l){l=nt(l);const d=this.injector.get(o,df,l);return d!==df||a===df?d:this.parentInjector.get(o,a,l)}}class Ws extends Ow{get inputs(){return A0(this.componentDef.inputs)}get outputs(){return A0(this.componentDef.outputs)}constructor(o,a){super(),this.componentDef=o,this.ngModule=a,this.componentType=o.type,this.selector=function Eb(s){return s.map(wb).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!a}create(o,a,l,d){let f=(d=d||this.ngModule)instanceof Ca?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const y=f?new Km(o,f):o,w=y.get(Im,null);if(null===w)throw new Z(407,!1);const I=y.get(hb,null),b=w.createRenderer(null,this.componentDef),A=this.componentDef.selectors[0][0]||"div",M=l?function pr(s,o,a){return s.selectRootElement(o,a===Ft.ShadowDom)}(b,l,this.componentDef.encapsulation):ya(b,A,function jb(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(A)),V=this.componentDef.onPush?288:272,z=ls(0,null,null,1,0,null,null,null,null,null),ie=mf(null,z,null,V,null,null,w,b,I,y,null);let Ae,Pe;lh(ie);try{const $e=this.componentDef;let Xe,de=null;$e.findHostDirectiveDefs?(Xe=[],de=new Map,$e.findHostDirectiveDefs($e,Xe,de),Xe.push($e)):Xe=[$e];const ht=function Uc(s,o){const a=s[1];return s[22]=o,ba(a,22,2,"#host",null)}(ie,M),Qt=function Ym(s,o,a,l,d,f,y,w){const I=d[1];!function Hb(s,o,a,l){for(const d of s)o.mergedAttrs=Pi(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(qm(o,o.mergedAttrs,!0),null!==a&&yc(l,a,o))}(l,s,o,y);const b=f.createRenderer(o,a),A=mf(d,l0(a),null,a.onPush?32:16,d[s.index],s,f,b,w||null,null,null);return I.firstCreatePass&&_f(I,s,l.length-1),Sa(d,A),d[s.index]=A}(ht,M,$e,Xe,ie,w,b);Pe=eh(z,22),M&&function Gb(s,o,a,l){if(l)As(s,a,["ng-version",Fw.full]);else{const{attrs:d,classes:f}=function Db(s){const o=[],a=[];let l=1,d=2;for(;l<s.length;){let f=s[l];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++l]):8===d&&a.push(f);else{if(!ai(d))break;d=f}l++}return{attrs:o,classes:a}}(o.selectors[0]);d&&As(s,a,d),f&&f.length>0&&bo(s,a,f.join(" "))}}(b,$e,M,l),void 0!==a&&function Df(s,o,a){const l=s.projection=[];for(let d=0;d<o.length;d++){const f=a[d];l.push(null!=f?Array.from(f):null)}}(Pe,this.ngContentSelectors,a),Ae=function Qm(s,o,a,l,d,f){const y=Sn(),w=d[1],I=Hn(y,d);Nc(w,d,y,a,null,l);for(let A=0;A<a.length;A++)Ln(Ji(d,w,y.directiveStart+A,y),d);$m(w,d,y),I&&Ln(I,d);const b=Ji(d,w,y.directiveStart+y.componentOffset,y);if(s[8]=d[8]=b,null!==f)for(const A of f)A(b,o);return Lm(w,y,s),b}(Qt,$e,Xe,de,ie,[x0]),Fm(z,ie,null)}finally{kg()}return new Ef(this.componentType,Ae,Hs(Pe,ie),ie,Pe)}}class Ef extends ub{constructor(o,a,l,d,f){super(),this.location=l,this._rootLView=d,this._tNode=f,this.instance=a,this.hostView=this.changeDetectorRef=new S0(d),this.componentType=o}setInput(o,a){const l=this._tNode.inputs;let d;if(null!==l&&(d=l[o])){const f=this._rootLView;b0(f[1],f,d,o,a),Bm(f,this._tNode.index)}}get injector(){return new go(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function x0(){const s=Sn();ra(re()[1],s)}function Hu(s){let o=function Xm(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),a=!0;const l=[s];for(;o;){let d;if(nr(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Z(903,!1);d=o.\u0275dir}if(d){if(a){l.push(d);const y=s;y.inputs=M0(s.inputs),y.declaredInputs=M0(s.declaredInputs),y.outputs=M0(s.outputs);const w=d.hostBindings;w&&oO(s,w);const I=d.viewQuery,b=d.contentQueries;if(I&&sO(s,I),b&&R0(s,b),Re(s.inputs,d.inputs),Re(s.declaredInputs,d.declaredInputs),Re(s.outputs,d.outputs),nr(d)&&d.data.animation){const A=s.data;A.animation=(A.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let y=0;y<f.length;y++){const w=f[y];w&&w.ngInherit&&w(s),w===Hu&&(a=!1)}}o=Object.getPrototypeOf(o)}!function Ta(s){let o=0,a=null;for(let l=s.length-1;l>=0;l--){const d=s[l];d.hostVars=o+=d.hostVars,d.hostAttrs=Pi(d.hostAttrs,a=Pi(a,d.hostAttrs))}}(l)}function M0(s){return s===en?{}:s===ut?[]:s}function sO(s,o){const a=s.viewQuery;s.viewQuery=a?(l,d)=>{o(l,d),a(l,d)}:o}function R0(s,o){const a=s.contentQueries;s.contentQueries=a?(l,d,f)=>{o(l,d,f),a(l,d,f)}:o}function oO(s,o){const a=s.hostBindings;s.hostBindings=a?(l,d)=>{o(l,d),a(l,d)}:o}let Cf=null;function Aa(){if(!Cf){const s=ft.Symbol;if(s&&s.iterator)Cf=s.iterator;else{const o=Object.getOwnPropertyNames(Map.prototype);for(let a=0;a<o.length;++a){const l=o[a];"entries"!==l&&"size"!==l&&Map.prototype[l]===Map.prototype.entries&&(Cf=l)}}}return Cf}function bf(s){return!!P0(s)&&(Array.isArray(s)||!(s instanceof Map)&&Aa()in s)}function P0(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function vi(s,o,a){return s[o]=a}function Fr(s,o,a){return!Object.is(s[o],a)&&(s[o]=a,!0)}function zc(s,o,a,l){const d=re();return Fr(d,Ts(),o)&&(Ot(),Li(Gt(),d,s,o,a,l)),zc}function Zc(s,o,a,l,d,f,y,w){const I=re(),b=Ot(),A=s+22,M=b.firstCreatePass?function U0(s,o,a,l,d,f,y,w,I){const b=o.consts,A=ba(o,s,4,y||null,Ri(b,w));yf(o,a,A,Ri(b,I)),ra(o,A);const M=A.tViews=ls(2,A,l,d,f,o.directiveRegistry,o.pipeRegistry,null,o.schemas,b);return null!==o.queries&&(o.queries.template(o,A),M.queries=o.queries.embeddedTView(A)),A}(A,b,I,o,a,l,d,f,y):b.data[A];mi(M,!1);const V=I[11].createComment("");fc(b,I,V,M),Ln(V,I),Sa(I,I[A]=Gm(V,I,V,M)),Ja(M)&&Vm(b,I,M),null!=y&&xo(I,M,w)}function ry(s,o,a){const l=re();return Fr(l,Ts(),o)&&function Yr(s,o,a,l,d,f,y,w){const I=Hn(o,a);let A,b=o.inputs;!w&&null!=b&&(A=b[l])?(b0(s,a,A,l,d),Qo(o)&&Bm(a,o.index)):3&o.type&&(l=function h0(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(l),d=null!=y?y(d,o.value||"",l):d,f.setProperty(I,l,d))}(Ot(),Gt(),l,s,o,l[11],a,!1),ry}function B0(s,o,a,l,d){const y=d?"class":"style";b0(s,a,o.inputs[y],y,l)}function Af(s,o,a,l){const d=re(),f=Ot(),y=22+s,w=d[11],I=d[y]=ya(w,o,function rw(){return gt.lFrame.currentNamespace}()),b=f.firstCreatePass?function $0(s,o,a,l,d,f,y){const w=o.consts,b=ba(o,s,2,d,Ri(w,f));return yf(o,a,b,Ri(w,y)),null!==b.attrs&&qm(b,b.attrs,!1),null!==b.mergedAttrs&&qm(b,b.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,b),b}(y,f,d,0,o,a,l):f.data[y];return mi(b,!0),yc(w,I,b),32!=(32&b.flags)&&fc(f,d,I,b),0===function jl(){return gt.lFrame.elementDepthCount}()&&Ln(I,d),function Ig(){gt.lFrame.elementDepthCount++}(),Ja(b)&&(Vm(f,d,b),Lm(f,b,d)),null!==l&&xo(d,b),Af}function Kc(){let s=Sn();au()?ih():(s=s.parent,mi(s,!1));const o=s;!function Hl(){gt.lFrame.elementDepthCount--}();const a=Ot();return a.firstCreatePass&&(ra(a,s),xi(s)&&a.queries.elementEnd(s)),null!=o.classesWithoutHost&&function hu(s){return 0!=(8&s.flags)}(o)&&B0(a,o,re(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function Xi(s){return 0!=(16&s.flags)}(o)&&B0(a,o,re(),o.stylesWithoutHost,!1),Kc}function iy(s,o,a,l){return Af(s,o,a,l),Kc(),iy}function H0(){return re()}function ko(s){return!!s&&"function"==typeof s.then}function G0(s){return!!s&&"function"==typeof s.subscribe}const xf=G0;function ay(s,o,a,l){const d=re(),f=Ot(),y=Sn();return function W0(s,o,a,l,d,f,y){const w=Ja(l),b=s.firstCreatePass&&Ub(s),A=o[8],M=C0(o);let V=!0;if(3&l.type||y){const Ae=Hn(l,o),Pe=y?y(Ae):Ae,$e=M.length,Xe=y?ht=>y(_n(ht[l.index])):l.index;let de=null;if(!y&&w&&(de=function z0(s,o,a,l){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const y=d[f];if(y===a&&d[f+1]===l){const w=o[7],I=d[f+2];return w.length>I?w[I]:null}"string"==typeof y&&(f+=2)}return null}(s,o,d,l.index)),null!==de)(de.__ngLastListenerFn__||de).__ngNextListenerFn__=f,de.__ngLastListenerFn__=f,V=!1;else{f=q0(l,o,A,f,!1);const ht=a.listen(Pe,d,f);M.push(f,ht),b&&b.push(d,Xe,$e,$e+1)}}else f=q0(l,o,A,f,!1);const z=l.outputs;let ie;if(V&&null!==z&&(ie=z[d])){const Ae=ie.length;if(Ae)for(let Pe=0;Pe<Ae;Pe+=2){const Qt=o[ie[Pe]][ie[Pe+1]].subscribe(f),an=M.length;M.push(f,Qt),b&&b.push(d,l.index,an,-(an+1))}}}(f,d,d[11],y,s,o,l),ay}function Wu(s,o,a,l){try{return!1!==a(l)}catch(d){return $b(s,d),!1}}function q0(s,o,a,l,d){return function f(y){if(y===Function)return l;$u(s.componentOffset>-1?Gn(s.index,o):o);let I=Wu(o,0,l,y),b=f.__ngNextListenerFn__;for(;b;)I=Wu(o,0,b,y)&&I,b=b.__ngNextListenerFn__;return d&&!1===I&&(y.preventDefault(),y.returnValue=!1),I}}function uy(s=1){return function Jv(s){return(gt.lFrame.contextLView=function kC(s,o){for(;s>0;)o=o[15],s--;return o}(s,gt.lFrame.contextLView))[8]}(s)}function eS(s,o){let a=null;const l=function hf(s){const o=s.attrs;if(null!=o){const a=o.indexOf(5);if(!(1&a))return o[a+1]}return null}(s);for(let d=0;d<o.length;d++){const f=o[d];if("*"!==f){if(null===l?Am(s,f,!0):Ww(l,f))return d}else a=d}return a}function Rf(s){const o=re()[16][6];if(!o.projection){const l=o.projection=_o(s?s.length:1,null),d=l.slice();let f=o.child;for(;null!==f;){const y=s?eS(f,s):0;null!==y&&(d[y]?d[y].projectionNext=f:l[y]=f,d[y]=f),f=f.next}}}function Z0(s,o=0,a){const l=re(),d=Ot(),f=ba(d,22+s,16,null,a||null);null===f.projection&&(f.projection=o),ih(),32!=(32&f.flags)&&function fw(s,o,a){em(o[11],0,o,a,Zh(s,a,o),Yg(a.parent||o[6],a,o))}(d,l,f)}function Qc(s,o){return s<<17|o<<2}function No(s){return s>>17&32767}function dy(s){return 2|s}function Zs(s){return(131068&s)>>2}function Pf(s,o){return-131069&s|o<<2}function Nf(s){return 1|s}function tE(s,o,a,l,d){const f=s[a+1],y=null===o;let w=l?No(f):Zs(f),I=!1;for(;0!==w&&(!1===I||y);){const A=s[w+1];nE(s[w],o)&&(I=!0,s[w+1]=l?Nf(A):dy(A)),w=l?No(A):Zs(A)}I&&(s[a+1]=l?dy(f):Nf(f))}function nE(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&ir(s,o)>=0}function rE(s,o,a){return Ui(s,o,a,!1),rE}function gy(s,o){return Ui(s,o,null,!0),gy}function Ui(s,o,a,l){const d=re(),f=Ot(),y=function Ki(s){const o=gt.lFrame,a=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,a}(2);f.firstUpdatePass&&function sE(s,o,a,l){const d=s.data;if(null===d[a+1]){const f=d[hr()],y=function iE(s,o){return o>=s.expandoStartIndex}(s,a);(function ed(s,o){return 0!=(s.flags&(o?8:16))})(f,l)&&null===o&&!y&&(o=!1),o=function Ff(s,o,a,l){const d=function na(s){const o=gt.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=l?o.residualClasses:o.residualStyles;if(null===d)0===(l?o.classBindings:o.styleBindings)&&(a=Xc(a=my(null,s,o,a,l),o.attrs,l),f=null);else{const y=o.directiveStylingLast;if(-1===y||s[y]!==d)if(a=my(d,s,o,a,l),null===f){let I=function oE(s,o,a){const l=a?o.classBindings:o.styleBindings;if(0!==Zs(l))return s[No(l)]}(s,o,l);void 0!==I&&Array.isArray(I)&&(I=my(null,s,o,I[1],l),I=Xc(I,o.attrs,l),function dS(s,o,a,l){s[No(a?o.classBindings:o.styleBindings)]=l}(s,o,l,I))}else f=function hS(s,o,a){let l;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)l=Xc(l,s[f].hostAttrs,a);return Xc(l,o.attrs,a)}(s,o,l)}return void 0!==f&&(l?o.residualClasses=f:o.residualStyles=f),a}(d,f,o,l),function sS(s,o,a,l,d,f){let y=f?o.classBindings:o.styleBindings,w=No(y),I=Zs(y);s[l]=a;let A,b=!1;if(Array.isArray(a)?(A=a[1],(null===A||ir(a,A)>0)&&(b=!0)):A=a,d)if(0!==I){const V=No(s[w+1]);s[l+1]=Qc(V,w),0!==V&&(s[V+1]=Pf(s[V+1],l)),s[w+1]=function nS(s,o){return 131071&s|o<<17}(s[w+1],l)}else s[l+1]=Qc(w,0),0!==w&&(s[w+1]=Pf(s[w+1],l)),w=l;else s[l+1]=Qc(I,0),0===w?w=l:s[I+1]=Pf(s[I+1],l),I=l;b&&(s[l+1]=dy(s[l+1])),tE(s,A,l,!0),tE(s,A,l,!1),function eE(s,o,a,l,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&ir(f,o)>=0&&(a[l+1]=Nf(a[l+1]))}(o,A,s,l,f),y=Qc(w,I),f?o.classBindings=y:o.styleBindings=y}(d,f,o,a,y,l)}}(f,s,y,l),o!==_t&&Fr(d,y,o)&&function Zu(s,o,a,l,d,f,y,w){if(!(3&o.type))return;const I=s.data,b=I[w+1],A=function rS(s){return 1==(1&s)}(b)?uE(I,o,a,d,Zs(b),y):void 0;Ku(A)||(Ku(f)||function J0(s){return 2==(2&s)}(b)&&(f=uE(I,null,a,d,w,y)),function os(s,o,a,l,d){if(o)d?s.addClass(a,l):s.removeClass(a,l);else{let f=-1===l.indexOf("-")?void 0:ot.DashCase;null==d?s.removeStyle(a,l,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ot.Important),s.setStyle(a,l,d,f))}}(l,y,ao(hr(),a),d,f))}(f,f.data[hr()],d,d[11],s,d[y+1]=function Jc(s,o){return null==s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ye(as(s)))),s}(o,a),l,y)}function my(s,o,a,l,d){let f=null;const y=a.directiveEnd;let w=a.directiveStylingLast;for(-1===w?w=a.directiveStart:w++;w<y&&(f=o[w],l=Xc(l,f.hostAttrs,d),f!==s);)w++;return null!==s&&(a.directiveStylingLast=w),l}function Xc(s,o,a){const l=a?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const y=o[f];"number"==typeof y?d=y:d===l&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),fr(s,y,!!a||o[++f]))}return void 0===s?null:s}function uE(s,o,a,l,d,f){const y=null===o;let w;for(;d>0;){const I=s[d],b=Array.isArray(I),A=b?I[1]:I,M=null===A;let V=a[d+1];V===_t&&(V=M?ut:void 0);let z=M?tn(V,l):A===l?V:void 0;if(b&&!Ku(z)&&(z=tn(I,l)),Ku(z)&&(w=z,y))return w;const ie=s[d+1];d=y?No(ie):Zs(ie)}if(null!==o){let I=f?o.residualClasses:o.residualStyles;null!=I&&(w=tn(I,l))}return w}function Ku(s){return void 0!==s}function lE(s,o=""){const a=re(),l=Ot(),d=s+22,f=l.firstCreatePass?ba(l,d,1,o,null):l.data[d],y=a[d]=function ss(s,o){return s.createText(o)}(a[11],o);fc(l,a,y,f),mi(f,!1)}function yy(s,o,a){const l=re(),d=function Wc(s,o,a,l){return Fr(s,Ts(),a)?o+ge(a)+l:_t}(l,s,o,a);return d!==_t&&function Ro(s,o,a){const l=ao(o,s);!function xu(s,o,a){s.setValue(o,a)}(s[11],l,a)}(l,hr(),d),yy}const el=void 0;var yE=["en",[["a","p"],["AM","PM"],el],[["AM","PM"],el,el],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],el,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],el,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",el,"{1} 'at' {0}",el],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function mO(s){const a=Math.floor(Math.abs(s)),l=s.toString().replace(/^[^.]*\.?/,"").length;return 1===a&&0===l?1:5}];let Ra={};function by(s){const o=function bS(s){return s.toLowerCase().replace(/_/g,"-")}(s);let a=rd(o);if(a)return a;const l=o.split("-")[0];if(a=rd(l),a)return a;if("en"===l)return yE;throw new Z(701,!1)}function _E(s){return by(s)[tt.PluralCase]}function rd(s){return s in Ra||(Ra[s]=ft.ng&&ft.ng.common&&ft.ng.common.locales&&ft.ng.common.locales[s]),Ra[s]}var tt=(()=>((tt=tt||{})[tt.LocaleId=0]="LocaleId",tt[tt.DayPeriodsFormat=1]="DayPeriodsFormat",tt[tt.DayPeriodsStandalone=2]="DayPeriodsStandalone",tt[tt.DaysFormat=3]="DaysFormat",tt[tt.DaysStandalone=4]="DaysStandalone",tt[tt.MonthsFormat=5]="MonthsFormat",tt[tt.MonthsStandalone=6]="MonthsStandalone",tt[tt.Eras=7]="Eras",tt[tt.FirstDayOfWeek=8]="FirstDayOfWeek",tt[tt.WeekendRange=9]="WeekendRange",tt[tt.DateFormat=10]="DateFormat",tt[tt.TimeFormat=11]="TimeFormat",tt[tt.DateTimeFormat=12]="DateTimeFormat",tt[tt.NumberSymbols=13]="NumberSymbols",tt[tt.NumberFormats=14]="NumberFormats",tt[tt.CurrencyCode=15]="CurrencyCode",tt[tt.CurrencySymbol=16]="CurrencySymbol",tt[tt.CurrencyName=17]="CurrencyName",tt[tt.Currencies=18]="Currencies",tt[tt.Directionality=19]="Directionality",tt[tt.PluralCase=20]="PluralCase",tt[tt.ExtraData=21]="ExtraData",tt))();const id="en-US";let vE=id;function qf(s,o,a,l,d){if(s=H(s),Array.isArray(s))for(let f=0;f<s.length;f++)qf(s[f],o,a,l,d);else{const f=Ot(),y=re();let w=js(s)?s:H(s.provide),I=vm(s);const b=Sn(),A=1048575&b.providerIndexes,M=b.directiveStart,V=b.providerIndexes>>20;if(js(s)||!s.multi){const z=new ia(I,d,Bu),ie=Zf(w,o,d?A:A+V,M);-1===ie?(yh(fo(b,y),f,w),od(f,s,o.length),o.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push(z),y.push(z)):(a[ie]=z,y[ie]=z)}else{const z=Zf(w,o,A+V,M),ie=Zf(w,o,A,A+V),Pe=ie>=0&&a[ie];if(d&&!Pe||!d&&!(z>=0&&a[z])){yh(fo(b,y),f,w);const $e=function oT(s,o,a,l,d){const f=new ia(s,a,Bu);return f.multi=[],f.index=o,f.componentProviders=0,ky(f,d,l&&!a),f}(d?sT:FE,a.length,d,l,I);!d&&Pe&&(a[ie].providerFactory=$e),od(f,s,o.length,0),o.push(w),b.directiveStart++,b.directiveEnd++,d&&(b.providerIndexes+=1048576),a.push($e),y.push($e)}else od(f,s,z>-1?z:ie,ky(a[d?ie:z],I,!d&&l));!d&&l&&Pe&&a[ie].componentProviders++}}}function od(s,o,a,l){const d=js(o),f=function af(s){return!!s.useClass}(o);if(d||f){const I=(f?H(o.useClass):o).prototype.ngOnDestroy;if(I){const b=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const A=b.indexOf(a);-1===A?b.push(a,[l,I]):b[A+1].push(l,I)}else b.push(a,I)}}}function ky(s,o,a){return a&&s.componentProviders++,s.multi.push(o)-1}function Zf(s,o,a,l){for(let d=a;d<l;d++)if(o[d]===s)return d;return-1}function FE(s,o,a,l){return Py(this.multi,[])}function sT(s,o,a,l){const d=this.multi;let f;if(this.providerFactory){const y=this.providerFactory.componentProviders,w=Ji(a,a[1],this.providerFactory.index,l);f=w.slice(0,y),Py(d,f);for(let I=y;I<w.length;I++)f.push(w[I])}else f=[],Py(d,f);return f}function Py(s,o){for(let a=0;a<s.length;a++)o.push((0,s[a])());return o}function LE(s,o=[]){return a=>{a.providersResolver=(l,d)=>function rl(s,o,a){const l=Ot();if(l.firstCreatePass){const d=nr(s);qf(a,l.data,l.blueprint,d,!0),qf(o,l.data,l.blueprint,d,!1)}}(l,d?d(s):s,o)}}class il{}class fs{}function VE(s,o){return new Ny(s,o??null)}class Ny extends il{constructor(o,a){super(),this._parent=a,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new T0(this);const l=lr(o);this._bootstrapComponents=us(l.bootstrap),this._r3Injector=e0(o,a,[{provide:il,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],ye(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(a=>a()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class ad extends fs{constructor(o){super(),this.moduleType=o}create(o){return new Ny(this.moduleType,o)}}class Fy extends il{constructor(o,a,l){super(),this.componentFactoryResolver=new T0(this),this.instance=null;const d=new Mw([...o,{provide:il,useValue:this},{provide:Lu,useValue:this.componentFactoryResolver}],a||lf(),l,new Set(["environment"]));this.injector=d,d.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Kf(s,o,a=null){return new Fy(s,o,a).injector}let BE=(()=>{class s{constructor(a){this._injector=a,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(a){if(!a.standalone)return null;if(!this.cachedInjectors.has(a.id)){const l=Pu(0,a.type),d=l.length>0?Kf([l],this._injector,`Standalone[${a.type.name}]`):null;this.cachedInjectors.set(a.id,d)}return this.cachedInjectors.get(a.id)}ngOnDestroy(){try{for(const a of this.cachedInjectors.values())null!==a&&a.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=et({token:s,providedIn:"environment",factory:()=>new s(Oe(Ca))}),s})();function Yf(s){s.getStandaloneInjector=o=>o.get(BE).getOrCreateStandaloneInjector(s)}function Lo(s,o,a,l){return function Jf(s,o,a,l,d,f){const y=o+a;return Fr(s,y,d)?vi(s,y+1,f?l.call(f,d):l(d)):La(s,y+1)}(re(),rr(),s,o,a,l)}function La(s,o){const a=s[o];return a===_t?void 0:a}function ep(s,o,a,l,d,f,y){const w=o+a;return function qs(s,o,a,l){const d=Fr(s,o,a);return Fr(s,o+1,l)||d}(s,w,d,f)?vi(s,w+2,y?l.call(y,d,f):l(d,f)):La(s,w+2)}function rp(s,o){const a=Ot();let l;const d=s+22;a.firstCreatePass?(l=function fT(s,o){if(o)for(let a=o.length-1;a>=0;a--){const l=o[a];if(s===l.name)return l}}(o,a.pipeRegistry),a.data[d]=l,l.onDestroy&&(a.destroyHooks||(a.destroyHooks=[])).push(d,l.onDestroy)):l=a.data[d];const f=l.factory||(l.factory=Cs(l.type)),y=Xn(Bu);try{const w=yi(!1),I=f();return yi(w),function Jb(s,o,a,l){a>=s.data.length&&(s.data[a]=null,s.blueprint[a]=null),o[a]=l}(a,re(),d,I),I}finally{Xn(y)}}function ip(s,o,a,l){const d=s+22,f=re(),y=function bs(s,o){return s[o]}(f,d);return function al(s,o){return s[1].data[o].pure}(f,d)?ep(f,rr(),o,y.transform,a,l,y):y.transform(a,l)}function $y(s){return o=>{setTimeout(s,void 0,o)}}const wi=class mT extends h.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,a,l){let d=o,f=a||(()=>null),y=l;if(o&&"object"==typeof o){const I=o;d=I.next?.bind(I),f=I.error?.bind(I),y=I.complete?.bind(I)}this.__isAsync&&(f=$y(f),d&&(d=$y(d)),y&&(y=$y(y)));const w=super.subscribe({next:d,error:f,complete:y});return o instanceof k.w0&&o.add(w),w}};function yT(){return this._results[Aa()]()}class ld{get changes(){return this._changes||(this._changes=new wi)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const a=Aa(),l=ld.prototype;l[a]||(l[a]=yT)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,a){return this._results.reduce(o,a)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,a){const l=this;l.dirty=!1;const d=function xr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function jg(s,o,a){if(s.length!==o.length)return!1;for(let l=0;l<s.length;l++){let d=s[l],f=o[l];if(a&&(d=a(d),f=a(f)),f!==d)return!1}return!0}(l._results,d,a))&&(l._results=d,l.length=d.length,l.last=d[this.length-1],l.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Va=(()=>{class s{}return s.__NG_ELEMENT_ID__=QE,s})();const _T=Va,jy=class extends _T{constructor(o,a,l){super(),this._declarationLView=o,this._declarationTContainer=a,this.elementRef=l}createEmbeddedView(o,a){const l=this._declarationTContainer.tViews,d=mf(this._declarationLView,l,o,16,null,l.declTNode,null,null,null,null,a||null);d[17]=this._declarationLView[this._declarationTContainer.index];const y=this._declarationLView[19];return null!==y&&(d[19]=y.createEmbeddedView(l)),Fm(l,d,o),new Lc(d)}};function QE(){return sp(Sn(),re())}function sp(s,o){return 4&s.type?new jy(o,s,Hs(s,o)):null}let ul=(()=>{class s{}return s.__NG_ELEMENT_ID__=XE,s})();function XE(){return tD(Sn(),re())}const vT=ul,JE=class extends vT{constructor(o,a,l){super(),this._lContainer=o,this._hostTNode=a,this._hostLView=l}get element(){return Hs(this._hostTNode,this._hostLView)}get injector(){return new go(this._hostTNode,this._hostLView)}get parentInjector(){const o=_u(this._hostTNode,this._hostLView);if(zl(o)){const a=xs(o,this._hostLView),l=aa(o);return new go(a[1].data[l+8],a)}return new go(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const a=eD(this._lContainer);return null!==a&&a[o]||null}get length(){return this._lContainer.length-10}createEmbeddedView(o,a,l){let d,f;"number"==typeof l?d=l:null!=l&&(d=l.index,f=l.injector);const y=o.createEmbeddedView(a||{},f);return this.insert(y,d),y}createComponent(o,a,l,d,f){const y=o&&!function Eu(s){return"function"==typeof s}(o);let w;if(y)w=a;else{const M=a||{};w=M.index,l=M.injector,d=M.projectableNodes,f=M.environmentInjector||M.ngModuleRef}const I=y?o:new Ws(Vt(o)),b=l||this.parentInjector;if(!f&&null==I.ngModule){const V=(y?b:this.parentInjector).get(Ca,null);V&&(f=V)}const A=I.create(b,d,void 0,f);return this.insert(A.hostView,w),A}insert(o,a){const l=o._lView,d=l[1];if(function Dg(s){return Sr(s[3])}(l)){const A=this.indexOf(o);if(-1!==A)this.detach(A);else{const M=l[3],V=new JE(M,M[6],M[3]);V.detach(V.indexOf(o))}}const f=this._adjustIndex(a),y=this._lContainer;!function Zg(s,o,a,l){const d=10+l,f=a.length;l>0&&(a[d-1][4]=o),l<f-10?(o[4]=a[d],Hg(a,10+l,o)):(a.push(o),o[4]=null),o[3]=a;const y=o[17];null!==y&&a!==y&&function dc(s,o){const a=s[9];o[16]!==o[3][3][16]&&(s[2]=!0),null===a?s[9]=[o]:a.push(o)}(y,o);const w=o[19];null!==w&&w.insertView(s),o[2]|=64}(d,l,y,f);const w=Ea(f,y),I=l[11],b=$s(I,y[7]);return null!==b&&function Gh(s,o,a,l,d,f){l[0]=d,l[6]=o,gc(s,l,a,1,d,f)}(d,y[6],I,l,b,w),o.attachToViewContainerRef(),Hg(Hy(y),f,o),o}move(o,a){return this.insert(o,a)}indexOf(o){const a=eD(this._lContainer);return null!==a?a.indexOf(o):-1}remove(o){const a=this._adjustIndex(o,-1),l=Kg(this._lContainer,a);l&&(Ql(Hy(this._lContainer),a),qh(l[1],l))}detach(o){const a=this._adjustIndex(o,-1),l=Kg(this._lContainer,a);return l&&null!=Ql(Hy(this._lContainer),a)?new Lc(l):null}_adjustIndex(o,a=0){return o??this.length+a}};function eD(s){return s[8]}function Hy(s){return s[8]||(s[8]=[])}function tD(s,o){let a;const l=o[s.index];if(Sr(l))a=l;else{let d;if(8&s.type)d=_n(l);else{const f=o[11];d=f.createComment("");const y=Hn(s,o);va(f,$s(f,y),d,function dw(s,o){return s.nextSibling(o)}(f,y),!1)}o[s.index]=a=Gm(l,o,d,s),Sa(o,a)}return new JE(a,s,o)}class cd{constructor(o){this.queryList=o,this.matches=null}clone(){return new cd(this.queryList)}setDirty(){this.queryList.setDirty()}}class Gy{constructor(o=[]){this.queries=o}createEmbeddedView(o){const a=o.queries;if(null!==a){const l=null!==o.contentQueries?o.contentQueries[0]:a.length,d=[];for(let f=0;f<l;f++){const y=a.getByIndex(f);d.push(this.queries[y.indexInDeclarationView].clone())}return new Gy(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let a=0;a<this.queries.length;a++)null!==lp(o,a).matches&&this.queries[a].setDirty()}}class op{constructor(o,a,l=null){this.predicate=o,this.flags=a,this.read=l}}class zy{constructor(o=[]){this.queries=o}elementStart(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].elementStart(o,a)}elementEnd(o){for(let a=0;a<this.queries.length;a++)this.queries[a].elementEnd(o)}embeddedTView(o){let a=null;for(let l=0;l<this.length;l++){const d=null!==a?a.length:0,f=this.getByIndex(l).embeddedTView(o,d);f&&(f.indexInDeclarationView=l,null!==a?a.push(f):a=[f])}return null!==a?new zy(a):null}template(o,a){for(let l=0;l<this.queries.length;l++)this.queries[l].template(o,a)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class dd{constructor(o,a=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=a}elementStart(o,a){this.isApplyingToNode(a)&&this.matchTNode(o,a)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,a){this.elementStart(o,a)}embeddedTView(o,a){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,a),new dd(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const a=this._declarationNodeIndex;let l=o.parent;for(;null!==l&&8&l.type&&l.index!==a;)l=l.parent;return a===(null!==l?l.index:-1)}return this._appliesToNextNode}matchTNode(o,a){const l=this.metadata.predicate;if(Array.isArray(l))for(let d=0;d<l.length;d++){const f=l[d];this.matchTNodeWithReadOption(o,a,wT(a,f)),this.matchTNodeWithReadOption(o,a,wu(a,o,f,!1,!1))}else l===Va?4&a.type&&this.matchTNodeWithReadOption(o,a,-1):this.matchTNodeWithReadOption(o,a,wu(a,o,l,!1,!1))}matchTNodeWithReadOption(o,a,l){if(null!==l){const d=this.metadata.read;if(null!==d)if(d===Vu||d===ul||d===Va&&4&a.type)this.addMatch(a.index,-2);else{const f=wu(a,o,d,!1,!1);null!==f&&this.addMatch(a.index,f)}else this.addMatch(a.index,l)}}addMatch(o,a){null===this.matches?this.matches=[o,a]:this.matches.push(o,a)}}function wT(s,o){const a=s.localNames;if(null!==a)for(let l=0;l<a.length;l+=2)if(a[l]===o)return a[l+1];return null}function ET(s,o,a,l){return-1===a?function Wy(s,o){return 11&s.type?Hs(s,o):4&s.type?sp(s,o):null}(o,s):-2===a?function FO(s,o,a){return a===Vu?Hs(o,s):a===Va?sp(o,s):a===ul?tD(o,s):void 0}(s,o,l):Ji(s,s[1],a,o)}function ap(s,o,a,l){const d=o[19].queries[l];if(null===d.matches){const f=s.data,y=a.matches,w=[];for(let I=0;I<y.length;I+=2){const b=y[I];w.push(b<0?null:ET(o,f[b],y[I+1],a.metadata.read))}d.matches=w}return d.matches}function nD(s,o,a,l){const d=s.queries.getByIndex(a),f=d.matches;if(null!==f){const y=ap(s,o,d,a);for(let w=0;w<f.length;w+=2){const I=f[w];if(I>0)l.push(y[w/2]);else{const b=f[w+1],A=o[-I];for(let M=10;M<A.length;M++){const V=A[M];V[17]===V[3]&&nD(V[1],V,b,l)}if(null!==A[9]){const M=A[9];for(let V=0;V<M.length;V++){const z=M[V];nD(z[1],z,b,l)}}}}}return l}function DT(s){const o=re(),a=Ot(),l=xg();uh(l+1);const d=lp(a,l);if(s.dirty&&function $l(s){return 4==(4&s[2])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?nD(a,o,l,[]):ap(a,o,d,l);s.reset(f,Sc),s.notifyOnChanges()}return!0}return!1}function rD(s,o,a){const l=Ot();l.firstCreatePass&&(sD(l,new op(s,o,a),-1),2==(2&o)&&(l.staticViewQueries=!0)),iD(l,re(),o)}function up(s,o,a,l){const d=Ot();if(d.firstCreatePass){const f=Sn();sD(d,new op(o,a,l),f.index),function CT(s,o){const a=s.contentQueries||(s.contentQueries=[]);o!==(a.length?a[a.length-1]:-1)&&a.push(s.queries.length-1,o)}(d,s),2==(2&a)&&(d.staticContentQueries=!0)}iD(d,re(),a)}function qy(){return function IT(s,o){return s[19].queries[o].queryList}(re(),xg())}function iD(s,o,a){const l=new ld(4==(4&a));zs(s,o,l,l.destroy),null===o[19]&&(o[19]=new Gy),o[19].queries.push(new cd(l))}function sD(s,o,a){null===s.queries&&(s.queries=new zy),s.queries.track(new dd(o,a))}function lp(s,o){return s.queries.getByIndex(o)}function dl(...s){}const CD=new kt("Application Initializer");let hp=(()=>{class s{constructor(a){this.appInits=a,this.resolve=dl,this.reject=dl,this.initialized=!1,this.done=!1,this.donePromise=new Promise((l,d)=>{this.resolve=l,this.reject=d})}runInitializers(){if(this.initialized)return;const a=[],l=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let d=0;d<this.appInits.length;d++){const f=this.appInits[d]();if(ko(f))a.push(f);else if(xf(f)){const y=new Promise((w,I)=>{f.subscribe({complete:w,error:I})});a.push(y)}}Promise.all(a).then(()=>{l()}).catch(d=>{this.reject(d)}),0===a.length&&l(),this.initialized=!0}}return s.\u0275fac=function(a){return new(a||s)(Oe(CD,8))},s.\u0275prov=et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const Uo=new kt("AppId",{providedIn:"root",factory:function fp(){return`${pp()}${pp()}${pp()}`}});function pp(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const gp=new kt("Platform Initializer"),n_=new kt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),mp=new kt("appBootstrapListener"),r_=new kt("AnimationModuleType");let i_=(()=>{class s{log(a){console.log(a)}warn(a){console.warn(a)}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const xn=new kt("LocaleId",{providedIn:"root",factory:()=>Ue(xn,rt.Optional|rt.SkipSelf)||function VT(){return typeof $localize<"u"&&$localize.locale||id}()}),UT=new kt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class AD{constructor(o,a){this.ngModuleFactory=o,this.componentFactories=a}}let s_=(()=>{class s{compileModuleSync(a){return new ad(a)}compileModuleAsync(a){return Promise.resolve(this.compileModuleSync(a))}compileModuleAndAllComponentsSync(a){const l=this.compileModuleSync(a),f=us(lr(a).declarations).reduce((y,w)=>{const I=Vt(w);return I&&y.push(new Ws(I)),y},[]);return new AD(l,f)}compileModuleAndAllComponentsAsync(a){return Promise.resolve(this.compileModuleAndAllComponentsSync(a))}clearCache(){}clearCacheFor(a){}getModuleId(a){}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const RD=(()=>Promise.resolve(0))();function pd(s){typeof Zone>"u"?RD.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ci{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:a=!1,shouldCoalesceRunChangeDetection:l=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new wi(!1),this.onMicrotaskEmpty=new wi(!1),this.onStable=new wi(!1),this.onError=new wi(!1),typeof Zone>"u")throw new Z(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!l&&a,d.shouldCoalesceRunChangeDetection=l,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function BT(){let s=ft.requestAnimationFrame,o=ft.cancelAnimationFrame;if(typeof Zone<"u"&&s&&o){const a=s[Zone.__symbol__("OriginalDelegate")];a&&(s=a);const l=o[Zone.__symbol__("OriginalDelegate")];l&&(o=l)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:o}}().nativeRequestAnimationFrame,function $T(s){const o=()=>{!function d_(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(ft,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,yp(s),s.isCheckStableRunning=!0,c_(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),yp(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(a,l,d,f,y,w)=>{try{return kD(s),a.invokeTask(d,f,y,w)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),PD(s)}},onInvoke:(a,l,d,f,y,w,I)=>{try{return kD(s),a.invoke(d,f,y,w,I)}finally{s.shouldCoalesceRunChangeDetection&&o(),PD(s)}},onHasTask:(a,l,d,f)=>{a.hasTask(d,f),l===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,yp(s),c_(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(a,l,d,f)=>(a.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ci.isInAngularZone())throw new Z(909,!1)}static assertNotInAngularZone(){if(ci.isInAngularZone())throw new Z(909,!1)}run(o,a,l){return this._inner.run(o,a,l)}runTask(o,a,l,d){const f=this._inner,y=f.scheduleEventTask("NgZoneEvent: "+d,o,l_,dl,dl);try{return f.runTask(y,a,l)}finally{f.cancelTask(y)}}runGuarded(o,a,l){return this._inner.runGuarded(o,a,l)}runOutsideAngular(o){return this._outer.run(o)}}const l_={};function c_(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function yp(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function kD(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function PD(s){s._nesting--,c_(s)}class jT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new wi,this.onMicrotaskEmpty=new wi,this.onStable=new wi,this.onError=new wi}run(o,a,l){return o.apply(a,l)}runGuarded(o,a,l){return o.apply(a,l)}runOutsideAngular(o){return o()}runTask(o,a,l,d){return o.apply(a,l)}}const ND=new kt(""),h_=new kt("");let vp,HT=(()=>{class s{constructor(a,l,d){this._ngZone=a,this.registry=l,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,vp||(function GT(s){vp=s}(d),d.addToWindow(l)),this._watchAngularEvents(),a.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ci.assertNotInAngularZone(),pd(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())pd(()=>{for(;0!==this._callbacks.length;){let a=this._callbacks.pop();clearTimeout(a.timeoutId),a.doneCb(this._didWork)}this._didWork=!1});else{let a=this.getPendingTasks();this._callbacks=this._callbacks.filter(l=>!l.updateCb||!l.updateCb(a)||(clearTimeout(l.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(a=>({source:a.source,creationLocation:a.creationLocation,data:a.data})):[]}addCallback(a,l,d){let f=-1;l&&l>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(y=>y.timeoutId!==f),a(this._didWork,this.getPendingTasks())},l)),this._callbacks.push({doneCb:a,timeoutId:f,updateCb:d})}whenStable(a,l,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(a,l,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(a){this.registry.registerApplication(a,this)}unregisterApplication(a){this.registry.unregisterApplication(a)}findProviders(a,l,d){return[]}}return s.\u0275fac=function(a){return new(a||s)(Oe(ci),Oe(_p),Oe(h_))},s.\u0275prov=et({token:s,factory:s.\u0275fac}),s})(),_p=(()=>{class s{constructor(){this._applications=new Map}registerApplication(a,l){this._applications.set(a,l)}unregisterApplication(a){this._applications.delete(a)}unregisterAllApplications(){this._applications.clear()}getTestability(a){return this._applications.get(a)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(a,l=!0){return vp?.findTestabilityInTree(this,a,l)??null}}return s.\u0275fac=function(a){return new(a||s)},s.\u0275prov=et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ps=null;const FD=new kt("AllowMultipleToken"),gd=new kt("PlatformDestroyListeners");class WT{constructor(o,a){this.name=o,this.token=a}}function m_(s,o,a=[]){const l=`Platform: ${o}`,d=new kt(l);return(f=[])=>{let y=y_();if(!y||y.injector.get(FD,!1)){const w=[...a,...f,{provide:d,useValue:!0}];s?s(w):function g_(s){if(ps&&!ps.get(FD,!1))throw new Z(400,!1);ps=s;const o=s.get(__);(function LD(s){const o=s.get(gp,null);o&&o.forEach(a=>a())})(s)}(function BD(s=[],o){return To.create({name:o,providers:[{provide:So,useValue:"platform"},{provide:gd,useValue:new Set([()=>ps=null])},...s]})}(w,l))}return function UD(s){const o=y_();if(!o)throw new Z(401,!1);return o}()}}function y_(){return ps?.get(__)??null}let __=(()=>{class s{constructor(a){this._injector=a,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(a,l){const d=function $D(s,o){let a;return a="noop"===s?new jT:("zone.js"===s?void 0:s)||new ci(o),a}(l?.ngZone,function wp(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(l)),f=[{provide:ci,useValue:d}];return d.run(()=>{const y=To.create({providers:f,parent:this.injector,name:a.moduleType.name}),w=a.create(y),I=w.injector.get(Tc,null);if(!I)throw new Z(402,!1);return d.runOutsideAngular(()=>{const b=d.onError.subscribe({next:A=>{I.handleError(A)}});w.onDestroy(()=>{w_(this._modules,w),b.unsubscribe()})}),function Ep(s,o,a){try{const l=a();return ko(l)?l.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):l}catch(l){throw o.runOutsideAngular(()=>s.handleError(l)),l}}(I,d,()=>{const b=w.injector.get(hp);return b.runInitializers(),b.donePromise.then(()=>(function Hf(s){St(s,"Expected localeId to be defined"),"string"==typeof s&&(vE=s.toLowerCase().replace(/_/g,"-"))}(w.injector.get(xn,id)||id),this._moduleDoBootstrap(w),w))})})}bootstrapModule(a,l=[]){const d=jD({},l);return function f_(s,o,a){const l=new ad(a);return Promise.resolve(l)}(0,0,a).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(a){const l=a.injector.get(v_);if(a._bootstrapComponents.length>0)a._bootstrapComponents.forEach(d=>l.bootstrap(d));else{if(!a.instance.ngDoBootstrap)throw new Z(-403,!1);a.instance.ngDoBootstrap(l)}this._modules.push(a)}onDestroy(a){this._destroyListeners.push(a)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Z(404,!1);this._modules.slice().forEach(l=>l.destroy()),this._destroyListeners.forEach(l=>l());const a=this._injector.get(gd,null);a&&(a.forEach(l=>l()),a.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(a){return new(a||s)(Oe(To))},s.\u0275prov=et({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function jD(s,o){return Array.isArray(o)?o.reduce(jD,s):{...s,...o}}let v_=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(a,l,d){this._zone=a,this._injector=l,this._exceptionHandler=d,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const f=new J.y(w=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{w.next(this._stable),w.complete()})}),y=new J.y(w=>{let I;this._zone.runOutsideAngular(()=>{I=this._zone.onStable.subscribe(()=>{ci.assertNotInAngularZone(),pd(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,w.next(!0))})})});const b=this._zone.onUnstable.subscribe(()=>{ci.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{w.next(!1)}))});return()=>{I.unsubscribe(),b.unsubscribe()}});this.isStable=(0,ae.T)(f,y.pipe((0,he.B)()))}bootstrap(a,l){const d=a instanceof Ow;if(!this._injector.get(hp).done)throw!d&&Es(a),new Z(405,false);let y;y=d?a:this._injector.get(Lu).resolveComponentFactory(a),this.componentTypes.push(y.componentType);const w=function p_(s){return s.isBoundToModule}(y)?void 0:this._injector.get(il),b=y.create(To.NULL,[],l||y.selector,w),A=b.location.nativeElement,M=b.injector.get(ND,null);return M?.registerApplication(A),b.onDestroy(()=>{this.detachView(b.hostView),w_(this.components,b),M?.unregisterApplication(A)}),this._loadComponent(b),b}tick(){if(this._runningTick)throw new Z(101,!1);try{this._runningTick=!0;for(let a of this._views)a.detectChanges()}catch(a){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(a))}finally{this._runningTick=!1}}attachView(a){const l=a;this._views.push(l),l.attachToAppRef(this)}detachView(a){const l=a;w_(this._views,l),l.detachFromAppRef()}_loadComponent(a){this.attachView(a.hostView),this.tick(),this.components.push(a);const l=this._injector.get(mp,[]);l.push(...this._bootstrapListeners),l.forEach(d=>d(a))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(a=>a()),this._views.slice().forEach(a=>a.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(a){return this._destroyListeners.push(a),()=>w_(this._destroyListeners,a)}destroy(){if(this._destroyed)throw new Z(406,!1);const a=this._injector;a.destroy&&!a.destroyed&&a.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(a){return new(a||s)(Oe(ci),Oe(Ca),Oe(Tc))},s.\u0275prov=et({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function w_(s,o){const a=s.indexOf(o);a>-1&&s.splice(a,1)}function XO(){return!1}let ZT=(()=>{class s{}return s.__NG_ELEMENT_ID__=GD,s})();function GD(s){return function sr(s,o,a){if(Qo(s)&&!a){const l=Gn(s.index,o);return new Lc(l,l)}return 47&s.type?new Lc(o[16],o):null}(Sn(),re(),16==(16&s))}class bp{constructor(){}supports(o){return bf(o)}create(o){return new nA(o)}}const tA=(s,o)=>o;class nA{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||tA}forEachItem(o){let a;for(a=this._itHead;null!==a;a=a._next)o(a)}forEachOperation(o){let a=this._itHead,l=this._removalsHead,d=0,f=null;for(;a||l;){const y=!l||a&&a.currentIndex<Sp(l,d,f)?a:l,w=Sp(y,d,f),I=y.currentIndex;if(y===l)d--,l=l._nextRemoved;else if(a=a._next,null==y.previousIndex)d++;else{f||(f=[]);const b=w-d,A=I-d;if(b!=A){for(let V=0;V<b;V++){const z=V<f.length?f[V]:f[V]=0,ie=z+V;A<=ie&&ie<b&&(f[V]=z+1)}f[y.previousIndex]=A-b}}w!==I&&o(y,w,I)}}forEachPreviousItem(o){let a;for(a=this._previousItHead;null!==a;a=a._nextPrevious)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachMovedItem(o){let a;for(a=this._movesHead;null!==a;a=a._nextMoved)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}forEachIdentityChange(o){let a;for(a=this._identityChangesHead;null!==a;a=a._nextIdentityChange)o(a)}diff(o){if(null==o&&(o=[]),!bf(o))throw new Z(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,y,a=this._itHead,l=!1;if(Array.isArray(o)){this.length=o.length;for(let w=0;w<this.length;w++)f=o[w],y=this._trackByFn(w,f),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,f,y,w)),Object.is(a.item,f)||this._addIdentityChange(a,f)):(a=this._mismatch(a,f,y,w),l=!0),a=a._next}else d=0,function qb(s,o){if(Array.isArray(s))for(let a=0;a<s.length;a++)o(s[a]);else{const a=s[Aa()]();let l;for(;!(l=a.next()).done;)o(l.value)}}(o,w=>{y=this._trackByFn(d,w),null!==a&&Object.is(a.trackById,y)?(l&&(a=this._verifyReinsertion(a,w,y,d)),Object.is(a.item,w)||this._addIdentityChange(a,w)):(a=this._mismatch(a,w,y,d),l=!0),a=a._next,d++}),this.length=d;return this._truncate(a),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,a,l,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(l,d))?(Object.is(o.item,a)||this._addIdentityChange(o,a),this._moveAfter(o,f,d)):o=this._addAfter(new rA(a,l),f,d),o}_verifyReinsertion(o,a,l,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(l,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const a=o._next;this._addToRemovals(this._unlink(o)),o=a}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,a,l){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,a,l),this._addToMoves(o,l),o}_moveAfter(o,a,l){return this._unlink(o),this._insertAfter(o,a,l),this._addToMoves(o,l),o}_addAfter(o,a,l){return this._insertAfter(o,a,l),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,a,l){const d=null===a?this._itHead:a._next;return o._next=d,o._prev=a,null===d?this._itTail=o:d._prev=o,null===a?this._itHead=o:a._next=o,null===this._linkedRecords&&(this._linkedRecords=new KD),this._linkedRecords.put(o),o.currentIndex=l,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const a=o._prev,l=o._next;return null===a?this._itHead=l:a._next=l,null===l?this._itTail=a:l._prev=a,o}_addToMoves(o,a){return o.previousIndex===a||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new KD),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,a){return o.item=a,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class rA{constructor(o,a){this.item=o,this.trackById=a,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class b_{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,a){let l;for(l=this._head;null!==l;l=l._nextDup)if((null===a||a<=l.currentIndex)&&Object.is(l.trackById,o))return l;return null}remove(o){const a=o._prevDup,l=o._nextDup;return null===a?this._head=l:a._nextDup=l,null===l?this._tail=a:l._prevDup=a,null===this._head}}class KD{constructor(){this.map=new Map}put(o){const a=o.trackById;let l=this.map.get(a);l||(l=new b_,this.map.set(a,l)),l.add(o)}get(o,a){const d=this.map.get(o);return d?d.get(o,a):null}remove(o){const a=o.trackById;return this.map.get(a).remove(o)&&this.map.delete(a),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function Sp(s,o,a){const l=s.previousIndex;if(null===l)return l;let d=0;return a&&l<a.length&&(d=a[l]),l+o+d}class YD{constructor(){}supports(o){return o instanceof Map||P0(o)}create(){return new S_}}class S_{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let a;for(a=this._mapHead;null!==a;a=a._next)o(a)}forEachPreviousItem(o){let a;for(a=this._previousMapHead;null!==a;a=a._nextPrevious)o(a)}forEachChangedItem(o){let a;for(a=this._changesHead;null!==a;a=a._nextChanged)o(a)}forEachAddedItem(o){let a;for(a=this._additionsHead;null!==a;a=a._nextAdded)o(a)}forEachRemovedItem(o){let a;for(a=this._removalsHead;null!==a;a=a._nextRemoved)o(a)}diff(o){if(o){if(!(o instanceof Map||P0(o)))throw new Z(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let a=this._mapHead;if(this._appendAfter=null,this._forEach(o,(l,d)=>{if(a&&a.key===d)this._maybeAddToChanges(a,l),this._appendAfter=a,a=a._next;else{const f=this._getOrCreateRecordForKey(d,l);a=this._insertBeforeOrAppend(a,f)}}),a){a._prev&&(a._prev._next=null),this._removalsHead=a;for(let l=a;null!==l;l=l._nextRemoved)l===this._mapHead&&(this._mapHead=null),this._records.delete(l.key),l._nextRemoved=l._next,l.previousValue=l.currentValue,l.currentValue=null,l._prev=null,l._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,a){if(o){const l=o._prev;return a._next=o,a._prev=l,o._prev=a,l&&(l._next=a),o===this._mapHead&&(this._mapHead=a),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=a,a._prev=this._appendAfter):this._mapHead=a,this._appendAfter=a,null}_getOrCreateRecordForKey(o,a){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,a);const f=d._prev,y=d._next;return f&&(f._next=y),y&&(y._prev=f),d._next=null,d._prev=null,d}const l=new iA(o);return this._records.set(o,l),l.currentValue=a,this._addToAdditions(l),l}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,a){Object.is(a,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=a,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,a){o instanceof Map?o.forEach(a):Object.keys(o).forEach(l=>a(o[l],l))}}class iA{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Tp(){return new T_([new bp])}let T_=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(null!=l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||Tp()),deps:[[s,new it,new Os]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(null!=l)return l;throw new Z(901,!1)}}return s.\u0275prov=et({token:s,providedIn:"root",factory:Tp}),s})();function XD(){return new md([new YD])}let md=(()=>{class s{constructor(a){this.factories=a}static create(a,l){if(l){const d=l.factories.slice();a=a.concat(d)}return new s(a)}static extend(a){return{provide:s,useFactory:l=>s.create(a,l||XD()),deps:[[s,new it,new Os]]}}find(a){const l=this.factories.find(d=>d.supports(a));if(l)return l;throw new Z(901,!1)}}return s.\u0275prov=et({token:s,providedIn:"root",factory:XD}),s})();const x_=m_(null,"core",[]);let oA=(()=>{class s{constructor(a){}}return s.\u0275fac=function(a){return new(a||s)(Oe(v_))},s.\u0275mod=Js({type:s}),s.\u0275inj=ni({}),s})();function M_(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}},3942:(Qe,_e,R)=>{R.d(_e,{Z:()=>Be});var h=R(2090),k=R(4859),J=R(9681),ae=R(1877);class he{constructor(Z,ve){this._delegate=Z,this.firebase=ve,(0,J._addComponent)(Z,new k.wA("app-compat",()=>this,"PUBLIC")),this.container=Z.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Z){this._delegate.automaticDataCollectionEnabled=Z}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Z=>{this._delegate.checkDestroyed(),Z()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,J.deleteApp)(this._delegate)))}_getService(Z,ve=J._DEFAULT_ENTRY_NAME){var ge;this._delegate.checkDestroyed();const Ee=this._delegate.container.getProvider(Z);return!Ee.isInitialized()&&"EXPLICIT"===(null===(ge=Ee.getComponent())||void 0===ge?void 0:ge.instantiationMode)&&Ee.initialize(),Ee.getImmediate({identifier:ve})}_removeServiceInstance(Z,ve=J._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Z).clearInstance(ve)}_addComponent(Z){(0,J._addComponent)(this._delegate,Z)}_addOrOverwriteComponent(Z){(0,J._addOrOverwriteComponent)(this._delegate,Z)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Re=new h.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function Ce(){const He=function ye(He){const Z={},ve={__esModule:!0,initializeApp:function Se(W,Q={}){const ue=J.initializeApp(W,Q);if((0,h.r3)(Z,ue.name))return Z[ue.name];const j=new He(ue,ve);return Z[ue.name]=j,j},app:Ee,registerVersion:J.registerVersion,setLogLevel:J.setLogLevel,onLog:J.onLog,apps:null,SDK_VERSION:J.SDK_VERSION,INTERNAL:{registerComponent:function pe(W){const Q=W.name,ue=Q.replace("-compat","");if(J._registerComponent(W)&&"PUBLIC"===W.type){const j=(B=Ee())=>{if("function"!=typeof B[ue])throw Re.create("invalid-app-argument",{appName:Q});return B[ue]()};void 0!==W.serviceProps&&(0,h.ZB)(j,W.serviceProps),ve[ue]=j,He.prototype[ue]=function(...B){return this._getService.bind(this,Q).apply(this,W.multipleInstances?B:[])}}return"PUBLIC"===W.type?ve[ue]:null},removeApp:function ge(W){delete Z[W]},useAsService:function Me(W,Q){return"serverAuth"===Q?null:Q},modularAPIs:J}};function Ee(W){if(!(0,h.r3)(Z,W=W||J._DEFAULT_ENTRY_NAME))throw Re.create("no-app",{appName:W});return Z[W]}return ve.default=ve,Object.defineProperty(ve,"apps",{get:function me(){return Object.keys(Z).map(W=>Z[W])}}),Ee.App=He,ve}(he);return He.INTERNAL=Object.assign(Object.assign({},He.INTERNAL),{createFirebaseNamespace:Ce,extendNamespace:function Z(ve){(0,h.ZB)(He,ve)},createSubscribe:h.ne,ErrorFactory:h.LL,deepExtend:h.ZB}),He}(),L=new ae.Yd("@firebase/app-compat");if((0,h.jU)()&&void 0!==self.firebase){L.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const He=self.firebase.SDK_VERSION;He&&He.indexOf("LITE")>=0&&L.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Be=F;!function be(He){(0,J.registerVersion)("@firebase/app-compat","0.2.1",He)}()},9681:(Qe,_e,R)=>{R.r(_e),R.d(_e,{FirebaseError:()=>ae.ZR,SDK_VERSION:()=>Zo,_DEFAULT_ENTRY_NAME:()=>Jt,_addComponent:()=>Wt,_addOrOverwriteComponent:()=>ur,_apps:()=>St,_clearComponents:()=>ni,_components:()=>st,_getProvider:()=>et,_registerComponent:()=>Lt,_removeServiceInstance:()=>gs,deleteApp:()=>_s,getApp:()=>Ci,getApps:()=>zi,initializeApp:()=>ys,onLog:()=>rt,registerVersion:()=>vr,setLogLevel:()=>bi});var h=R(5861),k=R(4859),J=R(1877),ae=R(2090),he=R(8766);class ne{constructor(ce){this.container=ce}getPlatformInfoString(){return this.container.getProviders().map(Ue=>{if(function Re(Oe){return"VERSION"===Oe.getComponent()?.type}(Ue)){const nt=Ue.getImmediate();return`${nt.library}/${nt.version}`}return null}).filter(Ue=>Ue).join(" ")}}const ye="@firebase/app",F=new J.Yd("@firebase/app"),Jt="[DEFAULT]",ct={[ye]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},St=new Map,st=new Map;function Wt(Oe,ce){try{Oe.container.addComponent(ce)}catch(Ue){F.debug(`Component ${ce.name} failed to register with FirebaseApp ${Oe.name}`,Ue)}}function ur(Oe,ce){Oe.container.addOrOverwriteComponent(ce)}function Lt(Oe){const ce=Oe.name;if(st.has(ce))return F.debug(`There were multiple attempts to register component ${ce}.`),!1;st.set(ce,Oe);for(const Ue of St.values())Wt(Ue,Oe);return!0}function et(Oe,ce){const Ue=Oe.container.getProvider("heartbeat").getImmediate({optional:!0});return Ue&&Ue.triggerHeartbeat(),Oe.container.getProvider(ce)}function gs(Oe,ce,Ue=Jt){et(Oe,ce).clearInstance(Ue)}function ni(){st.clear()}const mn=new ae.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class ms{constructor(ce,Ue,nt){this._isDeleted=!1,this._options=Object.assign({},ce),this._config=Object.assign({},Ue),this._name=Ue.name,this._automaticDataCollectionEnabled=Ue.automaticDataCollectionEnabled,this._container=nt,this.container.addComponent(new k.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(ce){this.checkDestroyed(),this._automaticDataCollectionEnabled=ce}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(ce){this._isDeleted=ce}checkDestroyed(){if(this.isDeleted)throw mn.create("app-deleted",{appName:this._name})}}const Zo="9.16.0";function ys(Oe,ce={}){let Ue=Oe;"object"!=typeof ce&&(ce={name:ce});const nt=Object.assign({name:Jt,automaticDataCollectionEnabled:!1},ce),mt=nt.name;if("string"!=typeof mt||!mt)throw mn.create("bad-app-name",{appName:String(mt)});if(Ue||(Ue=(0,ae.aH)()),!Ue)throw mn.create("no-options");const Nt=St.get(mt);if(Nt){if((0,ae.vZ)(Ue,Nt.options)&&(0,ae.vZ)(nt,Nt.config))return Nt;throw mn.create("duplicate-app",{appName:mt})}const N=new k.H0(mt);for(const U of st.values())N.addComponent(U);const O=new ms(Ue,nt,N);return St.set(mt,O),O}function Ci(Oe=Jt){const ce=St.get(Oe);if(!ce&&Oe===Jt)return ys();if(!ce)throw mn.create("no-app",{appName:Oe});return ce}function zi(){return Array.from(St.values())}function _s(Oe){return cn.apply(this,arguments)}function cn(){return(cn=(0,h.Z)(function*(Oe){const ce=Oe.name;St.has(ce)&&(St.delete(ce),yield Promise.all(Oe.container.getProviders().map(Ue=>Ue.delete())),Oe.isDeleted=!0)})).apply(this,arguments)}function vr(Oe,ce,Ue){var nt;let mt=null!==(nt=ct[Oe])&&void 0!==nt?nt:Oe;Ue&&(mt+=`-${Ue}`);const Nt=mt.match(/\s|\//),N=ce.match(/\s|\//);if(Nt||N){const O=[`Unable to register library "${mt}" with version "${ce}":`];return Nt&&O.push(`library name "${mt}" contains illegal characters (whitespace or "/")`),Nt&&N&&O.push("and"),N&&O.push(`version name "${ce}" contains illegal characters (whitespace or "/")`),void F.warn(O.join(" "))}Lt(new k.wA(`${mt}-version`,()=>({library:mt,version:ce}),"VERSION"))}function rt(Oe,ce){if(null!==Oe&&"function"!=typeof Oe)throw mn.create("invalid-log-argument");(0,J.Am)(Oe,ce)}function bi(Oe){(0,J.Ub)(Oe)}const wr="firebase-heartbeat-store";let Wi=null;function ft(){return Wi||(Wi=(0,he.X3)("firebase-heartbeat-database",1,{upgrade:(Oe,ce)=>{0===ce&&Oe.createObjectStore(wr)}}).catch(Oe=>{throw mn.create("idb-open",{originalErrorMessage:Oe.message})})),Wi}function dt(){return(dt=(0,h.Z)(function*(Oe){try{return(yield ft()).transaction(wr).objectStore(wr).get(In(Oe))}catch(ce){if(ce instanceof ae.ZR)F.warn(ce.message);else{const Ue=mn.create("idb-get",{originalErrorMessage:ce?.message});F.warn(Ue.message)}}})).apply(this,arguments)}function Jn(Oe,ce){return er.apply(this,arguments)}function er(){return(er=(0,h.Z)(function*(Oe,ce){try{const nt=(yield ft()).transaction(wr,"readwrite");return yield nt.objectStore(wr).put(ce,In(Oe)),nt.done}catch(Ue){if(Ue instanceof ae.ZR)F.warn(Ue.message);else{const nt=mn.create("idb-set",{originalErrorMessage:Ue?.message});F.warn(nt.message)}}})).apply(this,arguments)}function In(Oe){return`${Oe.name}!${Oe.options.appId}`}class qi{constructor(ce){this.container=ce,this._heartbeatsCache=null;const Ue=this.container.getProvider("app").getImmediate();this._storage=new Rt(Ue),this._heartbeatsCachePromise=this._storage.read().then(nt=>(this._heartbeatsCache=nt,nt))}triggerHeartbeat(){var ce=this;return(0,h.Z)(function*(){const nt=ce.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),mt=qt();if(null===ce._heartbeatsCache&&(ce._heartbeatsCache=yield ce._heartbeatsCachePromise),ce._heartbeatsCache.lastSentHeartbeatDate!==mt&&!ce._heartbeatsCache.heartbeats.some(Nt=>Nt.date===mt))return ce._heartbeatsCache.heartbeats.push({date:mt,agent:nt}),ce._heartbeatsCache.heartbeats=ce._heartbeatsCache.heartbeats.filter(Nt=>{const N=new Date(Nt.date).valueOf();return Date.now()-N<=2592e6}),ce._storage.overwrite(ce._heartbeatsCache)})()}getHeartbeatsHeader(){var ce=this;return(0,h.Z)(function*(){if(null===ce._heartbeatsCache&&(yield ce._heartbeatsCachePromise),null===ce._heartbeatsCache||0===ce._heartbeatsCache.heartbeats.length)return"";const Ue=qt(),{heartbeatsToSend:nt,unsentEntries:mt}=function Ko(Oe,ce=1024){const Ue=[];let nt=Oe.slice();for(const mt of Oe){const Nt=Ue.find(N=>N.agent===mt.agent);if(Nt){if(Nt.dates.push(mt.date),ri(Ue)>ce){Nt.dates.pop();break}}else if(Ue.push({agent:mt.agent,dates:[mt.date]}),ri(Ue)>ce){Ue.pop();break}nt=nt.slice(1)}return{heartbeatsToSend:Ue,unsentEntries:nt}}(ce._heartbeatsCache.heartbeats),Nt=(0,ae.L)(JSON.stringify({version:2,heartbeats:nt}));return ce._heartbeatsCache.lastSentHeartbeatDate=Ue,mt.length>0?(ce._heartbeatsCache.heartbeats=mt,yield ce._storage.overwrite(ce._heartbeatsCache)):(ce._heartbeatsCache.heartbeats=[],ce._storage.overwrite(ce._heartbeatsCache)),Nt})()}}function qt(){return(new Date).toISOString().substring(0,10)}class Rt{constructor(ce){this.app=ce,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,h.Z)(function*(){return!!(0,ae.hl)()&&(0,ae.eu)().then(()=>!0).catch(()=>!1)})()}read(){var ce=this;return(0,h.Z)(function*(){return(yield ce._canUseIndexedDBPromise)&&(yield function Ye(Oe){return dt.apply(this,arguments)}(ce.app))||{heartbeats:[]}})()}overwrite(ce){var Ue=this;return(0,h.Z)(function*(){var nt;if(yield Ue._canUseIndexedDBPromise){const Nt=yield Ue.read();return Jn(Ue.app,{lastSentHeartbeatDate:null!==(nt=ce.lastSentHeartbeatDate)&&void 0!==nt?nt:Nt.lastSentHeartbeatDate,heartbeats:ce.heartbeats})}})()}add(ce){var Ue=this;return(0,h.Z)(function*(){var nt;if(yield Ue._canUseIndexedDBPromise){const Nt=yield Ue.read();return Jn(Ue.app,{lastSentHeartbeatDate:null!==(nt=ce.lastSentHeartbeatDate)&&void 0!==nt?nt:Nt.lastSentHeartbeatDate,heartbeats:[...Nt.heartbeats,...ce.heartbeats]})}})()}}function ri(Oe){return(0,ae.L)(JSON.stringify({version:2,heartbeats:Oe})).length}!function Zi(Oe){Lt(new k.wA("platform-logger",ce=>new ne(ce),"PRIVATE")),Lt(new k.wA("heartbeat",ce=>new qi(ce),"PRIVATE")),vr(ye,"0.9.1",Oe),vr(ye,"0.9.1","esm2017"),vr("fire-js","")}("")},4859:(Qe,_e,R)=>{R.d(_e,{H0:()=>ye,wA:()=>J});var h=R(5861),k=R(2090);class J{constructor(F,L,H){this.name=F,this.instanceFactory=L,this.type=H,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(F){return this.instantiationMode=F,this}setMultipleInstances(F){return this.multipleInstances=F,this}setServiceProps(F){return this.serviceProps=F,this}setInstanceCreatedCallback(F){return this.onInstanceCreated=F,this}}const ae="[DEFAULT]";class he{constructor(F,L){this.name=F,this.container=L,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(F){const L=this.normalizeInstanceIdentifier(F);if(!this.instancesDeferred.has(L)){const H=new k.BH;if(this.instancesDeferred.set(L,H),this.isInitialized(L)||this.shouldAutoInitialize())try{const ke=this.getOrInitializeService({instanceIdentifier:L});ke&&H.resolve(ke)}catch{}}return this.instancesDeferred.get(L).promise}getImmediate(F){var L;const H=this.normalizeInstanceIdentifier(F?.identifier),ke=null!==(L=F?.optional)&&void 0!==L&&L;if(!this.isInitialized(H)&&!this.shouldAutoInitialize()){if(ke)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:H})}catch(be){if(ke)return null;throw be}}getComponent(){return this.component}setComponent(F){if(F.name!==this.name)throw Error(`Mismatching Component ${F.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=F,this.shouldAutoInitialize()){if(function Re(Ce){return"EAGER"===Ce.instantiationMode}(F))try{this.getOrInitializeService({instanceIdentifier:ae})}catch{}for(const[L,H]of this.instancesDeferred.entries()){const ke=this.normalizeInstanceIdentifier(L);try{const be=this.getOrInitializeService({instanceIdentifier:ke});H.resolve(be)}catch{}}}}clearInstance(F=ae){this.instancesDeferred.delete(F),this.instancesOptions.delete(F),this.instances.delete(F)}delete(){var F=this;return(0,h.Z)(function*(){const L=Array.from(F.instances.values());yield Promise.all([...L.filter(H=>"INTERNAL"in H).map(H=>H.INTERNAL.delete()),...L.filter(H=>"_delete"in H).map(H=>H._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(F=ae){return this.instances.has(F)}getOptions(F=ae){return this.instancesOptions.get(F)||{}}initialize(F={}){const{options:L={}}=F,H=this.normalizeInstanceIdentifier(F.instanceIdentifier);if(this.isInitialized(H))throw Error(`${this.name}(${H}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const ke=this.getOrInitializeService({instanceIdentifier:H,options:L});for(const[be,Be]of this.instancesDeferred.entries())H===this.normalizeInstanceIdentifier(be)&&Be.resolve(ke);return ke}onInit(F,L){var H;const ke=this.normalizeInstanceIdentifier(L),be=null!==(H=this.onInitCallbacks.get(ke))&&void 0!==H?H:new Set;be.add(F),this.onInitCallbacks.set(ke,be);const Be=this.instances.get(ke);return Be&&F(Be,ke),()=>{be.delete(F)}}invokeOnInitCallbacks(F,L){const H=this.onInitCallbacks.get(L);if(H)for(const ke of H)try{ke(F,L)}catch{}}getOrInitializeService({instanceIdentifier:F,options:L={}}){let H=this.instances.get(F);if(!H&&this.component&&(H=this.component.instanceFactory(this.container,{instanceIdentifier:(Ce=F,Ce===ae?void 0:Ce),options:L}),this.instances.set(F,H),this.instancesOptions.set(F,L),this.invokeOnInitCallbacks(H,F),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,F,H)}catch{}var Ce;return H||null}normalizeInstanceIdentifier(F=ae){return this.component?this.component.multipleInstances?F:ae:F}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class ye{constructor(F){this.name=F,this.providers=new Map}addComponent(F){const L=this.getProvider(F.name);if(L.isComponentSet())throw new Error(`Component ${F.name} has already been registered with ${this.name}`);L.setComponent(F)}addOrOverwriteComponent(F){this.getProvider(F.name).isComponentSet()&&this.providers.delete(F.name),this.addComponent(F)}getProvider(F){if(this.providers.has(F))return this.providers.get(F);const L=new he(F,this);return this.providers.set(F,L),L}getProviders(){return Array.from(this.providers.values())}}},1877:(Qe,_e,R)=>{R.d(_e,{Am:()=>Ce,Ub:()=>ye,Yd:()=>Re,in:()=>k});const h=[];var k=(()=>{return(F=k||(k={}))[F.DEBUG=0]="DEBUG",F[F.VERBOSE=1]="VERBOSE",F[F.INFO=2]="INFO",F[F.WARN=3]="WARN",F[F.ERROR=4]="ERROR",F[F.SILENT=5]="SILENT",k;var F})();const J={debug:k.DEBUG,verbose:k.VERBOSE,info:k.INFO,warn:k.WARN,error:k.ERROR,silent:k.SILENT},ae=k.INFO,he={[k.DEBUG]:"log",[k.VERBOSE]:"log",[k.INFO]:"info",[k.WARN]:"warn",[k.ERROR]:"error"},ne=(F,L,...H)=>{if(L<F.logLevel)return;const ke=(new Date).toISOString(),be=he[L];if(!be)throw new Error(`Attempted to log a message with an invalid logType (value: ${L})`);console[be](`[${ke}]  ${F.name}:`,...H)};class Re{constructor(L){this.name=L,this._logLevel=ae,this._logHandler=ne,this._userLogHandler=null,h.push(this)}get logLevel(){return this._logLevel}set logLevel(L){if(!(L in k))throw new TypeError(`Invalid value "${L}" assigned to \`logLevel\``);this._logLevel=L}setLogLevel(L){this._logLevel="string"==typeof L?J[L]:L}get logHandler(){return this._logHandler}set logHandler(L){if("function"!=typeof L)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=L}get userLogHandler(){return this._userLogHandler}set userLogHandler(L){this._userLogHandler=L}debug(...L){this._userLogHandler&&this._userLogHandler(this,k.DEBUG,...L),this._logHandler(this,k.DEBUG,...L)}log(...L){this._userLogHandler&&this._userLogHandler(this,k.VERBOSE,...L),this._logHandler(this,k.VERBOSE,...L)}info(...L){this._userLogHandler&&this._userLogHandler(this,k.INFO,...L),this._logHandler(this,k.INFO,...L)}warn(...L){this._userLogHandler&&this._userLogHandler(this,k.WARN,...L),this._logHandler(this,k.WARN,...L)}error(...L){this._userLogHandler&&this._userLogHandler(this,k.ERROR,...L),this._logHandler(this,k.ERROR,...L)}}function ye(F){h.forEach(L=>{L.setLogLevel(F)})}function Ce(F,L){for(const H of h){let ke=null;L&&L.level&&(ke=J[L.level]),H.userLogHandler=null===F?null:(be,Be,...He)=>{const Z=He.map(ve=>{if(null==ve)return null;if("string"==typeof ve)return ve;if("number"==typeof ve||"boolean"==typeof ve)return ve.toString();if(ve instanceof Error)return ve.message;try{return JSON.stringify(ve)}catch{return null}}).filter(ve=>ve).join(" ");Be>=(ke??be.logLevel)&&F({level:k[Be].toLowerCase(),message:Z,args:He,type:be.name})}}}},9260:(Qe,_e,R)=>{R.d(_e,{Z:()=>h.Z});var h=R(3942);h.Z.registerVersion("firebase","9.16.0","app-compat")},8766:(Qe,_e,R)=>{R.d(_e,{Lj:()=>Se,X3:()=>Ee});var h=R(5861);let J,ae;const Re=new WeakMap,ye=new WeakMap,Ce=new WeakMap,F=new WeakMap,L=new WeakMap;let be={get(Q,ue,j){if(Q instanceof IDBTransaction){if("done"===ue)return ye.get(Q);if("objectStoreNames"===ue)return Q.objectStoreNames||Ce.get(Q);if("store"===ue)return j.objectStoreNames[1]?void 0:j.objectStore(j.objectStoreNames[0])}return ve(Q[ue])},set:(Q,ue,j)=>(Q[ue]=j,!0),has:(Q,ue)=>Q instanceof IDBTransaction&&("done"===ue||"store"===ue)||ue in Q};function Z(Q){return"function"==typeof Q?function He(Q){return Q!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ne(){return ae||(ae=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(Q)?function(...ue){return Q.apply(ge(this),ue),ve(Re.get(this))}:function(...ue){return ve(Q.apply(ge(this),ue))}:function(ue,...j){const B=Q.call(ge(this),ue,...j);return Ce.set(B,ue.sort?ue.sort():[ue]),ve(B)}}(Q):(Q instanceof IDBTransaction&&function ke(Q){if(ye.has(Q))return;const ue=new Promise((j,B)=>{const te=()=>{Q.removeEventListener("complete",K),Q.removeEventListener("error",Te),Q.removeEventListener("abort",Te)},K=()=>{j(),te()},Te=()=>{B(Q.error||new DOMException("AbortError","AbortError")),te()};Q.addEventListener("complete",K),Q.addEventListener("error",Te),Q.addEventListener("abort",Te)});ye.set(Q,ue)}(Q),((Q,ue)=>ue.some(j=>Q instanceof j))(Q,function he(){return J||(J=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(Q,be):Q)}function ve(Q){if(Q instanceof IDBRequest)return function H(Q){const ue=new Promise((j,B)=>{const te=()=>{Q.removeEventListener("success",K),Q.removeEventListener("error",Te)},K=()=>{j(ve(Q.result)),te()},Te=()=>{B(Q.error),te()};Q.addEventListener("success",K),Q.addEventListener("error",Te)});return ue.then(j=>{j instanceof IDBCursor&&Re.set(j,Q)}).catch(()=>{}),L.set(ue,Q),ue}(Q);if(F.has(Q))return F.get(Q);const ue=Z(Q);return ue!==Q&&(F.set(Q,ue),L.set(ue,Q)),ue}const ge=Q=>L.get(Q);function Ee(Q,ue,{blocked:j,upgrade:B,blocking:te,terminated:K}={}){const Te=indexedDB.open(Q,ue),xe=ve(Te);return B&&Te.addEventListener("upgradeneeded",Ke=>{B(ve(Te.result),Ke.oldVersion,Ke.newVersion,ve(Te.transaction))}),j&&Te.addEventListener("blocked",()=>j()),xe.then(Ke=>{K&&Ke.addEventListener("close",()=>K()),te&&Ke.addEventListener("versionchange",()=>te())}).catch(()=>{}),xe}function Se(Q,{blocked:ue}={}){const j=indexedDB.deleteDatabase(Q);return ue&&j.addEventListener("blocked",()=>ue()),ve(j).then(()=>{})}const me=["get","getKey","getAll","getAllKeys","count"],pe=["put","add","delete","clear"],Me=new Map;function W(Q,ue){if(!(Q instanceof IDBDatabase)||ue in Q||"string"!=typeof ue)return;if(Me.get(ue))return Me.get(ue);const j=ue.replace(/FromIndex$/,""),B=ue!==j,te=pe.includes(j);if(!(j in(B?IDBIndex:IDBObjectStore).prototype)||!te&&!me.includes(j))return;const K=function(){var Te=(0,h.Z)(function*(xe,...Ke){const $t=this.transaction(xe,te?"readwrite":"readonly");let Jt=$t.store;return B&&(Jt=Jt.index(Ke.shift())),(yield Promise.all([Jt[j](...Ke),te&&$t.done]))[0]});return function(Ke){return Te.apply(this,arguments)}}();return Me.set(ue,K),K}!function Be(Q){be=Q(be)}(Q=>({...Q,get:(ue,j,B)=>W(ue,j)||Q.get(ue,j,B),has:(ue,j)=>!!W(ue,j)||Q.has(ue,j)}))},5861:(Qe,_e,R)=>{function h(J,ae,he,ne,Re,ye,Ce){try{var F=J[ye](Ce),L=F.value}catch(H){return void he(H)}F.done?ae(L):Promise.resolve(L).then(ne,Re)}function k(J){return function(){var ae=this,he=arguments;return new Promise(function(ne,Re){var ye=J.apply(ae,he);function Ce(L){h(ye,ne,Re,Ce,F,"next",L)}function F(L){h(ye,ne,Re,Ce,F,"throw",L)}Ce(void 0)})}}R.d(_e,{Z:()=>k})}},Qe=>{Qe(Qe.s=6893)}]);